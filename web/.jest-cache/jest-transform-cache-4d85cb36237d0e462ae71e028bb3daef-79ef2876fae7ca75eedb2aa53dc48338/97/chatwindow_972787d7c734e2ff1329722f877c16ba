6856e117eeff1110b2352f450e91f234
"use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return ChatWindow;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _button = require("./ui/button");
const _input = require("./ui/input");
const _lucidereact = require("lucide-react");
const _useConversationorchestrator = require("../hooks/useConversationorchestrator");
const _debuglogger = require("../lib/debug-logger");
// Create a logger for this component
const logger = (0, _debuglogger.createLogger)("ChatWindow");
function ChatWindow({ conversation, agents, onSendMessage, onEndConversation }) {
    const [message, setMessage] = (0, _react.useState)("");
    const [userAgentId, setUserAgentId] = (0, _react.useState)("user");
    const messagesContainerRef = (0, _react.useRef)(null);
    const [localError, setLocalError] = (0, _react.useState)(null);
    const [isSending, setIsSending] = (0, _react.useState)(false);
    const [processingMessageMap, setProcessingMessageMap] = (0, _react.useState)({});
    const processedMessageRef = (0, _react.useRef)(null);
    // Use the conversation orchestrator with the onSendMessage callback
    const { queueAgentResponse, processNewMessage, cancelAllResponses, processingAgents, queuedAgents, typingAgents, processingMessageIds, isProcessing, error: orchestratorError } = (0, _useConversationorchestrator.useConversationOrchestrator)(conversation, agents, {
        autoSelectRespondents: true,
        responseDelay: [
            800,
            2000
        ]
    }, onSendMessage);
    // Update the processing message map to prevent UI flashing
    (0, _react.useEffect)(()=>{
        // Create a stable map of which messages are being processed
        setProcessingMessageMap((prev)=>{
            const newMap = {
                ...prev
            };
            // Add new processing messages
            for (const messageId of processingMessageIds){
                newMap[messageId] = true;
            }
            // Remove messages that are no longer being processed
            // Only if there are no typing agents (to prevent flashing)
            if (Object.keys(typingAgents).length === 0 && !isProcessing) {
                for (const messageId of Object.keys(newMap)){
                    if (!processingMessageIds.includes(messageId)) {
                        delete newMap[messageId];
                    }
                }
            }
            return newMap;
        });
    }, [
        processingMessageIds,
        typingAgents,
        isProcessing
    ]);
    // Combine local and orchestrator errors
    const error = localError || orchestratorError;
    // Handle sending a message
    const handleSendMessage = ()=>{
        if (message.trim() && conversation && !isSending) {
            setIsSending(true);
            setLocalError(null); // Clear any previous local errors
            // Create the new message
            const newMessage = {
                id: `msg-${Date.now()}`,
                content: message,
                senderId: userAgentId,
                timestamp: new Date()
            };
            // Clear the input first to provide immediate feedback
            const messageContent = message;
            setMessage("");
            try {
                // Send the message (this updates the conversation state)
                onSendMessage(messageContent, userAgentId);
                // Wait a brief moment to ensure the conversation state updates
                setTimeout(()=>{
                    try {
                        // Double-check that conversation still exists
                        if (!conversation) {
                            throw new Error("Conversation no longer exists");
                        }
                        logger.log(`Calling processNewMessage for message: ${newMessage.id}`);
                        // Process all messages, including conversation starters
                        processNewMessage(newMessage);
                    } catch (err) {
                        logger.error("Error processing message:", err);
                        setLocalError(`Failed to process message: ${err instanceof Error ? err.message : String(err)}`);
                    } finally{
                        setIsSending(false);
                    }
                }, 100);
            } catch (err) {
                logger.error("Error sending message:", err);
                setLocalError(`Failed to send message: ${err instanceof Error ? err.message : String(err)}`);
                setIsSending(false);
                // Restore the message in the input field so the user doesn't lose their text
                setMessage(messageContent);
            }
        }
    };
    // Check for direct mentions to prompt immediate responses
    (0, _react.useEffect)(()=>{
        if (!conversation || !conversation.messages) return;
        const latestMessage = conversation.messages[conversation?.messages.length - 1];
        if (!latestMessage) return;
        // Create a ref to track if we've already processed this message
        if (processedMessageRef.current === latestMessage.id) return;
        // Log conversation starter messages
        if (latestMessage.metadata?.type === "conversation_starter") {
            logger.log("Detected conversation starter message:", {
                messageId: latestMessage.id,
                content: latestMessage.content.substring(0, 30) + "...",
                senderId: latestMessage.senderId,
                metadata: latestMessage.metadata
            });
            // If we're not already processing, trigger responses
            if (!isProcessing && !isSending) {
                logger.log("Triggering responses to conversation starter message");
                // Get all agents in the conversation except the sender
                const respondingAgents = agents.filter((agent)=>conversation.participants.includes(agent.id) && agent.id !== latestMessage.senderId);
                logger.log(`Found ${respondingAgents.length} agents to respond to conversation starter:`, respondingAgents.map((a)=>a.name));
                // Queue responses from all agents with slight delays
                respondingAgents.forEach((agent, index)=>{
                    logger.log(`Queueing response from ${agent.name} to conversation starter`);
                    queueAgentResponse(agent.id, {
                        messageToRespondTo: latestMessage,
                        responseDelay: 500 + index * 1000,
                        force: true
                    });
                });
                // Mark this message as processed
                processedMessageRef.current = latestMessage.id;
            } else {
                logger.log(`Not triggering responses to conversation starter: isProcessing=${isProcessing}, isSending=${isSending}`);
            }
        }
        // Also handle system prompts that are trying to restart a stalled conversation
        if (latestMessage.metadata?.type === "conversation_prompt" && latestMessage.senderId === "system") {
            logger.log("Detected conversation prompt message:", {
                messageId: latestMessage.id,
                content: latestMessage.content
            });
            // Extract the agent name from the message (format: "Agent X, what do you think...")
            const agentNameMatch = latestMessage.content.match(/^([^,]+),/);
            if (agentNameMatch) {
                const agentName = agentNameMatch[1].trim();
                const agent = agents.find((a)=>a.name === agentName);
                if (agent) {
                    logger.log(`Queueing response from ${agent.name} to conversation prompt`);
                    queueAgentResponse(agent.id, {
                        messageToRespondTo: latestMessage,
                        responseDelay: 500,
                        force: true
                    });
                    // Mark this message as processed
                    processedMessageRef.current = latestMessage.id;
                }
            }
        }
        // Skip if it's not a user message or we're already processing
        if (latestMessage.senderId !== "user" || isSending || isProcessing) return;
        // Check for direct mentions like "Agent 2, [message]" or "@Agent 2 [message]"
        const mentionMatch = latestMessage.content.match(/^(?:@?(.+?),?\s+)/i);
        if (!mentionMatch) return;
        const mentionedName = mentionMatch[1];
        // Find the mentioned agent
        const mentionedAgent = agents.find((agent)=>agent.name.toLowerCase() === mentionedName.toLowerCase() || agent.name.toLowerCase().startsWith(mentionedName.toLowerCase()));
        // If we found a matching agent and they're in the conversation, prioritize their response
        if (mentionedAgent && conversation.participants.includes(mentionedAgent.id)) {
            queueAgentResponse(mentionedAgent.id, {
                messageToRespondTo: latestMessage,
                responseDelay: 300,
                force: true
            });
            // Mark this message as processed
            processedMessageRef.current = latestMessage.id;
        }
    }, [
        conversation,
        agents,
        isSending,
        isProcessing,
        queueAgentResponse
    ]);
    // Scroll to bottom when messages change
    (0, _react.useEffect)(()=>{
        if (messagesContainerRef.current) {
            messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight;
        }
    }, [
        conversation?.messages,
        typingAgents
    ]);
    // Get agent by ID helper
    const getAgentById = (id)=>{
        return agents.find((agent)=>agent.id === id);
    };
    // Find message by ID
    const getMessageById = (id)=>{
        return conversation?.messages?.find((msg)=>msg.id === id);
    };
    // Clear error after 5 seconds
    (0, _react.useEffect)(()=>{
        if (localError) {
            const timer = setTimeout(()=>{
                setLocalError(null);
            }, 5000);
            return ()=>clearTimeout(timer);
        }
    }, [
        localError
    ]);
    // Force agents to respond if they haven't after a timeout
    (0, _react.useEffect)(()=>{
        if (!conversation || !conversation.messages || conversation.messages.length === 0 || isProcessing || isSending) return;
        // Get the latest message
        const latestMessage = conversation.messages[conversation.messages.length - 1];
        if (!latestMessage) return;
        // Only apply this to user-initiated conversations (not autonomous ones)
        // And only when the latest message is from the user
        if (latestMessage.senderId === "user" && !isProcessing && !isSending && !conversation.isAutonomous) {
            const timer = setTimeout(()=>{
                // Only proceed if we're still not processing and the conversation exists
                if (!isProcessing && !isSending && conversation && conversation.participants && conversation.participants.length > 0) {
                    logger.log("No automatic responses detected, forcing agent responses");
                    // Get all agents in the conversation except the sender
                    const respondingAgents = agents.filter((agent)=>conversation.participants.includes(agent.id) && agent.id !== latestMessage.senderId);
                    // Queue responses from all agents
                    respondingAgents.forEach((agent)=>{
                        queueAgentResponse(agent.id, {
                            messageToRespondTo: latestMessage,
                            responseDelay: 500 + Math.random() * 1000,
                            force: true
                        });
                    });
                }
            }, 3000);
            return ()=>clearTimeout(timer);
        }
    }, [
        conversation?.messages,
        isProcessing,
        isSending,
        agents,
        conversation,
        queueAgentResponse
    ]);
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "flex flex-col h-full",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "p-4 border-b border-purple-800 bg-gradient-to-r from-purple-900/50 to-indigo-900/50 flex-shrink-0",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                        className: "text-xl font-semibold text-white",
                        children: "Chat"
                    }),
                    conversation && /*#__PURE__*/ (0, _jsxruntime.jsxs)(_button.Button, {
                        variant: "destructive",
                        size: "sm",
                        onClick: ()=>{
                            cancelAllResponses();
                            onEndConversation();
                        },
                        className: "flex items-center gap-1 mt-2",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.X, {
                                size: 16
                            }),
                            "End Conversation"
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                ref: messagesContainerRef,
                className: "flex-1 overflow-y-auto p-4",
                style: {
                    height: "calc(100vh - 200px)",
                    maxHeight: "calc(100vh - 200px)"
                },
                children: [
                    conversation && conversation.messages ? conversation.messages.length > 0 ? /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "space-y-4",
                        children: [
                            conversation.messages.map((msg)=>{
                                // Skip rendering messages that contain SKIP_RESPONSE
                                if (msg.content.includes("SKIP_RESPONSE")) {
                                    return null;
                                }
                                // Handle system messages differently
                                if (msg.metadata?.isSystemMessage) {
                                    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "flex flex-col",
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "py-2 px-3 bg-purple-900/30 rounded-md text-purple-200 text-sm text-center",
                                            children: msg.content
                                        })
                                    }, msg.id);
                                }
                                // Determine the sender name
                                let senderName = "Unknown";
                                let senderColor = "#888";
                                if (msg.senderId === "user") {
                                    senderName = "You";
                                    senderColor = "#ffffff";
                                } else if (msg.senderId === "system") {
                                    senderName = "Environment";
                                    senderColor = "#9333ea";
                                } else {
                                    const agent = getAgentById(msg.senderId);
                                    if (agent) {
                                        senderName = agent.name;
                                        senderColor = agent.color;
                                    }
                                }
                                const isBeingRespondedTo = processingMessageMap[msg.id];
                                return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex flex-col",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "flex items-center gap-2",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    className: "w-3 h-3 rounded-full",
                                                    style: {
                                                        backgroundColor: senderColor
                                                    }
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                    className: "font-semibold text-purple-100",
                                                    children: senderName
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                    className: "text-xs text-purple-300",
                                                    children: new Date(msg.timestamp).toLocaleTimeString()
                                                }),
                                                msg.metadata?.isGeneratedByLLM && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                    className: "text-xs bg-purple-800/50 px-1.5 py-0.5 rounded text-purple-200",
                                                    children: "AI"
                                                }),
                                                msg.metadata?.respondingTo && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                    className: "flex items-center text-xs text-purple-300",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.CornerDownRight, {
                                                            size: 12,
                                                            className: "mr-1"
                                                        }),
                                                        "responding to:",
                                                        " ",
                                                        getMessageById(msg.metadata.respondingTo) ? getMessageById(msg.metadata.respondingTo)?.content.substring(0, 20) + "..." : "a previous message"
                                                    ]
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "ml-5 mt-1 text-gray-100",
                                            children: msg.content
                                        }),
                                        isBeingRespondedTo && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "ml-5 mt-1 text-xs text-purple-300 flex items-center",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Loader2, {
                                                    size: 10,
                                                    className: "animate-spin mr-1"
                                                }),
                                                "Agents are responding to this message..."
                                            ]
                                        })
                                    ]
                                }, msg.id);
                            }),
                            Object.entries(typingAgents).map(([agentId, { text, messageId }])=>{
                                const agent = getAgentById(agentId);
                                if (!agent) return null;
                                const respondingToMessage = getMessageById(messageId);
                                return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex flex-col opacity-80",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "flex items-center gap-2",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    className: "w-3 h-3 rounded-full",
                                                    style: {
                                                        backgroundColor: agent.color
                                                    }
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                    className: "font-semibold",
                                                    children: agent.name
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Loader2, {
                                                    size: 14,
                                                    className: "animate-spin text-purple-300"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                    className: "text-xs text-purple-300",
                                                    children: "typing..."
                                                }),
                                                respondingToMessage && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                    className: "flex items-center text-xs text-purple-300",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.CornerDownRight, {
                                                            size: 12,
                                                            className: "mx-1"
                                                        }),
                                                        "re: ",
                                                        respondingToMessage.content.substring(0, 20),
                                                        "..."
                                                    ]
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "ml-5 mt-1 text-gray-100",
                                            children: text || "..."
                                        })
                                    ]
                                }, `typing-${agentId}`);
                            })
                        ]
                    }) : /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "text-center text-purple-300 py-8",
                        children: "No messages yet. Start the conversation by sending a message!"
                    }) : /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "text-center text-purple-300 py-8",
                        children: "No active conversation. Add agents to start one."
                    }),
                    error && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "mt-4 p-3 bg-red-900/30 border border-red-700 rounded-md text-red-200 text-sm",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-center gap-2 mb-1",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.AlertTriangle, {
                                        size: 16,
                                        className: "text-red-300"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        className: "font-semibold",
                                        children: "Error:"
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                children: error
                            })
                        ]
                    })
                ]
            }),
            conversation && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "p-4 border-t border-purple-800 bg-black/20 flex-shrink-0",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex gap-2 mb-2 items-center",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                className: "p-2 text-sm border border-purple-700 rounded-md bg-purple-950 text-white",
                                value: userAgentId,
                                onChange: (e)=>setUserAgentId(e.target.value),
                                disabled: isProcessing || isSending,
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                        value: "user",
                                        children: "You"
                                    }),
                                    agents.filter((agent)=>conversation.participants && conversation.participants.includes(agent.id)).map((agent)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                            value: agent.id,
                                            children: agent.name
                                        }, agent.id))
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_button.Button, {
                                variant: "outline",
                                size: "sm",
                                disabled: true,
                                className: "flex items-center gap-1 border-purple-700 bg-purple-950/30 text-purple-300 hover:bg-purple-900/50 hover:text-purple-200",
                                title: "Upload files (coming soon)",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Upload, {
                                        size: 14
                                    }),
                                    "Upload"
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex gap-2",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_input.Input, {
                                placeholder: "Type your message...",
                                value: message,
                                onChange: (e)=>setMessage(e.target.value),
                                onKeyDown: (e)=>{
                                    if (e.key === "Enter" && !e.shiftKey) {
                                        e.preventDefault();
                                        handleSendMessage();
                                    }
                                },
                                disabled: isProcessing || isSending,
                                className: "shadow-sm bg-purple-950/50 border-purple-700 text-white"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                                onClick: handleSendMessage,
                                disabled: isProcessing || isSending || !message.trim(),
                                className: "shadow-sm bg-purple-700 hover:bg-purple-600",
                                children: isSending ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Loader2, {
                                    size: 18,
                                    className: "animate-spin"
                                }) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Send, {
                                    size: 18
                                })
                            })
                        ]
                    }),
                    (isProcessing || isSending) && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "mt-2 text-xs text-purple-300 flex items-center",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Loader2, {
                                size: 12,
                                className: "animate-spin mr-1"
                            }),
                            isSending ? "Sending message..." : `Agents are responding (${processingAgents.length + queuedAgents.length} in queue)...`
                        ]
                    })
                ]
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0aGV3bW9yb25leS9idWlsZHMvRnJlZUFnZW50aWNzL3dlYi9jb21wb25lbnRzL2NoYXQtd2luZG93LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2lucHV0XCI7XG5pbXBvcnQgdHlwZSB7IEFnZW50LCBDb252ZXJzYXRpb24sIE1lc3NhZ2UgfSBmcm9tIFwiQC9saWIvdHlwZXNcIjtcbmltcG9ydCB7XG4gIFNlbmQsXG4gIFgsXG4gIExvYWRlcjIsXG4gIENvcm5lckRvd25SaWdodCxcbiAgQWxlcnRUcmlhbmdsZSxcbiAgVXBsb2FkLFxufSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDb252ZXJzYXRpb25PcmNoZXN0cmF0b3IgfSBmcm9tIFwiQC9ob29rcy91c2VDb252ZXJzYXRpb25vcmNoZXN0cmF0b3JcIjtcbmltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gXCJAL2xpYi9kZWJ1Zy1sb2dnZXJcIjtcblxuLy8gQ3JlYXRlIGEgbG9nZ2VyIGZvciB0aGlzIGNvbXBvbmVudFxuY29uc3QgbG9nZ2VyID0gY3JlYXRlTG9nZ2VyKFwiQ2hhdFdpbmRvd1wiKTtcblxuaW50ZXJmYWNlIENoYXRXaW5kb3dQcm9wcyB7XG4gIGNvbnZlcnNhdGlvbjogQ29udmVyc2F0aW9uIHwgbnVsbDtcbiAgYWdlbnRzOiBBZ2VudFtdO1xuICBvblNlbmRNZXNzYWdlOiAoY29udGVudDogc3RyaW5nLCBzZW5kZXJJZDogc3RyaW5nKSA9PiB2b2lkO1xuICBvbkVuZENvbnZlcnNhdGlvbjogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdFdpbmRvdyh7XG4gIGNvbnZlcnNhdGlvbixcbiAgYWdlbnRzLFxuICBvblNlbmRNZXNzYWdlLFxuICBvbkVuZENvbnZlcnNhdGlvbixcbn06IENoYXRXaW5kb3dQcm9wcykge1xuICBjb25zdCBbbWVzc2FnZSwgc2V0TWVzc2FnZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3VzZXJBZ2VudElkLCBzZXRVc2VyQWdlbnRJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBcInVzZXJcIj4oXCJ1c2VyXCIpO1xuICBjb25zdCBtZXNzYWdlc0NvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IFtsb2NhbEVycm9yLCBzZXRMb2NhbEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNTZW5kaW5nLCBzZXRJc1NlbmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJvY2Vzc2luZ01lc3NhZ2VNYXAsIHNldFByb2Nlc3NpbmdNZXNzYWdlTWFwXSA9IHVzZVN0YXRlPFxuICAgIFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+XG4gID4oe30pO1xuICBjb25zdCBwcm9jZXNzZWRNZXNzYWdlUmVmID0gdXNlUmVmPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIC8vIFVzZSB0aGUgY29udmVyc2F0aW9uIG9yY2hlc3RyYXRvciB3aXRoIHRoZSBvblNlbmRNZXNzYWdlIGNhbGxiYWNrXG4gIGNvbnN0IHtcbiAgICBxdWV1ZUFnZW50UmVzcG9uc2UsXG4gICAgcHJvY2Vzc05ld01lc3NhZ2UsXG4gICAgY2FuY2VsQWxsUmVzcG9uc2VzLFxuICAgIHByb2Nlc3NpbmdBZ2VudHMsXG4gICAgcXVldWVkQWdlbnRzLFxuICAgIHR5cGluZ0FnZW50cyxcbiAgICBwcm9jZXNzaW5nTWVzc2FnZUlkcyxcbiAgICBpc1Byb2Nlc3NpbmcsXG4gICAgZXJyb3I6IG9yY2hlc3RyYXRvckVycm9yLFxuICB9ID0gdXNlQ29udmVyc2F0aW9uT3JjaGVzdHJhdG9yKFxuICAgIGNvbnZlcnNhdGlvbixcbiAgICBhZ2VudHMsXG4gICAge1xuICAgICAgYXV0b1NlbGVjdFJlc3BvbmRlbnRzOiB0cnVlLFxuICAgICAgcmVzcG9uc2VEZWxheTogWzgwMCwgMjAwMF0sXG4gICAgfSxcbiAgICBvblNlbmRNZXNzYWdlLFxuICApO1xuXG4gIC8vIFVwZGF0ZSB0aGUgcHJvY2Vzc2luZyBtZXNzYWdlIG1hcCB0byBwcmV2ZW50IFVJIGZsYXNoaW5nXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQ3JlYXRlIGEgc3RhYmxlIG1hcCBvZiB3aGljaCBtZXNzYWdlcyBhcmUgYmVpbmcgcHJvY2Vzc2VkXG4gICAgc2V0UHJvY2Vzc2luZ01lc3NhZ2VNYXAoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IG5ld01hcCA9IHsgLi4ucHJldiB9O1xuXG4gICAgICAvLyBBZGQgbmV3IHByb2Nlc3NpbmcgbWVzc2FnZXNcbiAgICAgIGZvciAoY29uc3QgbWVzc2FnZUlkIG9mIHByb2Nlc3NpbmdNZXNzYWdlSWRzKSB7XG4gICAgICAgIG5ld01hcFttZXNzYWdlSWRdID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIG1lc3NhZ2VzIHRoYXQgYXJlIG5vIGxvbmdlciBiZWluZyBwcm9jZXNzZWRcbiAgICAgIC8vIE9ubHkgaWYgdGhlcmUgYXJlIG5vIHR5cGluZyBhZ2VudHMgKHRvIHByZXZlbnQgZmxhc2hpbmcpXG4gICAgICBpZiAoT2JqZWN0LmtleXModHlwaW5nQWdlbnRzKS5sZW5ndGggPT09IDAgJiYgIWlzUHJvY2Vzc2luZykge1xuICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2VJZCBvZiBPYmplY3Qua2V5cyhuZXdNYXApKSB7XG4gICAgICAgICAgaWYgKCFwcm9jZXNzaW5nTWVzc2FnZUlkcy5pbmNsdWRlcyhtZXNzYWdlSWQpKSB7XG4gICAgICAgICAgICBkZWxldGUgbmV3TWFwW21lc3NhZ2VJZF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdNYXA7XG4gICAgfSk7XG4gIH0sIFtwcm9jZXNzaW5nTWVzc2FnZUlkcywgdHlwaW5nQWdlbnRzLCBpc1Byb2Nlc3NpbmddKTtcblxuICAvLyBDb21iaW5lIGxvY2FsIGFuZCBvcmNoZXN0cmF0b3IgZXJyb3JzXG4gIGNvbnN0IGVycm9yID0gbG9jYWxFcnJvciB8fCBvcmNoZXN0cmF0b3JFcnJvcjtcblxuICAvLyBIYW5kbGUgc2VuZGluZyBhIG1lc3NhZ2VcbiAgY29uc3QgaGFuZGxlU2VuZE1lc3NhZ2UgPSAoKSA9PiB7XG4gICAgaWYgKG1lc3NhZ2UudHJpbSgpICYmIGNvbnZlcnNhdGlvbiAmJiAhaXNTZW5kaW5nKSB7XG4gICAgICBzZXRJc1NlbmRpbmcodHJ1ZSk7XG4gICAgICBzZXRMb2NhbEVycm9yKG51bGwpOyAvLyBDbGVhciBhbnkgcHJldmlvdXMgbG9jYWwgZXJyb3JzXG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgbmV3IG1lc3NhZ2VcbiAgICAgIGNvbnN0IG5ld01lc3NhZ2U6IE1lc3NhZ2UgPSB7XG4gICAgICAgIGlkOiBgbXNnLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICBjb250ZW50OiBtZXNzYWdlLFxuICAgICAgICBzZW5kZXJJZDogdXNlckFnZW50SWQsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIH07XG5cbiAgICAgIC8vIENsZWFyIHRoZSBpbnB1dCBmaXJzdCB0byBwcm92aWRlIGltbWVkaWF0ZSBmZWVkYmFja1xuICAgICAgY29uc3QgbWVzc2FnZUNvbnRlbnQgPSBtZXNzYWdlO1xuICAgICAgc2V0TWVzc2FnZShcIlwiKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gU2VuZCB0aGUgbWVzc2FnZSAodGhpcyB1cGRhdGVzIHRoZSBjb252ZXJzYXRpb24gc3RhdGUpXG4gICAgICAgIG9uU2VuZE1lc3NhZ2UobWVzc2FnZUNvbnRlbnQsIHVzZXJBZ2VudElkKTtcblxuICAgICAgICAvLyBXYWl0IGEgYnJpZWYgbW9tZW50IHRvIGVuc3VyZSB0aGUgY29udmVyc2F0aW9uIHN0YXRlIHVwZGF0ZXNcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIERvdWJsZS1jaGVjayB0aGF0IGNvbnZlcnNhdGlvbiBzdGlsbCBleGlzdHNcbiAgICAgICAgICAgIGlmICghY29udmVyc2F0aW9uKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnZlcnNhdGlvbiBubyBsb25nZXIgZXhpc3RzXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb2dnZXIubG9nKFxuICAgICAgICAgICAgICBgQ2FsbGluZyBwcm9jZXNzTmV3TWVzc2FnZSBmb3IgbWVzc2FnZTogJHtuZXdNZXNzYWdlLmlkfWAsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBQcm9jZXNzIGFsbCBtZXNzYWdlcywgaW5jbHVkaW5nIGNvbnZlcnNhdGlvbiBzdGFydGVyc1xuICAgICAgICAgICAgcHJvY2Vzc05ld01lc3NhZ2UobmV3TWVzc2FnZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJFcnJvciBwcm9jZXNzaW5nIG1lc3NhZ2U6XCIsIGVycik7XG4gICAgICAgICAgICBzZXRMb2NhbEVycm9yKFxuICAgICAgICAgICAgICBgRmFpbGVkIHRvIHByb2Nlc3MgbWVzc2FnZTogJHtlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogU3RyaW5nKGVycil9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzU2VuZGluZyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAxMDApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGxvZ2dlci5lcnJvcihcIkVycm9yIHNlbmRpbmcgbWVzc2FnZTpcIiwgZXJyKTtcbiAgICAgICAgc2V0TG9jYWxFcnJvcihcbiAgICAgICAgICBgRmFpbGVkIHRvIHNlbmQgbWVzc2FnZTogJHtlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogU3RyaW5nKGVycil9YCxcbiAgICAgICAgKTtcbiAgICAgICAgc2V0SXNTZW5kaW5nKGZhbHNlKTtcbiAgICAgICAgLy8gUmVzdG9yZSB0aGUgbWVzc2FnZSBpbiB0aGUgaW5wdXQgZmllbGQgc28gdGhlIHVzZXIgZG9lc24ndCBsb3NlIHRoZWlyIHRleHRcbiAgICAgICAgc2V0TWVzc2FnZShtZXNzYWdlQ29udGVudCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIENoZWNrIGZvciBkaXJlY3QgbWVudGlvbnMgdG8gcHJvbXB0IGltbWVkaWF0ZSByZXNwb25zZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWNvbnZlcnNhdGlvbiB8fCAhY29udmVyc2F0aW9uLm1lc3NhZ2VzKSByZXR1cm47XG5cbiAgICBjb25zdCBsYXRlc3RNZXNzYWdlID1cbiAgICAgIGNvbnZlcnNhdGlvbi5tZXNzYWdlc1tjb252ZXJzYXRpb24/Lm1lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuICAgIGlmICghbGF0ZXN0TWVzc2FnZSkgcmV0dXJuO1xuXG4gICAgLy8gQ3JlYXRlIGEgcmVmIHRvIHRyYWNrIGlmIHdlJ3ZlIGFscmVhZHkgcHJvY2Vzc2VkIHRoaXMgbWVzc2FnZVxuICAgIGlmIChwcm9jZXNzZWRNZXNzYWdlUmVmLmN1cnJlbnQgPT09IGxhdGVzdE1lc3NhZ2UuaWQpIHJldHVybjtcblxuICAgIC8vIExvZyBjb252ZXJzYXRpb24gc3RhcnRlciBtZXNzYWdlc1xuICAgIGlmIChsYXRlc3RNZXNzYWdlLm1ldGFkYXRhPy50eXBlID09PSBcImNvbnZlcnNhdGlvbl9zdGFydGVyXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJEZXRlY3RlZCBjb252ZXJzYXRpb24gc3RhcnRlciBtZXNzYWdlOlwiLCB7XG4gICAgICAgIG1lc3NhZ2VJZDogbGF0ZXN0TWVzc2FnZS5pZCxcbiAgICAgICAgY29udGVudDogbGF0ZXN0TWVzc2FnZS5jb250ZW50LnN1YnN0cmluZygwLCAzMCkgKyBcIi4uLlwiLFxuICAgICAgICBzZW5kZXJJZDogbGF0ZXN0TWVzc2FnZS5zZW5kZXJJZCxcbiAgICAgICAgbWV0YWRhdGE6IGxhdGVzdE1lc3NhZ2UubWV0YWRhdGEsXG4gICAgICB9KTtcblxuICAgICAgLy8gSWYgd2UncmUgbm90IGFscmVhZHkgcHJvY2Vzc2luZywgdHJpZ2dlciByZXNwb25zZXNcbiAgICAgIGlmICghaXNQcm9jZXNzaW5nICYmICFpc1NlbmRpbmcpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyaWdnZXJpbmcgcmVzcG9uc2VzIHRvIGNvbnZlcnNhdGlvbiBzdGFydGVyIG1lc3NhZ2VcIik7XG5cbiAgICAgICAgLy8gR2V0IGFsbCBhZ2VudHMgaW4gdGhlIGNvbnZlcnNhdGlvbiBleGNlcHQgdGhlIHNlbmRlclxuICAgICAgICBjb25zdCByZXNwb25kaW5nQWdlbnRzID0gYWdlbnRzLmZpbHRlcihcbiAgICAgICAgICAoYWdlbnQpID0+XG4gICAgICAgICAgICBjb252ZXJzYXRpb24ucGFydGljaXBhbnRzLmluY2x1ZGVzKGFnZW50LmlkKSAmJlxuICAgICAgICAgICAgYWdlbnQuaWQgIT09IGxhdGVzdE1lc3NhZ2Uuc2VuZGVySWQsXG4gICAgICAgICk7XG5cbiAgICAgICAgbG9nZ2VyLmxvZyhcbiAgICAgICAgICBgRm91bmQgJHtyZXNwb25kaW5nQWdlbnRzLmxlbmd0aH0gYWdlbnRzIHRvIHJlc3BvbmQgdG8gY29udmVyc2F0aW9uIHN0YXJ0ZXI6YCxcbiAgICAgICAgICByZXNwb25kaW5nQWdlbnRzLm1hcCgoYSkgPT4gYS5uYW1lKSxcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBRdWV1ZSByZXNwb25zZXMgZnJvbSBhbGwgYWdlbnRzIHdpdGggc2xpZ2h0IGRlbGF5c1xuICAgICAgICByZXNwb25kaW5nQWdlbnRzLmZvckVhY2goKGFnZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgIGxvZ2dlci5sb2coXG4gICAgICAgICAgICBgUXVldWVpbmcgcmVzcG9uc2UgZnJvbSAke2FnZW50Lm5hbWV9IHRvIGNvbnZlcnNhdGlvbiBzdGFydGVyYCxcbiAgICAgICAgICApO1xuICAgICAgICAgIHF1ZXVlQWdlbnRSZXNwb25zZShhZ2VudC5pZCwge1xuICAgICAgICAgICAgbWVzc2FnZVRvUmVzcG9uZFRvOiBsYXRlc3RNZXNzYWdlLFxuICAgICAgICAgICAgcmVzcG9uc2VEZWxheTogNTAwICsgaW5kZXggKiAxMDAwLCAvLyBTdGFnZ2VyIHJlc3BvbnNlc1xuICAgICAgICAgICAgZm9yY2U6IHRydWUsIC8vIEZvcmNlIHJlc3BvbnNlIHJlZ2FyZGxlc3Mgb2YgZHluYW1pY3NcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gTWFyayB0aGlzIG1lc3NhZ2UgYXMgcHJvY2Vzc2VkXG4gICAgICAgIHByb2Nlc3NlZE1lc3NhZ2VSZWYuY3VycmVudCA9IGxhdGVzdE1lc3NhZ2UuaWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dnZXIubG9nKFxuICAgICAgICAgIGBOb3QgdHJpZ2dlcmluZyByZXNwb25zZXMgdG8gY29udmVyc2F0aW9uIHN0YXJ0ZXI6IGlzUHJvY2Vzc2luZz0ke2lzUHJvY2Vzc2luZ30sIGlzU2VuZGluZz0ke2lzU2VuZGluZ31gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFsc28gaGFuZGxlIHN5c3RlbSBwcm9tcHRzIHRoYXQgYXJlIHRyeWluZyB0byByZXN0YXJ0IGEgc3RhbGxlZCBjb252ZXJzYXRpb25cbiAgICBpZiAoXG4gICAgICBsYXRlc3RNZXNzYWdlLm1ldGFkYXRhPy50eXBlID09PSBcImNvbnZlcnNhdGlvbl9wcm9tcHRcIiAmJlxuICAgICAgbGF0ZXN0TWVzc2FnZS5zZW5kZXJJZCA9PT0gXCJzeXN0ZW1cIlxuICAgICkge1xuICAgICAgbG9nZ2VyLmxvZyhcIkRldGVjdGVkIGNvbnZlcnNhdGlvbiBwcm9tcHQgbWVzc2FnZTpcIiwge1xuICAgICAgICBtZXNzYWdlSWQ6IGxhdGVzdE1lc3NhZ2UuaWQsXG4gICAgICAgIGNvbnRlbnQ6IGxhdGVzdE1lc3NhZ2UuY29udGVudCxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBFeHRyYWN0IHRoZSBhZ2VudCBuYW1lIGZyb20gdGhlIG1lc3NhZ2UgKGZvcm1hdDogXCJBZ2VudCBYLCB3aGF0IGRvIHlvdSB0aGluay4uLlwiKVxuICAgICAgY29uc3QgYWdlbnROYW1lTWF0Y2ggPSBsYXRlc3RNZXNzYWdlLmNvbnRlbnQubWF0Y2goL14oW14sXSspLC8pO1xuICAgICAgaWYgKGFnZW50TmFtZU1hdGNoKSB7XG4gICAgICAgIGNvbnN0IGFnZW50TmFtZSA9IGFnZW50TmFtZU1hdGNoWzFdLnRyaW0oKTtcbiAgICAgICAgY29uc3QgYWdlbnQgPSBhZ2VudHMuZmluZCgoYSkgPT4gYS5uYW1lID09PSBhZ2VudE5hbWUpO1xuXG4gICAgICAgIGlmIChhZ2VudCkge1xuICAgICAgICAgIGxvZ2dlci5sb2coXG4gICAgICAgICAgICBgUXVldWVpbmcgcmVzcG9uc2UgZnJvbSAke2FnZW50Lm5hbWV9IHRvIGNvbnZlcnNhdGlvbiBwcm9tcHRgLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcXVldWVBZ2VudFJlc3BvbnNlKGFnZW50LmlkLCB7XG4gICAgICAgICAgICBtZXNzYWdlVG9SZXNwb25kVG86IGxhdGVzdE1lc3NhZ2UsXG4gICAgICAgICAgICByZXNwb25zZURlbGF5OiA1MDAsXG4gICAgICAgICAgICBmb3JjZTogdHJ1ZSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIE1hcmsgdGhpcyBtZXNzYWdlIGFzIHByb2Nlc3NlZFxuICAgICAgICAgIHByb2Nlc3NlZE1lc3NhZ2VSZWYuY3VycmVudCA9IGxhdGVzdE1lc3NhZ2UuaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTa2lwIGlmIGl0J3Mgbm90IGEgdXNlciBtZXNzYWdlIG9yIHdlJ3JlIGFscmVhZHkgcHJvY2Vzc2luZ1xuICAgIGlmIChsYXRlc3RNZXNzYWdlLnNlbmRlcklkICE9PSBcInVzZXJcIiB8fCBpc1NlbmRpbmcgfHwgaXNQcm9jZXNzaW5nKSByZXR1cm47XG5cbiAgICAvLyBDaGVjayBmb3IgZGlyZWN0IG1lbnRpb25zIGxpa2UgXCJBZ2VudCAyLCBbbWVzc2FnZV1cIiBvciBcIkBBZ2VudCAyIFttZXNzYWdlXVwiXG4gICAgY29uc3QgbWVudGlvbk1hdGNoID0gbGF0ZXN0TWVzc2FnZS5jb250ZW50Lm1hdGNoKC9eKD86QD8oLis/KSw/XFxzKykvaSk7XG4gICAgaWYgKCFtZW50aW9uTWF0Y2gpIHJldHVybjtcblxuICAgIGNvbnN0IG1lbnRpb25lZE5hbWUgPSBtZW50aW9uTWF0Y2hbMV07XG5cbiAgICAvLyBGaW5kIHRoZSBtZW50aW9uZWQgYWdlbnRcbiAgICBjb25zdCBtZW50aW9uZWRBZ2VudCA9IGFnZW50cy5maW5kKFxuICAgICAgKGFnZW50KSA9PlxuICAgICAgICBhZ2VudC5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IG1lbnRpb25lZE5hbWUudG9Mb3dlckNhc2UoKSB8fFxuICAgICAgICBhZ2VudC5uYW1lLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChtZW50aW9uZWROYW1lLnRvTG93ZXJDYXNlKCkpLFxuICAgICk7XG5cbiAgICAvLyBJZiB3ZSBmb3VuZCBhIG1hdGNoaW5nIGFnZW50IGFuZCB0aGV5J3JlIGluIHRoZSBjb252ZXJzYXRpb24sIHByaW9yaXRpemUgdGhlaXIgcmVzcG9uc2VcbiAgICBpZiAoXG4gICAgICBtZW50aW9uZWRBZ2VudCAmJlxuICAgICAgY29udmVyc2F0aW9uLnBhcnRpY2lwYW50cy5pbmNsdWRlcyhtZW50aW9uZWRBZ2VudC5pZClcbiAgICApIHtcbiAgICAgIHF1ZXVlQWdlbnRSZXNwb25zZShtZW50aW9uZWRBZ2VudC5pZCwge1xuICAgICAgICBtZXNzYWdlVG9SZXNwb25kVG86IGxhdGVzdE1lc3NhZ2UsXG4gICAgICAgIHJlc3BvbnNlRGVsYXk6IDMwMCwgLy8gUXVpY2sgcmVzcG9uc2UgZm9yIGRpcmVjdCBtZW50aW9uc1xuICAgICAgICBmb3JjZTogdHJ1ZSwgLy8gRm9yY2UgcmVzcG9uc2UgcmVnYXJkbGVzcyBvZiBkeW5hbWljc1xuICAgICAgfSk7XG5cbiAgICAgIC8vIE1hcmsgdGhpcyBtZXNzYWdlIGFzIHByb2Nlc3NlZFxuICAgICAgcHJvY2Vzc2VkTWVzc2FnZVJlZi5jdXJyZW50ID0gbGF0ZXN0TWVzc2FnZS5pZDtcbiAgICB9XG4gIH0sIFtjb252ZXJzYXRpb24sIGFnZW50cywgaXNTZW5kaW5nLCBpc1Byb2Nlc3NpbmcsIHF1ZXVlQWdlbnRSZXNwb25zZV0pO1xuXG4gIC8vIFNjcm9sbCB0byBib3R0b20gd2hlbiBtZXNzYWdlcyBjaGFuZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgbWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudC5zY3JvbGxUb3AgPVxuICAgICAgICBtZXNzYWdlc0NvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbEhlaWdodDtcbiAgICB9XG4gIH0sIFtjb252ZXJzYXRpb24/Lm1lc3NhZ2VzLCB0eXBpbmdBZ2VudHNdKTtcblxuICAvLyBHZXQgYWdlbnQgYnkgSUQgaGVscGVyXG4gIGNvbnN0IGdldEFnZW50QnlJZCA9IChpZDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIGFnZW50cy5maW5kKChhZ2VudCkgPT4gYWdlbnQuaWQgPT09IGlkKTtcbiAgfTtcblxuICAvLyBGaW5kIG1lc3NhZ2UgYnkgSURcbiAgY29uc3QgZ2V0TWVzc2FnZUJ5SWQgPSAoaWQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBjb252ZXJzYXRpb24/Lm1lc3NhZ2VzPy5maW5kKChtc2cpID0+IG1zZy5pZCA9PT0gaWQpO1xuICB9O1xuXG4gIC8vIENsZWFyIGVycm9yIGFmdGVyIDUgc2Vjb25kc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChsb2NhbEVycm9yKSB7XG4gICAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRMb2NhbEVycm9yKG51bGwpO1xuICAgICAgfSwgNTAwMCk7XG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB9XG4gIH0sIFtsb2NhbEVycm9yXSk7XG5cbiAgLy8gRm9yY2UgYWdlbnRzIHRvIHJlc3BvbmQgaWYgdGhleSBoYXZlbid0IGFmdGVyIGEgdGltZW91dFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChcbiAgICAgICFjb252ZXJzYXRpb24gfHxcbiAgICAgICFjb252ZXJzYXRpb24ubWVzc2FnZXMgfHxcbiAgICAgIGNvbnZlcnNhdGlvbi5tZXNzYWdlcy5sZW5ndGggPT09IDAgfHxcbiAgICAgIGlzUHJvY2Vzc2luZyB8fFxuICAgICAgaXNTZW5kaW5nXG4gICAgKVxuICAgICAgcmV0dXJuO1xuXG4gICAgLy8gR2V0IHRoZSBsYXRlc3QgbWVzc2FnZVxuICAgIGNvbnN0IGxhdGVzdE1lc3NhZ2UgPVxuICAgICAgY29udmVyc2F0aW9uLm1lc3NhZ2VzW2NvbnZlcnNhdGlvbi5tZXNzYWdlcy5sZW5ndGggLSAxXTtcbiAgICBpZiAoIWxhdGVzdE1lc3NhZ2UpIHJldHVybjtcblxuICAgIC8vIE9ubHkgYXBwbHkgdGhpcyB0byB1c2VyLWluaXRpYXRlZCBjb252ZXJzYXRpb25zIChub3QgYXV0b25vbW91cyBvbmVzKVxuICAgIC8vIEFuZCBvbmx5IHdoZW4gdGhlIGxhdGVzdCBtZXNzYWdlIGlzIGZyb20gdGhlIHVzZXJcbiAgICBpZiAoXG4gICAgICBsYXRlc3RNZXNzYWdlLnNlbmRlcklkID09PSBcInVzZXJcIiAmJlxuICAgICAgIWlzUHJvY2Vzc2luZyAmJlxuICAgICAgIWlzU2VuZGluZyAmJlxuICAgICAgIWNvbnZlcnNhdGlvbi5pc0F1dG9ub21vdXNcbiAgICApIHtcbiAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIC8vIE9ubHkgcHJvY2VlZCBpZiB3ZSdyZSBzdGlsbCBub3QgcHJvY2Vzc2luZyBhbmQgdGhlIGNvbnZlcnNhdGlvbiBleGlzdHNcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFpc1Byb2Nlc3NpbmcgJiZcbiAgICAgICAgICAhaXNTZW5kaW5nICYmXG4gICAgICAgICAgY29udmVyc2F0aW9uICYmXG4gICAgICAgICAgY29udmVyc2F0aW9uLnBhcnRpY2lwYW50cyAmJlxuICAgICAgICAgIGNvbnZlcnNhdGlvbi5wYXJ0aWNpcGFudHMubGVuZ3RoID4gMFxuICAgICAgICApIHtcbiAgICAgICAgICBsb2dnZXIubG9nKFxuICAgICAgICAgICAgXCJObyBhdXRvbWF0aWMgcmVzcG9uc2VzIGRldGVjdGVkLCBmb3JjaW5nIGFnZW50IHJlc3BvbnNlc1wiLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBHZXQgYWxsIGFnZW50cyBpbiB0aGUgY29udmVyc2F0aW9uIGV4Y2VwdCB0aGUgc2VuZGVyXG4gICAgICAgICAgY29uc3QgcmVzcG9uZGluZ0FnZW50cyA9IGFnZW50cy5maWx0ZXIoXG4gICAgICAgICAgICAoYWdlbnQpID0+XG4gICAgICAgICAgICAgIGNvbnZlcnNhdGlvbi5wYXJ0aWNpcGFudHMuaW5jbHVkZXMoYWdlbnQuaWQpICYmXG4gICAgICAgICAgICAgIGFnZW50LmlkICE9PSBsYXRlc3RNZXNzYWdlLnNlbmRlcklkLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBRdWV1ZSByZXNwb25zZXMgZnJvbSBhbGwgYWdlbnRzXG4gICAgICAgICAgcmVzcG9uZGluZ0FnZW50cy5mb3JFYWNoKChhZ2VudCkgPT4ge1xuICAgICAgICAgICAgcXVldWVBZ2VudFJlc3BvbnNlKGFnZW50LmlkLCB7XG4gICAgICAgICAgICAgIG1lc3NhZ2VUb1Jlc3BvbmRUbzogbGF0ZXN0TWVzc2FnZSxcbiAgICAgICAgICAgICAgcmVzcG9uc2VEZWxheTogNTAwICsgTWF0aC5yYW5kb20oKSAqIDEwMDAsIC8vIFN0YWdnZXIgcmVzcG9uc2VzXG4gICAgICAgICAgICAgIGZvcmNlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIDMwMDApO1xuXG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB9XG4gIH0sIFtcbiAgICBjb252ZXJzYXRpb24/Lm1lc3NhZ2VzLFxuICAgIGlzUHJvY2Vzc2luZyxcbiAgICBpc1NlbmRpbmcsXG4gICAgYWdlbnRzLFxuICAgIGNvbnZlcnNhdGlvbixcbiAgICBxdWV1ZUFnZW50UmVzcG9uc2UsXG4gIF0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGgtZnVsbFwiPlxuICAgICAgey8qIEhlYWRlciAtIGZpeGVkIGhlaWdodCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci1iIGJvcmRlci1wdXJwbGUtODAwIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtOTAwLzUwIHRvLWluZGlnby05MDAvNTAgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj5DaGF0PC9oMj5cbiAgICAgICAge2NvbnZlcnNhdGlvbiAmJiAoXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgdmFyaWFudD1cImRlc3RydWN0aXZlXCJcbiAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIGNhbmNlbEFsbFJlc3BvbnNlcygpO1xuICAgICAgICAgICAgICBvbkVuZENvbnZlcnNhdGlvbigpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIG10LTJcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxYIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgRW5kIENvbnZlcnNhdGlvblxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBNZXNzYWdlcyBjb250YWluZXIgLSBUSElTIElTIFRIRSBLRVkgUEFSVCAqL31cbiAgICAgIDxkaXZcbiAgICAgICAgcmVmPXttZXNzYWdlc0NvbnRhaW5lclJlZn1cbiAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTRcIlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGhlaWdodDogXCJjYWxjKDEwMHZoIC0gMjAwcHgpXCIsIC8vIEZpeGVkIGhlaWdodCBjYWxjdWxhdGlvblxuICAgICAgICAgIG1heEhlaWdodDogXCJjYWxjKDEwMHZoIC0gMjAwcHgpXCIsIC8vIE1heCBoZWlnaHQgdG8gZW5zdXJlIHNjcm9sbGluZ1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7Y29udmVyc2F0aW9uICYmIGNvbnZlcnNhdGlvbi5tZXNzYWdlcyA/IChcbiAgICAgICAgICBjb252ZXJzYXRpb24ubWVzc2FnZXMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgIHtjb252ZXJzYXRpb24ubWVzc2FnZXMubWFwKChtc2cpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBTa2lwIHJlbmRlcmluZyBtZXNzYWdlcyB0aGF0IGNvbnRhaW4gU0tJUF9SRVNQT05TRVxuICAgICAgICAgICAgICAgIGlmIChtc2cuY29udGVudC5pbmNsdWRlcyhcIlNLSVBfUkVTUE9OU0VcIikpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzeXN0ZW0gbWVzc2FnZXMgZGlmZmVyZW50bHlcbiAgICAgICAgICAgICAgICBpZiAobXNnLm1ldGFkYXRhPy5pc1N5c3RlbU1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXttc2cuaWR9IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB5LTIgcHgtMyBiZy1wdXJwbGUtOTAwLzMwIHJvdW5kZWQtbWQgdGV4dC1wdXJwbGUtMjAwIHRleHQtc20gdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuY29udGVudH1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIERldGVybWluZSB0aGUgc2VuZGVyIG5hbWVcbiAgICAgICAgICAgICAgICBsZXQgc2VuZGVyTmFtZSA9IFwiVW5rbm93blwiO1xuICAgICAgICAgICAgICAgIGxldCBzZW5kZXJDb2xvciA9IFwiIzg4OFwiO1xuXG4gICAgICAgICAgICAgICAgaWYgKG1zZy5zZW5kZXJJZCA9PT0gXCJ1c2VyXCIpIHtcbiAgICAgICAgICAgICAgICAgIHNlbmRlck5hbWUgPSBcIllvdVwiO1xuICAgICAgICAgICAgICAgICAgc2VuZGVyQ29sb3IgPSBcIiNmZmZmZmZcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1zZy5zZW5kZXJJZCA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgICAgICAgICAgICAgc2VuZGVyTmFtZSA9IFwiRW52aXJvbm1lbnRcIjtcbiAgICAgICAgICAgICAgICAgIHNlbmRlckNvbG9yID0gXCIjOTMzM2VhXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGFnZW50ID0gZ2V0QWdlbnRCeUlkKG1zZy5zZW5kZXJJZCk7XG4gICAgICAgICAgICAgICAgICBpZiAoYWdlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VuZGVyTmFtZSA9IGFnZW50Lm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRlckNvbG9yID0gYWdlbnQuY29sb3I7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgaXNCZWluZ1Jlc3BvbmRlZFRvID0gcHJvY2Vzc2luZ01lc3NhZ2VNYXBbbXNnLmlkXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17bXNnLmlkfSBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTMgaC0zIHJvdW5kZWQtZnVsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IHNlbmRlckNvbG9yIH19XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtcHVycGxlLTEwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3NlbmRlck5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1wdXJwbGUtMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bmV3IERhdGUobXNnLnRpbWVzdGFtcCkudG9Mb2NhbGVUaW1lU3RyaW5nKCl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIHttc2cubWV0YWRhdGE/LmlzR2VuZXJhdGVkQnlMTE0gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBiZy1wdXJwbGUtODAwLzUwIHB4LTEuNSBweS0wLjUgcm91bmRlZCB0ZXh0LXB1cnBsZS0yMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgQUlcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIHttc2cubWV0YWRhdGE/LnJlc3BvbmRpbmdUbyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHRleHQteHMgdGV4dC1wdXJwbGUtMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDb3JuZXJEb3duUmlnaHQgc2l6ZT17MTJ9IGNsYXNzTmFtZT1cIm1yLTFcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25kaW5nIHRvOntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2dldE1lc3NhZ2VCeUlkKG1zZy5tZXRhZGF0YS5yZXNwb25kaW5nVG8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBnZXRNZXNzYWdlQnlJZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnLm1ldGFkYXRhLnJlc3BvbmRpbmdUbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk/LmNvbnRlbnQuc3Vic3RyaW5nKDAsIDIwKSArIFwiLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiYSBwcmV2aW91cyBtZXNzYWdlXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWwtNSBtdC0xIHRleHQtZ3JheS0xMDBcIj57bXNnLmNvbnRlbnR9PC9wPlxuXG4gICAgICAgICAgICAgICAgICAgIHtpc0JlaW5nUmVzcG9uZGVkVG8gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtNSBtdC0xIHRleHQteHMgdGV4dC1wdXJwbGUtMzAwIGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TG9hZGVyMiBzaXplPXsxMH0gY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIG1yLTFcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgQWdlbnRzIGFyZSByZXNwb25kaW5nIHRvIHRoaXMgbWVzc2FnZS4uLlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG5cbiAgICAgICAgICAgICAgey8qIFR5cGluZyBpbmRpY2F0b3JzICovfVxuICAgICAgICAgICAgICB7T2JqZWN0LmVudHJpZXModHlwaW5nQWdlbnRzKS5tYXAoXG4gICAgICAgICAgICAgICAgKFthZ2VudElkLCB7IHRleHQsIG1lc3NhZ2VJZCB9XSkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgYWdlbnQgPSBnZXRBZ2VudEJ5SWQoYWdlbnRJZCk7XG4gICAgICAgICAgICAgICAgICBpZiAoIWFnZW50KSByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uZGluZ1RvTWVzc2FnZSA9IGdldE1lc3NhZ2VCeUlkKG1lc3NhZ2VJZCk7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2B0eXBpbmctJHthZ2VudElkfWB9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBvcGFjaXR5LTgwXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0zIGgtMyByb3VuZGVkLWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IGFnZW50LmNvbG9yIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPnthZ2VudC5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMb2FkZXIyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9ezE0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gdGV4dC1wdXJwbGUtMzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcHVycGxlLTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBpbmcuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cblxuICAgICAgICAgICAgICAgICAgICAgICAge3Jlc3BvbmRpbmdUb01lc3NhZ2UgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHRleHQteHMgdGV4dC1wdXJwbGUtMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvcm5lckRvd25SaWdodCBzaXplPXsxMn0gY2xhc3NOYW1lPVwibXgtMVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmU6IHtyZXNwb25kaW5nVG9NZXNzYWdlLmNvbnRlbnQuc3Vic3RyaW5nKDAsIDIwKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1sLTUgbXQtMSB0ZXh0LWdyYXktMTAwXCI+e3RleHQgfHwgXCIuLi5cIn08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1wdXJwbGUtMzAwIHB5LThcIj5cbiAgICAgICAgICAgICAgTm8gbWVzc2FnZXMgeWV0LiBTdGFydCB0aGUgY29udmVyc2F0aW9uIGJ5IHNlbmRpbmcgYSBtZXNzYWdlIVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKVxuICAgICAgICApIDogKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1wdXJwbGUtMzAwIHB5LThcIj5cbiAgICAgICAgICAgIE5vIGFjdGl2ZSBjb252ZXJzYXRpb24uIEFkZCBhZ2VudHMgdG8gc3RhcnQgb25lLlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBFcnJvciBtZXNzYWdlICovfVxuICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBwLTMgYmctcmVkLTkwMC8zMCBib3JkZXIgYm9yZGVyLXJlZC03MDAgcm91bmRlZC1tZCB0ZXh0LXJlZC0yMDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0xXCI+XG4gICAgICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIHNpemU9ezE2fSBjbGFzc05hbWU9XCJ0ZXh0LXJlZC0zMDBcIiAvPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+RXJyb3I6PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8cD57ZXJyb3J9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBJbnB1dCBhcmVhIC0gZml4ZWQgaGVpZ2h0ICovfVxuICAgICAge2NvbnZlcnNhdGlvbiAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci10IGJvcmRlci1wdXJwbGUtODAwIGJnLWJsYWNrLzIwIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTIgbWItMiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIHRleHQtc20gYm9yZGVyIGJvcmRlci1wdXJwbGUtNzAwIHJvdW5kZWQtbWQgYmctcHVycGxlLTk1MCB0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgICAgdmFsdWU9e3VzZXJBZ2VudElkfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFVzZXJBZ2VudElkKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUHJvY2Vzc2luZyB8fCBpc1NlbmRpbmd9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ1c2VyXCI+WW91PC9vcHRpb24+XG4gICAgICAgICAgICAgIHthZ2VudHNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgKGFnZW50KSA9PlxuICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb24ucGFydGljaXBhbnRzICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbi5wYXJ0aWNpcGFudHMuaW5jbHVkZXMoYWdlbnQuaWQpLFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAubWFwKChhZ2VudCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2FnZW50LmlkfSB2YWx1ZT17YWdlbnQuaWR9PlxuICAgICAgICAgICAgICAgICAgICB7YWdlbnQubmFtZX1cbiAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGJvcmRlci1wdXJwbGUtNzAwIGJnLXB1cnBsZS05NTAvMzAgdGV4dC1wdXJwbGUtMzAwIGhvdmVyOmJnLXB1cnBsZS05MDAvNTAgaG92ZXI6dGV4dC1wdXJwbGUtMjAwXCJcbiAgICAgICAgICAgICAgdGl0bGU9XCJVcGxvYWQgZmlsZXMgKGNvbWluZyBzb29uKVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxVcGxvYWQgc2l6ZT17MTR9IC8+XG4gICAgICAgICAgICAgIFVwbG9hZFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlIHlvdXIgbWVzc2FnZS4uLlwiXG4gICAgICAgICAgICAgIHZhbHVlPXttZXNzYWdlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE1lc3NhZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBvbktleURvd249eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZVNlbmRNZXNzYWdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNQcm9jZXNzaW5nIHx8IGlzU2VuZGluZ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hhZG93LXNtIGJnLXB1cnBsZS05NTAvNTAgYm9yZGVyLXB1cnBsZS03MDAgdGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZW5kTWVzc2FnZX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUHJvY2Vzc2luZyB8fCBpc1NlbmRpbmcgfHwgIW1lc3NhZ2UudHJpbSgpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzaGFkb3ctc20gYmctcHVycGxlLTcwMCBob3ZlcjpiZy1wdXJwbGUtNjAwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2lzU2VuZGluZyA/IChcbiAgICAgICAgICAgICAgICA8TG9hZGVyMiBzaXplPXsxOH0gY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8U2VuZCBzaXplPXsxOH0gLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHsoaXNQcm9jZXNzaW5nIHx8IGlzU2VuZGluZykgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHRleHQteHMgdGV4dC1wdXJwbGUtMzAwIGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxMb2FkZXIyIHNpemU9ezEyfSBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gbXItMVwiIC8+XG4gICAgICAgICAgICAgIHtpc1NlbmRpbmdcbiAgICAgICAgICAgICAgICA/IFwiU2VuZGluZyBtZXNzYWdlLi4uXCJcbiAgICAgICAgICAgICAgICA6IGBBZ2VudHMgYXJlIHJlc3BvbmRpbmcgKCR7cHJvY2Vzc2luZ0FnZW50cy5sZW5ndGggKyBxdWV1ZWRBZ2VudHMubGVuZ3RofSBpbiBxdWV1ZSkuLi5gfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIkNoYXRXaW5kb3ciLCJsb2dnZXIiLCJjcmVhdGVMb2dnZXIiLCJjb252ZXJzYXRpb24iLCJhZ2VudHMiLCJvblNlbmRNZXNzYWdlIiwib25FbmRDb252ZXJzYXRpb24iLCJtZXNzYWdlIiwic2V0TWVzc2FnZSIsInVzZVN0YXRlIiwidXNlckFnZW50SWQiLCJzZXRVc2VyQWdlbnRJZCIsIm1lc3NhZ2VzQ29udGFpbmVyUmVmIiwidXNlUmVmIiwibG9jYWxFcnJvciIsInNldExvY2FsRXJyb3IiLCJpc1NlbmRpbmciLCJzZXRJc1NlbmRpbmciLCJwcm9jZXNzaW5nTWVzc2FnZU1hcCIsInNldFByb2Nlc3NpbmdNZXNzYWdlTWFwIiwicHJvY2Vzc2VkTWVzc2FnZVJlZiIsInF1ZXVlQWdlbnRSZXNwb25zZSIsInByb2Nlc3NOZXdNZXNzYWdlIiwiY2FuY2VsQWxsUmVzcG9uc2VzIiwicHJvY2Vzc2luZ0FnZW50cyIsInF1ZXVlZEFnZW50cyIsInR5cGluZ0FnZW50cyIsInByb2Nlc3NpbmdNZXNzYWdlSWRzIiwiaXNQcm9jZXNzaW5nIiwiZXJyb3IiLCJvcmNoZXN0cmF0b3JFcnJvciIsInVzZUNvbnZlcnNhdGlvbk9yY2hlc3RyYXRvciIsImF1dG9TZWxlY3RSZXNwb25kZW50cyIsInJlc3BvbnNlRGVsYXkiLCJ1c2VFZmZlY3QiLCJwcmV2IiwibmV3TWFwIiwibWVzc2FnZUlkIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImluY2x1ZGVzIiwiaGFuZGxlU2VuZE1lc3NhZ2UiLCJ0cmltIiwibmV3TWVzc2FnZSIsImlkIiwiRGF0ZSIsIm5vdyIsImNvbnRlbnQiLCJzZW5kZXJJZCIsInRpbWVzdGFtcCIsIm1lc3NhZ2VDb250ZW50Iiwic2V0VGltZW91dCIsIkVycm9yIiwibG9nIiwiZXJyIiwiU3RyaW5nIiwibWVzc2FnZXMiLCJsYXRlc3RNZXNzYWdlIiwiY3VycmVudCIsIm1ldGFkYXRhIiwidHlwZSIsInN1YnN0cmluZyIsInJlc3BvbmRpbmdBZ2VudHMiLCJmaWx0ZXIiLCJhZ2VudCIsInBhcnRpY2lwYW50cyIsIm1hcCIsImEiLCJuYW1lIiwiZm9yRWFjaCIsImluZGV4IiwibWVzc2FnZVRvUmVzcG9uZFRvIiwiZm9yY2UiLCJhZ2VudE5hbWVNYXRjaCIsIm1hdGNoIiwiYWdlbnROYW1lIiwiZmluZCIsIm1lbnRpb25NYXRjaCIsIm1lbnRpb25lZE5hbWUiLCJtZW50aW9uZWRBZ2VudCIsInRvTG93ZXJDYXNlIiwic3RhcnRzV2l0aCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImdldEFnZW50QnlJZCIsImdldE1lc3NhZ2VCeUlkIiwibXNnIiwidGltZXIiLCJjbGVhclRpbWVvdXQiLCJpc0F1dG9ub21vdXMiLCJNYXRoIiwicmFuZG9tIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDIiLCJCdXR0b24iLCJ2YXJpYW50Iiwic2l6ZSIsIm9uQ2xpY2siLCJYIiwicmVmIiwic3R5bGUiLCJoZWlnaHQiLCJtYXhIZWlnaHQiLCJpc1N5c3RlbU1lc3NhZ2UiLCJzZW5kZXJOYW1lIiwic2VuZGVyQ29sb3IiLCJjb2xvciIsImlzQmVpbmdSZXNwb25kZWRUbyIsImJhY2tncm91bmRDb2xvciIsInNwYW4iLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJpc0dlbmVyYXRlZEJ5TExNIiwicmVzcG9uZGluZ1RvIiwiQ29ybmVyRG93blJpZ2h0IiwicCIsIkxvYWRlcjIiLCJlbnRyaWVzIiwiYWdlbnRJZCIsInRleHQiLCJyZXNwb25kaW5nVG9NZXNzYWdlIiwiQWxlcnRUcmlhbmdsZSIsInNlbGVjdCIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwiZGlzYWJsZWQiLCJvcHRpb24iLCJ0aXRsZSIsIlVwbG9hZCIsIklucHV0IiwicGxhY2Vob2xkZXIiLCJvbktleURvd24iLCJrZXkiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwiU2VuZCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OytCQTJCQTs7O2VBQXdCQTs7Ozt1QkF6Qm9CO3dCQUNyQjt1QkFDRDs2QkFTZjs2Q0FDcUM7NkJBQ2Y7QUFFN0IscUNBQXFDO0FBQ3JDLE1BQU1DLFNBQVNDLElBQUFBLHlCQUFZLEVBQUM7QUFTYixTQUFTRixXQUFXLEVBQ2pDRyxZQUFZLEVBQ1pDLE1BQU0sRUFDTkMsYUFBYSxFQUNiQyxpQkFBaUIsRUFDRDtJQUNoQixNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR0MsSUFBQUEsZUFBUSxFQUFDO0lBQ3ZDLE1BQU0sQ0FBQ0MsYUFBYUMsZUFBZSxHQUFHRixJQUFBQSxlQUFRLEVBQWtCO0lBQ2hFLE1BQU1HLHVC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