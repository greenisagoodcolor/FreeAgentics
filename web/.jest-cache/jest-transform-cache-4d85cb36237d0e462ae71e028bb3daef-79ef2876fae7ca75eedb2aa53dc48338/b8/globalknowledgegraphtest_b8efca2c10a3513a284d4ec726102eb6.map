{"version":3,"sources":["/Users/matthewmoroney/builds/FreeAgentics/web/__tests__/components/global-knowledge-graph.test.tsx"],"sourcesContent":["/**\n * GlobalKnowledgeGraph Component Comprehensive Test Suite\n * Target: components/GlobalKnowledgeGraph.tsx (1,605 lines)\n * Goal: Maximize coverage for the second largest component file\n */\n\nimport React from \"react\";\nimport {\n  render,\n  screen,\n  fireEvent,\n  waitFor,\n  act,\n} from \"@testing-library/react\";\nimport { jest } from \"@jest/globals\";\nimport GlobalKnowledgeGraph from \"@/components/GlobalKnowledgeGraph\";\nimport type { Agent, KnowledgeEntry } from \"@/lib/types\";\n\n// Mock D3 force simulation and dependencies\nconst mockForceSimulation = {\n  nodes: jest.fn().mockReturnThis(),\n  links: jest.fn().mockReturnThis(),\n  force: jest.fn().mockReturnThis(),\n  on: jest.fn().mockReturnThis(),\n  restart: jest.fn().mockReturnThis(),\n  stop: jest.fn().mockReturnThis(),\n  alpha: jest.fn().mockReturnThis(),\n  alphaTarget: jest.fn().mockReturnThis(),\n  alphaDecay: jest.fn().mockReturnThis(),\n  velocityDecay: jest.fn().mockReturnThis(),\n  tick: jest.fn().mockReturnThis(),\n};\n\nconst mockForceCenter = jest.fn(() => mockForceSimulation);\nconst mockForceLink = jest.fn(() => mockForceSimulation);\nconst mockForceManyBody = jest.fn(() => mockForceSimulation);\nconst mockForceCollide = jest.fn(() => mockForceSimulation);\n\njest.mock(\"d3-force\", () => ({\n  forceSimulation: jest.fn(() => mockForceSimulation),\n  forceCenter: mockForceCenter,\n  forceLink: mockForceLink,\n  forceManyBody: mockForceManyBody,\n  forceCollide: mockForceCollide,\n}));\n\n// Mock D3 selection and drag\nconst mockDragBehavior = {\n  on: jest.fn().mockReturnThis(),\n};\n\nconst mockSelect = jest.fn(() => ({\n  selectAll: jest.fn().mockReturnThis(),\n  data: jest.fn().mockReturnThis(),\n  enter: jest.fn().mockReturnThis(),\n  append: jest.fn().mockReturnThis(),\n  merge: jest.fn().mockReturnThis(),\n  exit: jest.fn().mockReturnThis(),\n  remove: jest.fn().mockReturnThis(),\n  attr: jest.fn().mockReturnThis(),\n  style: jest.fn().mockReturnThis(),\n  text: jest.fn().mockReturnThis(),\n  on: jest.fn().mockReturnThis(),\n  call: jest.fn().mockReturnThis(),\n  raise: jest.fn().mockReturnThis(),\n  node: jest.fn(() => ({\n    getBBox: () => ({ width: 100, height: 20 }),\n  })),\n}));\n\nconst mockDrag = jest.fn(() => mockDragBehavior);\n\njest.mock(\"d3-selection\", () => ({\n  select: mockSelect,\n}));\n\njest.mock(\"d3-drag\", () => ({\n  drag: mockDrag,\n}));\n\n// Mock components\njest.mock(\"@/components/ui/card\", () => ({\n  Card: ({ children, ...props }: any) => (\n    <div data-testid=\"card\" {...props}>\n      {children}\n    </div>\n  ),\n  CardContent: ({ children, ...props }: any) => (\n    <div data-testid=\"card-content\" {...props}>\n      {children}\n    </div>\n  ),\n  CardHeader: ({ children, ...props }: any) => (\n    <div data-testid=\"card-header\" {...props}>\n      {children}\n    </div>\n  ),\n  CardTitle: ({ children, ...props }: any) => (\n    <h3 data-testid=\"card-title\" {...props}>\n      {children}\n    </h3>\n  ),\n}));\n\njest.mock(\"@/components/ui/button\", () => ({\n  Button: ({ children, onClick, ...props }: any) => (\n    <button onClick={onClick} {...props}>\n      {children}\n    </button>\n  ),\n}));\n\njest.mock(\"@/components/AboutButton\", () => {\n  return function MockAboutButton({ onShowAbout }: any) {\n    return (\n      <button onClick={onShowAbout} data-testid=\"about-button\">\n        About\n      </button>\n    );\n  };\n});\n\n// Mock data\nconst mockKnowledgeEntry: KnowledgeEntry = {\n  id: \"knowledge-1\",\n  title: \"Test Knowledge\",\n  content: \"This is test knowledge content\",\n  source: \"user\",\n  timestamp: new Date(),\n  tags: [\"test\", \"knowledge\"],\n  metadata: {},\n};\n\nconst mockAgent: Agent = {\n  id: \"agent-1\",\n  name: \"Test Agent\",\n  biography: \"Test agent biography\",\n  color: \"#ff0000\",\n  position: { x: 0, y: 0 },\n  knowledge: [mockKnowledgeEntry],\n  toolPermissions: {\n    internetSearch: true,\n    webScraping: false,\n    wikipediaAccess: true,\n    newsApi: false,\n    academicSearch: true,\n    documentRetrieval: false,\n    imageGeneration: false,\n    textSummarization: true,\n    translation: false,\n    codeExecution: false,\n    calculator: true,\n    knowledgeGraphQuery: false,\n    factChecking: true,\n    timelineGenerator: false,\n    weatherData: false,\n    mapLocationData: false,\n    financialData: false,\n    publicDatasets: false,\n    memorySearch: true,\n    crossAgentKnowledge: false,\n    conversationAnalysis: true,\n  },\n  autonomyEnabled: true,\n  inConversation: false,\n};\n\nconst defaultProps = {\n  agents: [mockAgent],\n  onSelectNode: jest.fn(),\n  onShowAbout: jest.fn(),\n};\n\ndescribe(\"GlobalKnowledgeGraph\", () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n\n    // Reset D3 mocks to default behavior\n    mockForceSimulation.nodes.mockReturnThis();\n    mockForceSimulation.links.mockReturnThis();\n    mockForceSimulation.force.mockReturnThis();\n    mockForceSimulation.on.mockReturnThis();\n    mockForceSimulation.restart.mockReturnThis();\n    mockForceSimulation.stop.mockReturnThis();\n\n    // Mock ResizeObserver\n    global.ResizeObserver = jest.fn().mockImplementation(() => ({\n      observe: jest.fn(),\n      unobserve: jest.fn(),\n      disconnect: jest.fn(),\n    }));\n\n    // Mock HTMLCanvasElement and 2D context\n    const mockContext = {\n      fillRect: jest.fn(),\n      clearRect: jest.fn(),\n      getImageData: jest.fn(() => ({\n        data: new Uint8ClampedArray(4),\n      })),\n      putImageData: jest.fn(),\n      createImageData: jest.fn(),\n      setTransform: jest.fn(),\n      drawImage: jest.fn(),\n      save: jest.fn(),\n      restore: jest.fn(),\n      fillText: jest.fn(),\n      measureText: jest.fn(() => ({ width: 100 })),\n      arc: jest.fn(),\n      beginPath: jest.fn(),\n      closePath: jest.fn(),\n      fill: jest.fn(),\n      stroke: jest.fn(),\n      scale: jest.fn(),\n      rotate: jest.fn(),\n      translate: jest.fn(),\n      clip: jest.fn(),\n      moveTo: jest.fn(),\n      lineTo: jest.fn(),\n      bezierCurveTo: jest.fn(),\n      quadraticCurveTo: jest.fn(),\n      createLinearGradient: jest.fn(),\n      createRadialGradient: jest.fn(),\n    };\n\n    // Mock canvas element\n    HTMLCanvasElement.prototype.getContext = jest.fn(() => mockContext);\n    HTMLCanvasElement.prototype.toDataURL = jest.fn(\n      () => \"data:image/png;base64,mock\",\n    );\n    HTMLCanvasElement.prototype.toBlob = jest.fn();\n  });\n\n  describe(\"Component Initialization\", () => {\n    test(\"renders without crashing\", () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      expect(screen.getByText(\"Global Knowledge Graph\")).toBeInTheDocument();\n      expect(document.querySelector(\"canvas\")).toBeInTheDocument();\n    });\n\n    test(\"displays graph title\", () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      expect(screen.getByText(\"Global Knowledge Graph\")).toBeInTheDocument();\n    });\n\n    test(\"renders control buttons\", () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      expect(\n        screen.getByRole(\"button\", { name: /zoom in/i }),\n      ).toBeInTheDocument();\n      expect(\n        screen.getByRole(\"button\", { name: /zoom out/i }),\n      ).toBeInTheDocument();\n      expect(\n        screen.getByRole(\"button\", { name: /reset view/i }),\n      ).toBeInTheDocument();\n    });\n\n    test(\"renders about button\", () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      // The about button is rendered in the component, look for its title attribute\n      expect(document.querySelector('[title=\"About\"]')).toBeInTheDocument();\n    });\n\n    test(\"renders SVG element\", () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      const svg = document.querySelector(\"svg\");\n      expect(svg).toBeInTheDocument();\n    });\n  });\n\n  describe(\"Graph Visualization\", () => {\n    test(\"initializes D3 force simulation\", () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      expect(mockForceSimulation.nodes).toHaveBeenCalled();\n      expect(mockForceSimulation.force).toHaveBeenCalledWith(\n        \"link\",\n        expect.any(Object),\n      );\n      expect(mockForceSimulation.force).toHaveBeenCalledWith(\n        \"charge\",\n        expect.any(Object),\n      );\n      expect(mockForceSimulation.force).toHaveBeenCalledWith(\n        \"center\",\n        expect.any(Object),\n      );\n      expect(mockForceSimulation.force).toHaveBeenCalledWith(\n        \"collision\",\n        expect.any(Object),\n      );\n    });\n\n    test(\"creates nodes from agent data\", () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      // Simulation should be initialized with nodes\n      expect(mockForceSimulation.nodes).toHaveBeenCalled();\n    });\n\n    test(\"handles empty agents array\", () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} agents={[]} />);\n\n      expect(screen.getByTestId(\"card\")).toBeInTheDocument();\n      expect(mockForceSimulation.nodes).toHaveBeenCalled();\n    });\n\n    test(\"handles multiple agents\", () => {\n      const multipleAgents = [\n        mockAgent,\n        {\n          ...mockAgent,\n          id: \"agent-2\",\n          name: \"Second Agent\",\n          color: \"#00ff00\",\n          knowledge: [\n            {\n              ...mockKnowledgeEntry,\n              id: \"knowledge-2\",\n              title: \"Second Knowledge\",\n              tags: [\"different\", \"tags\"],\n            },\n          ],\n        },\n      ];\n\n      render(\n        <GlobalKnowledgeGraph {...defaultProps} agents={multipleAgents} />,\n      );\n\n      expect(mockForceSimulation.nodes).toHaveBeenCalled();\n    });\n  });\n\n  describe(\"Control Interactions\", () => {\n    test(\"zoom in button works\", () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      const zoomInButton = screen.getByRole(\"button\", { name: /zoom in/i });\n      fireEvent.click(zoomInButton);\n\n      // Should trigger zoom functionality\n      expect(zoomInButton).toBeInTheDocument();\n    });\n\n    test(\"zoom out button works\", () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      const zoomOutButton = screen.getByRole(\"button\", { name: /zoom out/i });\n      fireEvent.click(zoomOutButton);\n\n      expect(zoomOutButton).toBeInTheDocument();\n    });\n\n    test(\"reset view button works\", () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      const resetButton = screen.getByRole(\"button\", { name: /reset view/i });\n      fireEvent.click(resetButton);\n\n      expect(resetButton).toBeInTheDocument();\n    });\n\n    test(\"play/pause simulation button works\", async () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      // Look for play/pause button (might start as either)\n      const buttons = screen.getAllByRole(\"button\");\n      const playPauseButton = buttons.find(\n        (button) =>\n          button.getAttribute(\"title\")?.includes(\"play\") ||\n          button.getAttribute(\"title\")?.includes(\"pause\") ||\n          button.textContent?.includes(\"Play\") ||\n          button.textContent?.includes(\"Pause\"),\n      );\n\n      if (playPauseButton) {\n        fireEvent.click(playPauseButton);\n        expect(playPauseButton).toBeInTheDocument();\n      }\n    });\n\n    test(\"about button triggers callback\", () => {\n      const onShowAbout = jest.fn();\n      render(\n        <GlobalKnowledgeGraph {...defaultProps} onShowAbout={onShowAbout} />,\n      );\n\n      const aboutButton = document.querySelector('[title=\"About\"]');\n      if (aboutButton) {\n        fireEvent.click(aboutButton);\n        expect(onShowAbout).toHaveBeenCalled();\n      }\n    });\n  });\n\n  describe(\"Node Selection\", () => {\n    test(\"node selection triggers callback\", async () => {\n      const onSelectNode = jest.fn();\n      render(\n        <GlobalKnowledgeGraph {...defaultProps} onSelectNode={onSelectNode} />,\n      );\n\n      // Wait for the component to render and set up\n      await waitFor(() => {\n        expect(mockForceSimulation.on).toHaveBeenCalled();\n      });\n\n      // Simulate D3 tick callback that would be called\n      const tickCallback = mockForceSimulation.on.mock.calls.find(\n        (call) => call[0] === \"tick\",\n      )?.[1];\n\n      if (tickCallback) {\n        act(() => {\n          tickCallback();\n        });\n      }\n    });\n\n    test(\"handles different node types\", () => {\n      const agentWithTags = {\n        ...mockAgent,\n        knowledge: [\n          {\n            ...mockKnowledgeEntry,\n            tags: [\"physics\", \"mathematics\", \"science\"],\n          },\n        ],\n      };\n\n      render(\n        <GlobalKnowledgeGraph {...defaultProps} agents={[agentWithTags]} />,\n      );\n\n      expect(mockForceSimulation.nodes).toHaveBeenCalled();\n    });\n  });\n\n  describe(\"Graph Layout and Physics\", () => {\n    test(\"force simulation is configured correctly\", () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      // Check that forces are configured\n      expect(mockForceSimulation.force).toHaveBeenCalledWith(\n        \"link\",\n        expect.any(Object),\n      );\n      expect(mockForceSimulation.force).toHaveBeenCalledWith(\n        \"charge\",\n        expect.any(Object),\n      );\n      expect(mockForceSimulation.force).toHaveBeenCalledWith(\n        \"center\",\n        expect.any(Object),\n      );\n      expect(mockForceSimulation.force).toHaveBeenCalledWith(\n        \"collision\",\n        expect.any(Object),\n      );\n    });\n\n    test(\"simulation restarts when data changes\", () => {\n      const { rerender } = render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      // Change agents data\n      const newAgent = {\n        ...mockAgent,\n        id: \"agent-new\",\n        name: \"New Agent\",\n      };\n\n      rerender(<GlobalKnowledgeGraph {...defaultProps} agents={[newAgent]} />);\n\n      // Simulation should restart with new data\n      expect(mockForceSimulation.restart).toHaveBeenCalled();\n    });\n\n    test(\"handles resize events\", async () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      // ResizeObserver should be set up\n      expect(global.ResizeObserver).toHaveBeenCalled();\n    });\n  });\n\n  describe(\"Data Processing\", () => {\n    test(\"consolidates duplicate knowledge entries\", () => {\n      const agentsWithDuplicateKnowledge = [\n        {\n          ...mockAgent,\n          knowledge: [{ ...mockKnowledgeEntry, title: \"Shared Knowledge\" }],\n        },\n        {\n          ...mockAgent,\n          id: \"agent-2\",\n          knowledge: [\n            {\n              ...mockKnowledgeEntry,\n              id: \"knowledge-2\",\n              title: \"Shared Knowledge\",\n            },\n          ],\n        },\n      ];\n\n      render(\n        <GlobalKnowledgeGraph\n          {...defaultProps}\n          agents={agentsWithDuplicateKnowledge}\n        />,\n      );\n\n      expect(mockForceSimulation.nodes).toHaveBeenCalled();\n    });\n\n    test(\"processes tags correctly\", () => {\n      const agentWithManyTags = {\n        ...mockAgent,\n        knowledge: [\n          {\n            ...mockKnowledgeEntry,\n            tags: [\"tag1\", \"tag2\", \"tag3\", \"common-tag\"],\n          },\n          {\n            ...mockKnowledgeEntry,\n            id: \"knowledge-2\",\n            title: \"Second Knowledge\",\n            tags: [\"tag4\", \"tag5\", \"common-tag\"],\n          },\n        ],\n      };\n\n      render(\n        <GlobalKnowledgeGraph {...defaultProps} agents={[agentWithManyTags]} />,\n      );\n\n      expect(mockForceSimulation.nodes).toHaveBeenCalled();\n    });\n\n    test(\"handles empty knowledge arrays\", () => {\n      const agentWithoutKnowledge = {\n        ...mockAgent,\n        knowledge: [],\n      };\n\n      render(\n        <GlobalKnowledgeGraph\n          {...defaultProps}\n          agents={[agentWithoutKnowledge]}\n        />,\n      );\n\n      expect(mockForceSimulation.nodes).toHaveBeenCalled();\n    });\n  });\n\n  describe(\"QuadTree Spatial Partitioning\", () => {\n    test(\"quadtree is used for collision detection\", () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      // The component should initialize properly even with quadtree\n      expect(screen.getByTestId(\"card\")).toBeInTheDocument();\n    });\n  });\n\n  describe(\"Performance and Memory\", () => {\n    test(\"handles large datasets efficiently\", () => {\n      const largeAgentList = Array.from({ length: 100 }, (_, i) => ({\n        ...mockAgent,\n        id: `agent-${i}`,\n        name: `Agent ${i}`,\n        knowledge: Array.from({ length: 10 }, (_, j) => ({\n          ...mockKnowledgeEntry,\n          id: `knowledge-${i}-${j}`,\n          title: `Knowledge ${i}-${j}`,\n          tags: [`tag-${i}`, `common-tag`, `specific-${j}`],\n        })),\n      }));\n\n      const startTime = Date.now();\n      render(\n        <GlobalKnowledgeGraph {...defaultProps} agents={largeAgentList} />,\n      );\n      const endTime = Date.now();\n\n      expect(endTime - startTime).toBeLessThan(2000);\n      expect(mockForceSimulation.nodes).toHaveBeenCalled();\n    });\n\n    test(\"cleans up simulation on unmount\", () => {\n      const { unmount } = render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      unmount();\n\n      expect(mockForceSimulation.stop).toHaveBeenCalled();\n    });\n  });\n\n  describe(\"Error Handling\", () => {\n    test(\"handles malformed agent data\", () => {\n      const malformedAgent = {\n        id: \"malformed\",\n        name: \"Malformed Agent\",\n        // Missing required fields\n      } as any;\n\n      expect(() => {\n        render(\n          <GlobalKnowledgeGraph {...defaultProps} agents={[malformedAgent]} />,\n        );\n      }).not.toThrow();\n    });\n\n    test(\"handles agents with malformed knowledge\", () => {\n      const agentWithMalformedKnowledge = {\n        ...mockAgent,\n        knowledge: [\n          { title: \"Knowledge without ID\" }, // Missing required fields\n        ] as any,\n      };\n\n      expect(() => {\n        render(\n          <GlobalKnowledgeGraph\n            {...defaultProps}\n            agents={[agentWithMalformedKnowledge]}\n          />,\n        );\n      }).not.toThrow();\n    });\n\n    test(\"handles null/undefined props gracefully\", () => {\n      expect(() => {\n        render(\n          <GlobalKnowledgeGraph\n            agents={[]}\n            onSelectNode={jest.fn()}\n            onShowAbout={jest.fn()}\n          />,\n        );\n      }).not.toThrow();\n    });\n  });\n\n  describe(\"Accessibility\", () => {\n    test(\"provides accessible structure\", () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      expect(\n        screen.getByRole(\"button\", { name: /zoom in/i }),\n      ).toBeInTheDocument();\n      expect(\n        screen.getByRole(\"button\", { name: /zoom out/i }),\n      ).toBeInTheDocument();\n    });\n\n    test(\"SVG has proper attributes for screen readers\", () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      const svg = document.querySelector(\"svg\");\n      expect(svg).toBeInTheDocument();\n      // SVG should be properly structured for accessibility\n    });\n  });\n\n  describe(\"Visual Elements\", () => {\n    test(\"applies correct styling classes\", () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      const container = document.querySelector(\".rounded-lg.border.bg-card\");\n      expect(container).toBeInTheDocument();\n    });\n\n    test(\"renders with proper layout structure\", () => {\n      render(<GlobalKnowledgeGraph {...defaultProps} />);\n\n      expect(screen.getByText(\"Global Knowledge Graph\")).toBeInTheDocument();\n      expect(document.querySelector(\"canvas\")).toBeInTheDocument();\n    });\n  });\n});\n"],"names":["mockForceSimulation","nodes","jest","fn","mockReturnThis","links","force","on","restart","stop","alpha","alphaTarget","alphaDecay","velocityDecay","tick","mockForceCenter","mockForceLink","mockForceManyBody","mockForceCollide","mock","forceSimulation","forceCenter","forceLink","forceManyBody","forceCollide","mockDragBehavior","mockSelect","selectAll","data","enter","append","merge","exit","remove","attr","style","text","call","raise","node","getBBox","width","height","mockDrag","select","drag","Card","children","props","div","data-testid","CardContent","CardHeader","CardTitle","h3","Button","onClick","button","MockAboutButton","onShowAbout","mockKnowledgeEntry","id","title","content","source","timestamp","Date","tags","metadata","mockAgent","name","biography","color","position","x","y","knowledge","toolPermissions","internetSearch","webScraping","wikipediaAccess","newsApi","academicSearch","documentRetrieval","imageGeneration","textSummarization","translation","codeExecution","calculator","knowledgeGraphQuery","factChecking","timelineGenerator","weatherData","mapLocationData","financialData","publicDatasets","memorySearch","crossAgentKnowledge","conversationAnalysis","autonomyEnabled","inConversation","defaultProps","agents","onSelectNode","describe","beforeEach","clearAllMocks","global","ResizeObserver","mockImplementation","observe","unobserve","disconnect","mockContext","fillRect","clearRect","getImageData","Uint8ClampedArray","putImageData","createImageData","setTransform","drawImage","save","restore","fillText","measureText","arc","beginPath","closePath","fill","stroke","scale","rotate","translate","clip","moveTo","lineTo","bezierCurveTo","quadraticCurveTo","createLinearGradient","createRadialGradient","HTMLCanvasElement","prototype","getContext","toDataURL","toBlob","test","render","GlobalKnowledgeGraph","expect","screen","getByText","toBeInTheDocument","document","querySelector","getByRole","svg","toHaveBeenCalled","toHaveBeenCalledWith","any","Object","getByTestId","multipleAgents","zoomInButton","fireEvent","click","zoomOutButton","resetButton","buttons","getAllByRole","playPauseButton","find","getAttribute","includes","textContent","aboutButton","waitFor","tickCallback","calls","act","agentWithTags","rerender","newAgent","agentsWithDuplicateKnowledge","agentWithManyTags","agentWithoutKnowledge","largeAgentList","Array","from","length","_","i","j","startTime","now","endTime","toBeLessThan","unmount","malformedAgent","not","toThrow","agentWithMalformedKnowledge","container"],"mappings":"AAAA;;;;CAIC;;;;;8DAEiB;wBAOX;yBACc;6EACY;;;;;;AAGjC,4CAA4C;AAC5C,MAAMA,sBAAsB;IAC1BC,OAAOC,aAAI,CAACC,EAAE,GAAGC,cAAc;IAC/BC,OAAOH,aAAI,CAACC,EAAE,GAAGC,cAAc;IAC/BE,OAAOJ,aAAI,CAACC,EAAE,GAAGC,cAAc;IAC/BG,IAAIL,aAAI,CAACC,EAAE,GAAGC,cAAc;IAC5BI,SAASN,aAAI,CAACC,EAAE,GAAGC,cAAc;IACjCK,MAAMP,aAAI,CAACC,EAAE,GAAGC,cAAc;IAC9BM,OAAOR,aAAI,CAACC,EAAE,GAAGC,cAAc;IAC/BO,aAAaT,aAAI,CAACC,EAAE,GAAGC,cAAc;IACrCQ,YAAYV,aAAI,CAACC,EAAE,GAAGC,cAAc;IACpCS,eAAeX,aAAI,CAACC,EAAE,GAAGC,cAAc;IACvCU,MAAMZ,aAAI,CAACC,EAAE,GAAGC,cAAc;AAChC;AAEA,MAAMW,kBAAkBb,aAAI,CAACC,EAAE,CAAC,IAAMH;AACtC,MAAMgB,gBAAgBd,aAAI,CAACC,EAAE,CAAC,IAAMH;AACpC,MAAMiB,oBAAoBf,aAAI,CAACC,EAAE,CAAC,IAAMH;AACxC,MAAMkB,mBAAmBhB,aAAI,CAACC,EAAE,CAAC,IAAMH;AAEvCE,aAAI,CAACiB,IAAI,CAAC,YAAY,IAAO,CAAA;QAC3BC,iBAAiBlB,aAAI,CAACC,EAAE,CAAC,IAAMH;QAC/BqB,aAAaN;QACbO,WAAWN;QACXO,eAAeN;QACfO,cAAcN;IAChB,CAAA;AAEA,6BAA6B;AAC7B,MAAMO,mBAAmB;IACvBlB,IAAIL,aAAI,CAACC,EAAE,GAAGC,cAAc;AAC9B;AAEA,MAAMsB,aAAaxB,aAAI,CAACC,EAAE,CAAC,IAAO,CAAA;QAChCwB,WAAWzB,aAAI,CAACC,EAAE,GAAGC,cAAc;QACnCwB,MAAM1B,aAAI,CAACC,EAAE,GAAGC,cAAc;QAC9ByB,OAAO3B,aAAI,CAACC,EAAE,GAAGC,cAAc;QAC/B0B,QAAQ5B,aAAI,CAACC,EAAE,GAAGC,cAAc;QAChC2B,OAAO7B,aAAI,CAACC,EAAE,GAAGC,cAAc;QAC/B4B,MAAM9B,aAAI,CAACC,EAAE,GAAGC,cAAc;QAC9B6B,QAAQ/B,aAAI,CAACC,EAAE,GAAGC,cAAc;QAChC8B,MAAMhC,aAAI,CAACC,EAAE,GAAGC,cAAc;QAC9B+B,OAAOjC,aAAI,CAACC,EAAE,GAAGC,cAAc;QAC/BgC,MAAMlC,aAAI,CAACC,EAAE,GAAGC,cAAc;QAC9BG,IAAIL,aAAI,CAACC,EAAE,GAAGC,cAAc;QAC5BiC,MAAMnC,aAAI,CAACC,EAAE,GAAGC,cAAc;QAC9BkC,OAAOpC,aAAI,CAACC,EAAE,GAAGC,cAAc;QAC/BmC,MAAMrC,aAAI,CAACC,EAAE,CAAC,IAAO,CAAA;gBACnBqC,SAAS,IAAO,CAAA;wBAAEC,OAAO;wBAAKC,QAAQ;oBAAG,CAAA;YAC3C,CAAA;IACF,CAAA;AAEA,MAAMC,WAAWzC,aAAI,CAACC,EAAE,CAAC,IAAMsB;AAE/BvB,aAAI,CAACiB,IAAI,CAAC,gBAAgB,IAAO,CAAA;QAC/ByB,QAAQlB;IACV,CAAA;AAEAxB,aAAI,CAACiB,IAAI,CAAC,WAAW,IAAO,CAAA;QAC1B0B,MAAMF;IACR,CAAA;AAEA,kBAAkB;AAClBzC,aAAI,CAACiB,IAAI,CAAC,wBAAwB,IAAO,CAAA;QACvC2B,MAAM,CAAC,EAAEC,QAAQ,EAAE,GAAGC,OAAY,iBAChC,qBAACC;gBAAIC,eAAY;gBAAQ,GAAGF,KAAK;0BAC9BD;;QAGLI,aAAa,CAAC,EAAEJ,QAAQ,EAAE,GAAGC,OAAY,iBACvC,qBAACC;gBAAIC,eAAY;gBAAgB,GAAGF,KAAK;0BACtCD;;QAGLK,YAAY,CAAC,EAAEL,QAAQ,EAAE,GAAGC,OAAY,iBACtC,qBAACC;gBAAIC,eAAY;gBAAe,GAAGF,KAAK;0BACrCD;;QAGLM,WAAW,CAAC,EAAEN,QAAQ,EAAE,GAAGC,OAAY,iBACrC,qBAACM;gBAAGJ,eAAY;gBAAc,GAAGF,KAAK;0BACnCD;;IAGP,CAAA;AAEA7C,aAAI,CAACiB,IAAI,CAAC,0BAA0B,IAAO,CAAA;QACzCoC,QAAQ,CAAC,EAAER,QAAQ,EAAES,OAAO,EAAE,GAAGR,OAAY,iBAC3C,qBAACS;gBAAOD,SAASA;gBAAU,GAAGR,KAAK;0BAChCD;;IAGP,CAAA;AAEA7C,aAAI,CAACiB,IAAI,CAAC,4BAA4B;IACpC,OAAO,SAASuC,gBAAgB,EAAEC,WAAW,EAAO;QAClD,qBACE,qBAACF;YAAOD,SAASG;YAAaT,eAAY;sBAAe;;IAI7D;AACF;AAEA,YAAY;AACZ,MAAMU,qBAAqC;IACzCC,IAAI;IACJC,OAAO;IACPC,SAAS;IACTC,QAAQ;IACRC,WAAW,IAAIC;IACfC,MAAM;QAAC;QAAQ;KAAY;IAC3BC,UAAU,CAAC;AACb;AAEA,MAAMC,YAAmB;IACvBR,IAAI;IACJS,MAAM;IACNC,WAAW;IACXC,OAAO;IACPC,UAAU;QAAEC,GAAG;QAAGC,GAAG;IAAE;IACvBC,WAAW;QAAChB;KAAmB;IAC/BiB,iBAAiB;QACfC,gBAAgB;QAChBC,aAAa;QACbC,iBAAiB;QACjBC,SAAS;QACTC,gBAAgB;QAChBC,mBAAmB;QACnBC,iBAAiB;QACjBC,mBAAmB;QACnBC,aAAa;QACbC,eAAe;QACfC,YAAY;QACZC,qBAAqB;QACrBC,cAAc;QACdC,mBAAmB;QACnBC,aAAa;QACbC,iBAAiB;QACjBC,eAAe;QACfC,gBAAgB;QAChBC,cAAc;QACdC,qBAAqB;QACrBC,sBAAsB;IACxB;IACAC,iBAAiB;IACjBC,gBAAgB;AAClB;AAEA,MAAMC,eAAe;IACnBC,QAAQ;QAACjC;KAAU;IACnBkC,cAAcrG,aAAI,CAACC,EAAE;IACrBwD,aAAazD,aAAI,CAACC,EAAE;AACtB;AAEAqG,SAAS,wBAAwB;IAC/BC,WAAW;QACTvG,aAAI,CAACwG,aAAa;QAElB,qCAAqC;QACrC1G,oBAAoBC,KAAK,CAACG,cAAc;QACxCJ,oBAAoBK,KAAK,CAACD,cAAc;QACxCJ,oBAAoBM,KAAK,CAACF,cAAc;QACxCJ,oBAAoBO,EAAE,CAACH,cAAc;QACrCJ,oBAAoBQ,OAAO,CAACJ,cAAc;QAC1CJ,oBAAoBS,IAAI,CAACL,cAAc;QAEvC,sBAAsB;QACtBuG,OAAOC,cAAc,GAAG1G,aAAI,CAACC,EAAE,GAAG0G,kBAAkB,CAAC,IAAO,CAAA;gBAC1DC,SAAS5G,aAAI,CAACC,EAAE;gBAChB4G,WAAW7G,aAAI,CAACC,EAAE;gBAClB6G,YAAY9G,aAAI,CAACC,EAAE;YACrB,CAAA;QAEA,wCAAwC;QACxC,MAAM8G,cAAc;YAClBC,UAAUhH,aAAI,CAACC,EAAE;YACjBgH,WAAWjH,aAAI,CAACC,EAAE;YAClBiH,cAAclH,aAAI,CAACC,EAAE,CAAC,IAAO,CAAA;oBAC3ByB,MAAM,IAAIyF,kBAAkB;gBAC9B,CAAA;YACAC,cAAcpH,aAAI,CAACC,EAAE;YACrBoH,iBAAiBrH,aAAI,CAACC,EAAE;YACxBqH,cAActH,aAAI,CAACC,EAAE;YACrBsH,WAAWvH,aAAI,CAACC,EAAE;YAClBuH,MAAMxH,aAAI,CAACC,EAAE;YACbwH,SAASzH,aAAI,CAACC,EAAE;YAChByH,UAAU1H,aAAI,CAACC,EAAE;YACjB0H,aAAa3H,aAAI,CAACC,EAAE,CAAC,IAAO,CAAA;oBAAEsC,OAAO;gBAAI,CAAA;YACzCqF,KAAK5H,aAAI,CAACC,EAAE;YACZ4H,WAAW7H,aAAI,CAACC,EAAE;YAClB6H,WAAW9H,aAAI,CAACC,EAAE;YAClB8H,MAAM/H,aAAI,CAACC,EAAE;YACb+H,QAAQhI,aAAI,CAACC,EAAE;YACfgI,OAAOjI,aAAI,CAACC,EAAE;YACdiI,QAAQlI,aAAI,CAACC,EAAE;YACfkI,WAAWnI,aAAI,CAACC,EAAE;YAClBmI,MAAMpI,aAAI,CAACC,EAAE;YACboI,QAAQrI,aAAI,CAACC,EAAE;YACfqI,QAAQtI,aAAI,CAACC,EAAE;YACfsI,eAAevI,aAAI,CAACC,EAAE;YACtBuI,kBAAkBxI,aAAI,CAACC,EAAE;YACzBwI,sBAAsBzI,aAAI,CAACC,EAAE;YAC7ByI,sBAAsB1I,aAAI,CAACC,EAAE;QAC/B;QAEA,sBAAsB;QACtB0I,kBAAkBC,SAAS,CAACC,UAAU,GAAG7I,aAAI,CAACC,EAAE,CAAC,IAAM8G;QACvD4B,kBAAkBC,SAAS,CAACE,SAAS,GAAG9I,aAAI,CAACC,EAAE,CAC7C,IAAM;QAER0I,kBAAkBC,SAAS,CAACG,MAAM,GAAG/I,aAAI,CAACC,EAAE;IAC9C;IAEAqG,SAAS,4BAA4B;QACnC0C,KAAK,4BAA4B;YAC/BC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7CgD,OAAOC,cAAM,CAACC,SAAS,CAAC,2BAA2BC,iBAAiB;YACpEH,OAAOI,SAASC,aAAa,CAAC,WAAWF,iBAAiB;QAC5D;QAEAN,KAAK,wBAAwB;YAC3BC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7CgD,OAAOC,cAAM,CAACC,SAAS,CAAC,2BAA2BC,iBAAiB;QACtE;QAEAN,KAAK,2BAA2B;YAC9BC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7CgD,OACEC,cAAM,CAACK,SAAS,CAAC,UAAU;gBAAErF,MAAM;YAAW,IAC9CkF,iBAAiB;YACnBH,OACEC,cAAM,CAACK,SAAS,CAAC,UAAU;gBAAErF,MAAM;YAAY,IAC/CkF,iBAAiB;YACnBH,OACEC,cAAM,CAACK,SAAS,CAAC,UAAU;gBAAErF,MAAM;YAAc,IACjDkF,iBAAiB;QACrB;QAEAN,KAAK,wBAAwB;YAC3BC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7C,8EAA8E;YAC9EgD,OAAOI,SAASC,aAAa,CAAC,oBAAoBF,iBAAiB;QACrE;QAEAN,KAAK,uBAAuB;YAC1BC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7C,MAAMuD,MAAMH,SAASC,aAAa,CAAC;YACnCL,OAAOO,KAAKJ,iBAAiB;QAC/B;IACF;IAEAhD,SAAS,uBAAuB;QAC9B0C,KAAK,mCAAmC;YACtCC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7CgD,OAAOrJ,oBAAoBC,KAAK,EAAE4J,gBAAgB;YAClDR,OAAOrJ,oBAAoBM,KAAK,EAAEwJ,oBAAoB,CACpD,QACAT,OAAOU,GAAG,CAACC;YAEbX,OAAOrJ,oBAAoBM,KAAK,EAAEwJ,oBAAoB,CACpD,UACAT,OAAOU,GAAG,CAACC;YAEbX,OAAOrJ,oBAAoBM,KAAK,EAAEwJ,oBAAoB,CACpD,UACAT,OAAOU,GAAG,CAACC;YAEbX,OAAOrJ,oBAAoBM,KAAK,EAAEwJ,oBAAoB,CACpD,aACAT,OAAOU,GAAG,CAACC;QAEf;QAEAd,KAAK,iCAAiC;YACpCC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7C,8CAA8C;YAC9CgD,OAAOrJ,oBAAoBC,KAAK,EAAE4J,gBAAgB;QACpD;QAEAX,KAAK,8BAA8B;YACjCC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;gBAAEC,QAAQ,EAAE;;YAEzD+C,OAAOC,cAAM,CAACW,WAAW,CAAC,SAAST,iBAAiB;YACpDH,OAAOrJ,oBAAoBC,KAAK,EAAE4J,gBAAgB;QACpD;QAEAX,KAAK,2BAA2B;YAC9B,MAAMgB,iBAAiB;gBACrB7F;gBACA;oBACE,GAAGA,SAAS;oBACZR,IAAI;oBACJS,MAAM;oBACNE,OAAO;oBACPI,WAAW;wBACT;4BACE,GAAGhB,kBAAkB;4BACrBC,IAAI;4BACJC,OAAO;4BACPK,MAAM;gCAAC;gCAAa;6BAAO;wBAC7B;qBACD;gBACH;aACD;YAEDgF,IAAAA,cAAM,gBACJ,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;gBAAEC,QAAQ4D;;YAGlDb,OAAOrJ,oBAAoBC,KAAK,EAAE4J,gBAAgB;QACpD;IACF;IAEArD,SAAS,wBAAwB;QAC/B0C,KAAK,wBAAwB;YAC3BC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7C,MAAM8D,eAAeb,cAAM,CAACK,SAAS,CAAC,UAAU;gBAAErF,MAAM;YAAW;YACnE8F,iBAAS,CAACC,KAAK,CAACF;YAEhB,oCAAoC;YACpCd,OAAOc,cAAcX,iBAAiB;QACxC;QAEAN,KAAK,yBAAyB;YAC5BC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7C,MAAMiE,gBAAgBhB,cAAM,CAACK,SAAS,CAAC,UAAU;gBAAErF,MAAM;YAAY;YACrE8F,iBAAS,CAACC,KAAK,CAACC;YAEhBjB,OAAOiB,eAAed,iBAAiB;QACzC;QAEAN,KAAK,2BAA2B;YAC9BC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7C,MAAMkE,cAAcjB,cAAM,CAACK,SAAS,CAAC,UAAU;gBAAErF,MAAM;YAAc;YACrE8F,iBAAS,CAACC,KAAK,CAACE;YAEhBlB,OAAOkB,aAAaf,iBAAiB;QACvC;QAEAN,KAAK,sCAAsC;YACzCC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7C,qDAAqD;YACrD,MAAMmE,UAAUlB,cAAM,CAACmB,YAAY,CAAC;YACpC,MAAMC,kBAAkBF,QAAQG,IAAI,CAClC,CAAClH,SACCA,OAAOmH,YAAY,CAAC,UAAUC,SAAS,WACvCpH,OAAOmH,YAAY,CAAC,UAAUC,SAAS,YACvCpH,OAAOqH,WAAW,EAAED,SAAS,WAC7BpH,OAAOqH,WAAW,EAAED,SAAS;YAGjC,IAAIH,iBAAiB;gBACnBN,iBAAS,CAACC,KAAK,CAACK;gBAChBrB,OAAOqB,iBAAiBlB,iBAAiB;YAC3C;QACF;QAEAN,KAAK,kCAAkC;YACrC,MAAMvF,cAAczD,aAAI,CAACC,EAAE;YAC3BgJ,IAAAA,cAAM,gBACJ,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;gBAAE1C,aAAaA;;YAGvD,MAAMoH,cAActB,SAASC,aAAa,CAAC;YAC3C,IAAIqB,aAAa;gBACfX,iBAAS,CAACC,KAAK,CAACU;gBAChB1B,OAAO1F,aAAakG,gBAAgB;YACtC;QACF;IACF;IAEArD,SAAS,kBAAkB;QACzB0C,KAAK,oCAAoC;YACvC,MAAM3C,eAAerG,aAAI,CAACC,EAAE;YAC5BgJ,IAAAA,cAAM,gBACJ,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;gBAAEE,cAAcA;;YAGxD,8CAA8C;YAC9C,MAAMyE,IAAAA,eAAO,EAAC;gBACZ3B,OAAOrJ,oBAAoBO,EAAE,EAAEsJ,gBAAgB;YACjD;YAEA,iDAAiD;YACjD,MAAMoB,eAAejL,oBAAoBO,EAAE,CAACY,IAAI,CAAC+J,KAAK,CAACP,IAAI,CACzD,CAACtI,OAASA,IAAI,CAAC,EAAE,KAAK,SACrB,CAAC,EAAE;YAEN,IAAI4I,cAAc;gBAChBE,IAAAA,WAAG,EAAC;oBACFF;gBACF;YACF;QACF;QAEA/B,KAAK,gCAAgC;YACnC,MAAMkC,gBAAgB;gBACpB,GAAG/G,SAAS;gBACZO,WAAW;oBACT;wBACE,GAAGhB,kBAAkB;wBACrBO,MAAM;4BAAC;4BAAW;4BAAe;yBAAU;oBAC7C;iBACD;YACH;YAEAgF,IAAAA,cAAM,gBACJ,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;gBAAEC,QAAQ;oBAAC8E;iBAAc;;YAGjE/B,OAAOrJ,oBAAoBC,KAAK,EAAE4J,gBAAgB;QACpD;IACF;IAEArD,SAAS,4BAA4B;QACnC0C,KAAK,4CAA4C;YAC/CC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7C,mCAAmC;YACnCgD,OAAOrJ,oBAAoBM,KAAK,EAAEwJ,oBAAoB,CACpD,QACAT,OAAOU,GAAG,CAACC;YAEbX,OAAOrJ,oBAAoBM,KAAK,EAAEwJ,oBAAoB,CACpD,UACAT,OAAOU,GAAG,CAACC;YAEbX,OAAOrJ,oBAAoBM,KAAK,EAAEwJ,oBAAoB,CACpD,UACAT,OAAOU,GAAG,CAACC;YAEbX,OAAOrJ,oBAAoBM,KAAK,EAAEwJ,oBAAoB,CACpD,aACAT,OAAOU,GAAG,CAACC;QAEf;QAEAd,KAAK,yCAAyC;YAC5C,MAAM,EAAEmC,QAAQ,EAAE,GAAGlC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAElE,qBAAqB;YACrB,MAAMiF,WAAW;gBACf,GAAGjH,SAAS;gBACZR,IAAI;gBACJS,MAAM;YACR;YAEA+G,uBAAS,qBAACjC,6BAAoB;gBAAE,GAAG/C,YAAY;gBAAEC,QAAQ;oBAACgF;iBAAS;;YAEnE,0CAA0C;YAC1CjC,OAAOrJ,oBAAoBQ,OAAO,EAAEqJ,gBAAgB;QACtD;QAEAX,KAAK,yBAAyB;YAC5BC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7C,kCAAkC;YAClCgD,OAAO1C,OAAOC,cAAc,EAAEiD,gBAAgB;QAChD;IACF;IAEArD,SAAS,mBAAmB;QAC1B0C,KAAK,4CAA4C;YAC/C,MAAMqC,+BAA+B;gBACnC;oBACE,GAAGlH,SAAS;oBACZO,WAAW;wBAAC;4BAAE,GAAGhB,kBAAkB;4BAAEE,OAAO;wBAAmB;qBAAE;gBACnE;gBACA;oBACE,GAAGO,SAAS;oBACZR,IAAI;oBACJe,WAAW;wBACT;4BACE,GAAGhB,kBAAkB;4BACrBC,IAAI;4BACJC,OAAO;wBACT;qBACD;gBACH;aACD;YAEDqF,IAAAA,cAAM,gBACJ,qBAACC,6BAAoB;gBAClB,GAAG/C,YAAY;gBAChBC,QAAQiF;;YAIZlC,OAAOrJ,oBAAoBC,KAAK,EAAE4J,gBAAgB;QACpD;QAEAX,KAAK,4BAA4B;YAC/B,MAAMsC,oBAAoB;gBACxB,GAAGnH,SAAS;gBACZO,WAAW;oBACT;wBACE,GAAGhB,kBAAkB;wBACrBO,MAAM;4BAAC;4BAAQ;4BAAQ;4BAAQ;yBAAa;oBAC9C;oBACA;wBACE,GAAGP,kBAAkB;wBACrBC,IAAI;wBACJC,OAAO;wBACPK,MAAM;4BAAC;4BAAQ;4BAAQ;yBAAa;oBACtC;iBACD;YACH;YAEAgF,IAAAA,cAAM,gBACJ,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;gBAAEC,QAAQ;oBAACkF;iBAAkB;;YAGrEnC,OAAOrJ,oBAAoBC,KAAK,EAAE4J,gBAAgB;QACpD;QAEAX,KAAK,kCAAkC;YACrC,MAAMuC,wBAAwB;gBAC5B,GAAGpH,SAAS;gBACZO,WAAW,EAAE;YACf;YAEAuE,IAAAA,cAAM,gBACJ,qBAACC,6BAAoB;gBAClB,GAAG/C,YAAY;gBAChBC,QAAQ;oBAACmF;iBAAsB;;YAInCpC,OAAOrJ,oBAAoBC,KAAK,EAAE4J,gBAAgB;QACpD;IACF;IAEArD,SAAS,iCAAiC;QACxC0C,KAAK,4CAA4C;YAC/CC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7C,8DAA8D;YAC9DgD,OAAOC,cAAM,CAACW,WAAW,CAAC,SAAST,iBAAiB;QACtD;IACF;IAEAhD,SAAS,0BAA0B;QACjC0C,KAAK,sCAAsC;YACzC,MAAMwC,iBAAiBC,MAAMC,IAAI,CAAC;gBAAEC,QAAQ;YAAI,GAAG,CAACC,GAAGC,IAAO,CAAA;oBAC5D,GAAG1H,SAAS;oBACZR,IAAI,CAAC,MAAM,EAAEkI,EAAE,CAAC;oBAChBzH,MAAM,CAAC,MAAM,EAAEyH,EAAE,CAAC;oBAClBnH,WAAW+G,MAAMC,IAAI,CAAC;wBAAEC,QAAQ;oBAAG,GAAG,CAACC,GAAGE,IAAO,CAAA;4BAC/C,GAAGpI,kBAAkB;4BACrBC,IAAI,CAAC,UAAU,EAAEkI,EAAE,CAAC,EAAEC,EAAE,CAAC;4BACzBlI,OAAO,CAAC,UAAU,EAAEiI,EAAE,CAAC,EAAEC,EAAE,CAAC;4BAC5B7H,MAAM;gCAAC,CAAC,IAAI,EAAE4H,EAAE,CAAC;gCAAE,CAAC,UAAU,CAAC;gCAAE,CAAC,SAAS,EAAEC,EAAE,CAAC;6BAAC;wBACnD,CAAA;gBACF,CAAA;YAEA,MAAMC,YAAY/H,KAAKgI,GAAG;YAC1B/C,IAAAA,cAAM,gBACJ,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;gBAAEC,QAAQoF;;YAElD,MAAMS,UAAUjI,KAAKgI,GAAG;YAExB7C,OAAO8C,UAAUF,WAAWG,YAAY,CAAC;YACzC/C,OAAOrJ,oBAAoBC,KAAK,EAAE4J,gBAAgB;QACpD;QAEAX,KAAK,mCAAmC;YACtC,MAAM,EAAEmD,OAAO,EAAE,GAAGlD,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAEjEgG;YAEAhD,OAAOrJ,oBAAoBS,IAAI,EAAEoJ,gBAAgB;QACnD;IACF;IAEArD,SAAS,kBAAkB;QACzB0C,KAAK,gCAAgC;YACnC,MAAMoD,iBAAiB;gBACrBzI,IAAI;gBACJS,MAAM;YAER;YAEA+E,OAAO;gBACLF,IAAAA,cAAM,gBACJ,qBAACC,6BAAoB;oBAAE,GAAG/C,YAAY;oBAAEC,QAAQ;wBAACgG;qBAAe;;YAEpE,GAAGC,GAAG,CAACC,OAAO;QAChB;QAEAtD,KAAK,2CAA2C;YAC9C,MAAMuD,8BAA8B;gBAClC,GAAGpI,SAAS;gBACZO,WAAW;oBACT;wBAAEd,OAAO;oBAAuB;iBACjC;YACH;YAEAuF,OAAO;gBACLF,IAAAA,cAAM,gBACJ,qBAACC,6BAAoB;oBAClB,GAAG/C,YAAY;oBAChBC,QAAQ;wBAACmG;qBAA4B;;YAG3C,GAAGF,GAAG,CAACC,OAAO;QAChB;QAEAtD,KAAK,2CAA2C;YAC9CG,OAAO;gBACLF,IAAAA,cAAM,gBACJ,qBAACC,6BAAoB;oBACnB9C,QAAQ,EAAE;oBACVC,cAAcrG,aAAI,CAACC,EAAE;oBACrBwD,aAAazD,aAAI,CAACC,EAAE;;YAG1B,GAAGoM,GAAG,CAACC,OAAO;QAChB;IACF;IAEAhG,SAAS,iBAAiB;QACxB0C,KAAK,iCAAiC;YACpCC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7CgD,OACEC,cAAM,CAACK,SAAS,CAAC,UAAU;gBAAErF,MAAM;YAAW,IAC9CkF,iBAAiB;YACnBH,OACEC,cAAM,CAACK,SAAS,CAAC,UAAU;gBAAErF,MAAM;YAAY,IAC/CkF,iBAAiB;QACrB;QAEAN,KAAK,gDAAgD;YACnDC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7C,MAAMuD,MAAMH,SAASC,aAAa,CAAC;YACnCL,OAAOO,KAAKJ,iBAAiB;QAC7B,sDAAsD;QACxD;IACF;IAEAhD,SAAS,mBAAmB;QAC1B0C,KAAK,mCAAmC;YACtCC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7C,MAAMqG,YAAYjD,SAASC,aAAa,CAAC;YACzCL,OAAOqD,WAAWlD,iBAAiB;QACrC;QAEAN,KAAK,wCAAwC;YAC3CC,IAAAA,cAAM,gBAAC,qBAACC,6BAAoB;gBAAE,GAAG/C,YAAY;;YAE7CgD,OAAOC,cAAM,CAACC,SAAS,CAAC,2BAA2BC,iBAAiB;YACpEH,OAAOI,SAASC,aAAa,CAAC,WAAWF,iBAAiB;QAC5D;IACF;AACF"}