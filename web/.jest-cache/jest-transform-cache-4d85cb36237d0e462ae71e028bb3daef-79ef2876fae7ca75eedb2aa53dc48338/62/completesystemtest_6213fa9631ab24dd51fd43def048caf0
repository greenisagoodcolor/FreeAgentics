f31741ac24004bf07f4f713ee60083bd
/**
 * Complete System Integration Tests
 *
 * End-to-end integration tests covering all major system components
 * and workflows following ADR-007 requirements for comprehensive coverage.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _globals = require("@jest/globals");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock all external dependencies
_globals.jest.mock("next/navigation", ()=>({
        useRouter: ()=>({
                push: _globals.jest.fn(),
                replace: _globals.jest.fn(),
                back: _globals.jest.fn(),
                forward: _globals.jest.fn(),
                refresh: _globals.jest.fn(),
                prefetch: _globals.jest.fn()
            }),
        usePathname: ()=>"/dashboard",
        useSearchParams: ()=>new URLSearchParams()
    }));
// Mock D3 for visualization components
const mockD3Selection = {
    select: _globals.jest.fn(()=>mockD3Selection),
    selectAll: _globals.jest.fn(()=>mockD3Selection),
    attr: _globals.jest.fn(()=>mockD3Selection),
    style: _globals.jest.fn(()=>mockD3Selection),
    text: _globals.jest.fn(()=>mockD3Selection),
    on: _globals.jest.fn(()=>mockD3Selection),
    call: _globals.jest.fn(()=>mockD3Selection),
    data: _globals.jest.fn(()=>mockD3Selection),
    enter: _globals.jest.fn(()=>mockD3Selection),
    exit: _globals.jest.fn(()=>mockD3Selection),
    append: _globals.jest.fn(()=>mockD3Selection),
    remove: _globals.jest.fn(()=>mockD3Selection),
    transition: _globals.jest.fn(()=>mockD3Selection),
    duration: _globals.jest.fn(()=>mockD3Selection),
    ease: _globals.jest.fn(()=>mockD3Selection)
};
const mockD3 = {
    select: _globals.jest.fn(()=>mockD3Selection),
    scaleLinear: _globals.jest.fn(()=>({
            domain: _globals.jest.fn(function() {
                return this;
            }),
            range: _globals.jest.fn(function() {
                return this;
            }),
            nice: _globals.jest.fn(function() {
                return this;
            })
        })),
    scaleOrdinal: _globals.jest.fn(()=>({
            domain: _globals.jest.fn(function() {
                return this;
            }),
            range: _globals.jest.fn(function() {
                return this;
            })
        })),
    extent: _globals.jest.fn(()=>[
            0,
            100
        ]),
    max: _globals.jest.fn(()=>100),
    forceSimulation: _globals.jest.fn(()=>({
            force: _globals.jest.fn(function() {
                return this;
            }),
            nodes: _globals.jest.fn(function() {
                return this;
            }),
            on: _globals.jest.fn(function() {
                return this;
            }),
            stop: _globals.jest.fn(),
            restart: _globals.jest.fn()
        })),
    forceLink: _globals.jest.fn(()=>({
            id: _globals.jest.fn(function() {
                return this;
            }),
            distance: _globals.jest.fn(function() {
                return this;
            })
        })),
    forceManyBody: _globals.jest.fn(()=>({
            strength: _globals.jest.fn(function() {
                return this;
            })
        })),
    forceCenter: _globals.jest.fn(()=>({})),
    schemeCategory10: [
        "#1f77b4",
        "#ff7f0e",
        "#2ca02c"
    ],
    zoom: _globals.jest.fn(()=>({
            scaleExtent: _globals.jest.fn(function() {
                return this;
            }),
            on: _globals.jest.fn(function() {
                return this;
            })
        })),
    drag: _globals.jest.fn(()=>({
            on: _globals.jest.fn(function() {
                return this;
            })
        })),
    axisBottom: _globals.jest.fn(()=>mockD3Selection),
    axisLeft: _globals.jest.fn(()=>mockD3Selection),
    line: _globals.jest.fn(()=>({
            x: _globals.jest.fn(function() {
                return this;
            }),
            y: _globals.jest.fn(function() {
                return this;
            })
        }))
};
_globals.jest.unstable_mockModule("d3", ()=>mockD3);
// Mock WebSocket
global.WebSocket = _globals.jest.fn(()=>({
        send: _globals.jest.fn(),
        close: _globals.jest.fn(),
        onopen: null,
        onclose: null,
        onmessage: null,
        onerror: null,
        readyState: 1
    }));
// Mock IndexedDB
require("fake-indexeddb/auto");
// Mock Canvas Context
HTMLCanvasElement.prototype.getContext = _globals.jest.fn(()=>({
        fillRect: _globals.jest.fn(),
        clearRect: _globals.jest.fn(),
        getImageData: _globals.jest.fn(()=>({
                data: new Array(4)
            })),
        putImageData: _globals.jest.fn(),
        createImageData: _globals.jest.fn(()=>({
                data: new Array(4)
            })),
        setTransform: _globals.jest.fn(),
        drawImage: _globals.jest.fn(),
        save: _globals.jest.fn(),
        restore: _globals.jest.fn(),
        fillText: _globals.jest.fn(),
        measureText: _globals.jest.fn(()=>({
                width: 0
            })),
        strokeText: _globals.jest.fn(),
        beginPath: _globals.jest.fn(),
        moveTo: _globals.jest.fn(),
        lineTo: _globals.jest.fn(),
        stroke: _globals.jest.fn(),
        fill: _globals.jest.fn(),
        arc: _globals.jest.fn(),
        closePath: _globals.jest.fn(),
        translate: _globals.jest.fn(),
        scale: _globals.jest.fn(),
        rotate: _globals.jest.fn()
    }));
// System Components
class SystemManager {
    constructor(){
        this.state = this.initializeState();
        this.eventBus = new EventBus();
        this.websocketManager = new WebSocketManager();
        this.dataStore = new DataStore();
    }
    initializeState() {
        return {
            agents: [],
            conversations: [],
            knowledgeGraph: {
                nodes: [],
                edges: [],
                clusters: [],
                schema: {
                    version: "1.0",
                    types: []
                }
            },
            beliefs: [],
            coalitions: [],
            metrics: {
                performance: {
                    cpu: 0,
                    memory: 0,
                    latency: 0
                },
                usage: {
                    active_users: 0,
                    requests_per_minute: 0
                },
                errors: {
                    count: 0,
                    rate: 0,
                    types: {}
                },
                network: {
                    bandwidth: 0,
                    connections: 0
                }
            },
            settings: {
                llm: {
                    provider: "openai",
                    model: "gpt-3.5-turbo"
                },
                ui: {
                    theme: "light",
                    layout: "default"
                },
                simulation: {
                    speed: 1,
                    auto_advance: true
                },
                security: {
                    encryption: true,
                    audit_log: true
                }
            }
        };
    }
    // Agent Management
    createAgent(config) {
        const agent = {
            id: `agent_${Date.now()}`,
            name: config.name || "Unnamed Agent",
            type: config.type || "autonomous",
            status: "active",
            capabilities: config.capabilities || [],
            beliefs: {},
            performance: {
                messages_sent: 0,
                tasks_completed: 0,
                average_response_time: 0,
                success_rate: 1.0
            },
            relationships: []
        };
        this.state.agents.push(agent);
        this.eventBus.emit("agent_created", agent);
        return agent;
    }
    updateAgent(id, updates) {
        const agent = this.state.agents.find((a)=>a.id === id);
        if (!agent) return null;
        Object.assign(agent, updates);
        this.eventBus.emit("agent_updated", agent);
        return agent;
    }
    removeAgent(id) {
        const index = this.state.agents.findIndex((a)=>a.id === id);
        if (index === -1) return false;
        const agent = this.state.agents.splice(index, 1)[0];
        this.eventBus.emit("agent_removed", agent);
        return true;
    }
    // Conversation Management
    createConversation(title, participants) {
        const conversation = {
            id: `conv_${Date.now()}`,
            title,
            participants,
            messages: [],
            status: "active",
            metadata: {
                created_at: new Date(),
                last_activity: new Date(),
                topic_tags: [],
                priority: "normal"
            }
        };
        this.state.conversations.push(conversation);
        this.eventBus.emit("conversation_created", conversation);
        return conversation;
    }
    sendMessage(conversationId, agentId, content) {
        const conversation = this.state.conversations.find((c)=>c.id === conversationId);
        if (!conversation) throw new Error("Conversation not found");
        const message = {
            id: `msg_${Date.now()}`,
            agentId,
            content,
            timestamp: new Date(),
            type: "text",
            metadata: {
                conversation_id: conversationId,
                tokens: content.split(" ").length,
                sentiment: "neutral"
            }
        };
        conversation.messages.push(message);
        conversation.metadata.last_activity = new Date();
        this.eventBus.emit("message_sent", message);
        return message;
    }
    // Knowledge Graph Management
    addKnowledgeNode(type, label, properties) {
        const node = {
            id: `node_${Date.now()}`,
            type,
            label,
            properties,
            timestamp: new Date()
        };
        this.state.knowledgeGraph.nodes.push(node);
        this.eventBus.emit("knowledge_node_added", node);
        return node;
    }
    addKnowledgeEdge(sourceId, targetId, relationship) {
        const edge = {
            id: `edge_${Date.now()}`,
            source_id: sourceId,
            target_id: targetId,
            relationship,
            weight: 1.0,
            timestamp: new Date()
        };
        this.state.knowledgeGraph.edges.push(edge);
        this.eventBus.emit("knowledge_edge_added", edge);
        return edge;
    }
    // Belief Management
    updateBelief(agentId, beliefKey, value, confidence = 0.8) {
        const existingBelief = this.state.beliefs.find((b)=>b.agentId === agentId);
        if (existingBelief) {
            existingBelief.beliefs[beliefKey] = value;
            existingBelief.confidence = confidence;
            existingBelief.timestamp = new Date();
        } else {
            const newBelief = {
                agentId,
                beliefs: {
                    [beliefKey]: value
                },
                confidence,
                uncertainty: 1 - confidence,
                timestamp: new Date()
            };
            this.state.beliefs.push(newBelief);
        }
        this.eventBus.emit("belief_updated", {
            agentId,
            beliefKey,
            value,
            confidence
        });
    }
    // Coalition Management
    formCoalition(name, memberIds, purpose) {
        const coalition = {
            id: `coal_${Date.now()}`,
            name,
            members: memberIds,
            purpose,
            strength: this.calculateCoalitionStrength(memberIds),
            formation_strategy: "utility_based",
            lifecycle: {
                phase: "formation",
                start_time: new Date(),
                milestones: []
            }
        };
        this.state.coalitions.push(coalition);
        this.eventBus.emit("coalition_formed", coalition);
        return coalition;
    }
    calculateCoalitionStrength(memberIds) {
        const members = this.state.agents.filter((a)=>memberIds.includes(a.id));
        if (members.length === 0) return 0;
        const avgCapabilities = members.reduce((sum, agent)=>sum + agent.capabilities.length, 0) / members.length;
        const avgPerformance = members.reduce((sum, agent)=>sum + agent.performance.success_rate, 0) / members.length;
        return (avgCapabilities * 0.3 + avgPerformance * 0.7) * (members.length / 10);
    }
    // System Metrics
    updateMetrics() {
        this.state.metrics = {
            performance: {
                cpu: Math.random() * 100,
                memory: Math.random() * 100,
                latency: Math.random() * 1000
            },
            usage: {
                active_users: this.state.agents.filter((a)=>a.status === "active").length,
                requests_per_minute: Math.floor(Math.random() * 1000)
            },
            errors: {
                count: Math.floor(Math.random() * 10),
                rate: Math.random() * 0.05,
                types: {
                    network: 2,
                    validation: 1,
                    timeout: 1
                }
            },
            network: {
                bandwidth: Math.random() * 1000,
                connections: this.state.conversations.filter((c)=>c.status === "active").length
            }
        };
        this.eventBus.emit("metrics_updated", this.state.metrics);
    }
    // State Access
    getState() {
        return {
            ...this.state
        };
    }
    getAgents() {
        return [
            ...this.state.agents
        ];
    }
    getConversations() {
        return [
            ...this.state.conversations
        ];
    }
    getKnowledgeGraph() {
        return {
            ...this.state.knowledgeGraph
        };
    }
    getBeliefs() {
        return [
            ...this.state.beliefs
        ];
    }
    getCoalitions() {
        return [
            ...this.state.coalitions
        ];
    }
    getMetrics() {
        return {
            ...this.state.metrics
        };
    }
}
// Event Bus Implementation
class EventBus {
    on(event, callback) {
        if (!this.listeners.has(event)) {
            this.listeners.set(event, []);
        }
        this.listeners.get(event).push(callback);
    }
    off(event, callback) {
        const callbacks = this.listeners.get(event);
        if (callbacks) {
            const index = callbacks.indexOf(callback);
            if (index > -1) {
                callbacks.splice(index, 1);
            }
        }
    }
    emit(event, ...args) {
        const callbacks = this.listeners.get(event);
        if (callbacks) {
            callbacks.forEach((callback)=>callback(...args));
        }
    }
    clear() {
        this.listeners.clear();
    }
    constructor(){
        this.listeners = new Map();
    }
}
// WebSocket Manager
class WebSocketManager {
    connect(url, id = "default") {
        return new Promise((resolve, reject)=>{
            try {
                const ws = new WebSocket(url);
                ws.onopen = ()=>{
                    this.connections.set(id, ws);
                    this.reconnectAttempts.delete(id);
                    resolve(ws);
                };
                ws.onclose = ()=>{
                    this.connections.delete(id);
                    this.attemptReconnect(url, id);
                };
                ws.onerror = (error)=>{
                    reject(error);
                };
            } catch (error) {
                reject(error);
            }
        });
    }
    attemptReconnect(url, id) {
        const attempts = this.reconnectAttempts.get(id) || 0;
        if (attempts < this.maxReconnectAttempts) {
            this.reconnectAttempts.set(id, attempts + 1);
            setTimeout(()=>{
                this.connect(url, id);
            }, Math.pow(2, attempts) * 1000);
        }
    }
    send(id, data) {
        const ws = this.connections.get(id);
        if (ws && ws.readyState === WebSocket.OPEN) {
            ws.send(JSON.stringify(data));
            return true;
        }
        return false;
    }
    disconnect(id) {
        const ws = this.connections.get(id);
        if (ws) {
            ws.close();
            this.connections.delete(id);
        }
    }
    disconnectAll() {
        this.connections.forEach((ws, id)=>{
            ws.close();
        });
        this.connections.clear();
    }
    constructor(){
        this.connections = new Map();
        this.reconnectAttempts = new Map();
        this.maxReconnectAttempts = 5;
    }
}
// Data Store Implementation
class DataStore {
    // Cache operations
    setCache(key, value, ttl = 300000) {
        this.cache.set(key, {
            value,
            expires: Date.now() + ttl
        });
    }
    getCache(key) {
        const item = this.cache.get(key);
        if (!item) return null;
        if (Date.now() > item.expires) {
            this.cache.delete(key);
            return null;
        }
        return item.value;
    }
    clearCache() {
        this.cache.clear();
    }
    // Persistent storage operations
    set(key, value) {
        this.persistentStore.set(key, value);
    // In real implementation, this would persist to IndexedDB
    }
    get(key) {
        return this.persistentStore.get(key);
    }
    delete(key) {
        return this.persistentStore.delete(key);
    }
    clear() {
        this.persistentStore.clear();
    }
    // Batch operations
    setBatch(items) {
        items.forEach((item)=>this.set(item.key, item.value));
    }
    getBatch(keys) {
        const result = {};
        keys.forEach((key)=>{
            const value = this.get(key);
            if (value !== undefined) {
                result[key] = value;
            }
        });
        return result;
    }
    constructor(){
        this.cache = new Map();
        this.persistentStore = new Map();
    }
}
// System Dashboard Component
const SystemDashboard = ({ systemManager })=>{
    const [state, setState] = _react.default.useState(systemManager.getState());
    const [selectedAgent, setSelectedAgent] = _react.default.useState(null);
    const [selectedConversation, setSelectedConversation] = _react.default.useState(null);
    _react.default.useEffect(()=>{
        const updateState = ()=>setState(systemManager.getState());
        systemManager["eventBus"].on("agent_created", updateState);
        systemManager["eventBus"].on("agent_updated", updateState);
        systemManager["eventBus"].on("conversation_created", updateState);
        systemManager["eventBus"].on("message_sent", updateState);
        systemManager["eventBus"].on("belief_updated", updateState);
        systemManager["eventBus"].on("coalition_formed", updateState);
        systemManager["eventBus"].on("metrics_updated", updateState);
        // Update metrics periodically
        const metricsInterval = setInterval(()=>{
            systemManager.updateMetrics();
        }, 5000);
        return ()=>{
            systemManager["eventBus"].clear();
            clearInterval(metricsInterval);
        };
    }, [
        systemManager
    ]);
    const handleCreateAgent = ()=>{
        systemManager.createAgent({
            name: `Agent ${state.agents.length + 1}`,
            type: "autonomous",
            capabilities: [
                "communication",
                "analysis"
            ]
        });
    };
    const handleCreateConversation = ()=>{
        if (state.agents.length >= 2) {
            const participants = state.agents.slice(0, 2).map((a)=>a.id);
            systemManager.createConversation(`Conversation ${state.conversations.length + 1}`, participants);
        }
    };
    const handleSendMessage = ()=>{
        if (selectedConversation && selectedAgent) {
            systemManager.sendMessage(selectedConversation, selectedAgent, `Message at ${new Date().toLocaleTimeString()}`);
        }
    };
    const handleFormCoalition = ()=>{
        if (state.agents.length >= 2) {
            const members = state.agents.slice(0, 2).map((a)=>a.id);
            systemManager.formCoalition(`Coalition ${state.coalitions.length + 1}`, members, "collaborative_research");
        }
    };
    const handleUpdateBelief = ()=>{
        if (selectedAgent) {
            systemManager.updateBelief(selectedAgent, "cooperation_value", Math.random(), 0.8 + Math.random() * 0.2);
        }
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        "data-testid": "system-dashboard",
        className: "system-dashboard",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("header", {
                className: "dashboard-header",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                        children: "FreeAgentics System Dashboard"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "system-status",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                "data-testid": "agent-count",
                                children: [
                                    "Agents: ",
                                    state.agents.length
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                "data-testid": "conversation-count",
                                children: [
                                    "Conversations: ",
                                    state.conversations.length
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                "data-testid": "coalition-count",
                                children: [
                                    "Coalitions: ",
                                    state.coalitions.length
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                "data-testid": "knowledge-nodes",
                                children: [
                                    "Knowledge Nodes: ",
                                    state.knowledgeGraph.nodes.length
                                ]
                            })
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "dashboard-controls",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": "create-agent",
                        onClick: handleCreateAgent,
                        children: "Create Agent"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": "create-conversation",
                        onClick: handleCreateConversation,
                        disabled: state.agents.length < 2,
                        children: "Create Conversation"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": "form-coalition",
                        onClick: handleFormCoalition,
                        disabled: state.agents.length < 2,
                        children: "Form Coalition"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": "update-belief",
                        onClick: handleUpdateBelief,
                        disabled: !selectedAgent,
                        children: "Update Belief"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": "send-message",
                        onClick: handleSendMessage,
                        disabled: !selectedConversation || !selectedAgent,
                        children: "Send Message"
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "dashboard-grid",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "dashboard-section",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                children: "System Metrics"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                "data-testid": "system-metrics",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            "CPU: ",
                                            state.metrics.performance.cpu.toFixed(1),
                                            "%"
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            "Memory: ",
                                            state.metrics.performance.memory.toFixed(1),
                                            "%"
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            "Latency: ",
                                            state.metrics.performance.latency.toFixed(0),
                                            "ms"
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            "Active Users: ",
                                            state.metrics.usage.active_users
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            "Error Rate: ",
                                            (state.metrics.errors.rate * 100).toFixed(2),
                                            "%"
                                        ]
                                    })
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "dashboard-section",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                children: "Agents"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                "data-testid": "agent-list",
                                children: state.agents.map((agent)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        "data-testid": `agent-${agent.id}`,
                                        className: `agent-item ${selectedAgent === agent.id ? "selected" : ""}`,
                                        onClick: ()=>setSelectedAgent(agent.id),
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                children: agent.name
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                children: [
                                                    "Type: ",
                                                    agent.type
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                children: [
                                                    "Status: ",
                                                    agent.status
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                children: [
                                                    "Capabilities: ",
                                                    agent.capabilities.length
                                                ]
                                            })
                                        ]
                                    }, agent.id))
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "dashboard-section",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                children: "Conversations"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                "data-testid": "conversation-list",
                                children: state.conversations.map((conv)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        "data-testid": `conversation-${conv.id}`,
                                        className: `conversation-item ${selectedConversation === conv.id ? "selected" : ""}`,
                                        onClick: ()=>setSelectedConversation(conv.id),
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                children: conv.title
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                children: [
                                                    "Participants: ",
                                                    conv.participants.length
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                children: [
                                                    "Messages: ",
                                                    conv.messages.length
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                children: [
                                                    "Status: ",
                                                    conv.status
                                                ]
                                            })
                                        ]
                                    }, conv.id))
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "dashboard-section",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                children: "Beliefs"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                "data-testid": "belief-list",
                                children: state.beliefs.map((belief, index)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        "data-testid": `belief-${belief.agentId}`,
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                children: [
                                                    "Agent: ",
                                                    belief.agentId
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                children: [
                                                    "Beliefs: ",
                                                    Object.keys(belief.beliefs).length
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                children: [
                                                    "Confidence: ",
                                                    (belief.confidence * 100).toFixed(1),
                                                    "%"
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                children: [
                                                    "Uncertainty: ",
                                                    (belief.uncertainty * 100).toFixed(1),
                                                    "%"
                                                ]
                                            })
                                        ]
                                    }, index))
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "dashboard-section",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                children: "Coalitions"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                "data-testid": "coalition-list",
                                children: state.coalitions.map((coalition)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        "data-testid": `coalition-${coalition.id}`,
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                children: coalition.name
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                children: [
                                                    "Members: ",
                                                    coalition.members.length
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                children: [
                                                    "Purpose: ",
                                                    coalition.purpose
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                children: [
                                                    "Strength: ",
                                                    (coalition.strength * 100).toFixed(1),
                                                    "%"
                                                ]
                                            })
                                        ]
                                    }, coalition.id))
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "dashboard-section",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                children: "Knowledge Graph"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                "data-testid": "knowledge-stats",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            "Nodes: ",
                                            state.knowledgeGraph.nodes.length
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            "Edges: ",
                                            state.knowledgeGraph.edges.length
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            "Clusters: ",
                                            state.knowledgeGraph.clusters.length
                                        ]
                                    })
                                ]
                            })
                        ]
                    })
                ]
            }),
            selectedAgent && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "agent-details",
                className: "agent-details",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("h4", {
                    children: [
                        "Selected Agent:",
                        " ",
                        state.agents.find((a)=>a.id === selectedAgent)?.name
                    ]
                })
            }),
            selectedConversation && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "conversation-details",
                className: "conversation-details",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("h4", {
                    children: [
                        "Selected Conversation:",
                        " ",
                        state.conversations.find((c)=>c.id === selectedConversation)?.title
                    ]
                })
            })
        ]
    });
};
describe("Complete System Integration Tests", ()=>{
    let systemManager;
    beforeEach(()=>{
        systemManager = new SystemManager();
        _globals.jest.clearAllMocks();
    });
    describe("System Initialization", ()=>{
        it("initializes with default state", ()=>{
            const state = systemManager.getState();
            expect(state.agents).toEqual([]);
            expect(state.conversations).toEqual([]);
            expect(state.coalitions).toEqual([]);
            expect(state.beliefs).toEqual([]);
            expect(state.knowledgeGraph.nodes).toEqual([]);
            expect(state.knowledgeGraph.edges).toEqual([]);
        });
        it("has proper default settings", ()=>{
            const state = systemManager.getState();
            expect(state.settings.llm.provider).toBe("openai");
            expect(state.settings.ui.theme).toBe("light");
            expect(state.settings.simulation.auto_advance).toBe(true);
            expect(state.settings.security.encryption).toBe(true);
        });
    });
    describe("Agent Management", ()=>{
        it("creates agents with default properties", ()=>{
            const agent = systemManager.createAgent({
                name: "Test Agent",
                type: "autonomous"
            });
            expect(agent.id).toMatch(/^agent_\d+$/);
            expect(agent.name).toBe("Test Agent");
            expect(agent.type).toBe("autonomous");
            expect(agent.status).toBe("active");
            expect(agent.performance.success_rate).toBe(1.0);
        });
        it("updates agent properties", ()=>{
            const agent = systemManager.createAgent({
                name: "Original"
            });
            const updated = systemManager.updateAgent(agent.id, {
                name: "Updated",
                status: "idle"
            });
            expect(updated?.name).toBe("Updated");
            expect(updated?.status).toBe("idle");
        });
        it("removes agents correctly", ()=>{
            const agent = systemManager.createAgent({
                name: "To Remove"
            });
            const removed = systemManager.removeAgent(agent.id);
            const agents = systemManager.getAgents();
            expect(removed).toBe(true);
            expect(agents).not.toContain(agent);
        });
        it("handles non-existent agent operations", ()=>{
            const updated = systemManager.updateAgent("nonexistent", {
                name: "Test"
            });
            const removed = systemManager.removeAgent("nonexistent");
            expect(updated).toBeNull();
            expect(removed).toBe(false);
        });
    });
    describe("Conversation Management", ()=>{
        it("creates conversations with participants", ()=>{
            const agent1 = systemManager.createAgent({
                name: "Agent 1"
            });
            const agent2 = systemManager.createAgent({
                name: "Agent 2"
            });
            const conversation = systemManager.createConversation("Test Chat", [
                agent1.id,
                agent2.id
            ]);
            expect(conversation.title).toBe("Test Chat");
            expect(conversation.participants).toEqual([
                agent1.id,
                agent2.id
            ]);
            expect(conversation.status).toBe("active");
            expect(conversation.messages).toEqual([]);
        });
        it("sends messages in conversations", ()=>{
            const agent = systemManager.createAgent({
                name: "Sender"
            });
            const conversation = systemManager.createConversation("Test", [
                agent.id
            ]);
            const message = systemManager.sendMessage(conversation.id, agent.id, "Hello world");
            expect(message.content).toBe("Hello world");
            expect(message.agentId).toBe(agent.id);
            expect(message.type).toBe("text");
            const updatedConv = systemManager.getConversations().find((c)=>c.id === conversation.id);
            expect(updatedConv?.messages).toHaveLength(1);
        });
        it("throws error for invalid conversation", ()=>{
            const agent = systemManager.createAgent({
                name: "Agent"
            });
            expect(()=>{
                systemManager.sendMessage("invalid", agent.id, "test");
            }).toThrow("Conversation not found");
        });
    });
    describe("Knowledge Graph Management", ()=>{
        it("adds knowledge nodes", ()=>{
            const node = systemManager.addKnowledgeNode("concept", "Machine Learning", {
                domain: "AI",
                complexity: "high"
            });
            expect(node.type).toBe("concept");
            expect(node.label).toBe("Machine Learning");
            expect(node.properties.domain).toBe("AI");
            const graph = systemManager.getKnowledgeGraph();
            expect(graph.nodes).toContain(node);
        });
        it("adds knowledge edges", ()=>{
            const node1 = systemManager.addKnowledgeNode("concept", "AI", {});
            const node2 = systemManager.addKnowledgeNode("concept", "ML", {});
            const edge = systemManager.addKnowledgeEdge(node1.id, node2.id, "related_to");
            expect(edge.source_id).toBe(node1.id);
            expect(edge.target_id).toBe(node2.id);
            expect(edge.relationship).toBe("related_to");
            expect(edge.weight).toBe(1.0);
            const graph = systemManager.getKnowledgeGraph();
            expect(graph.edges).toContain(edge);
        });
    });
    describe("Belief Management", ()=>{
        it("creates new belief states", ()=>{
            const agent = systemManager.createAgent({
                name: "Believer"
            });
            systemManager.updateBelief(agent.id, "trust_value", 0.8, 0.9);
            const beliefs = systemManager.getBeliefs();
            const agentBelief = beliefs.find((b)=>b.agentId === agent.id);
            expect(agentBelief).toBeDefined();
            expect(agentBelief?.beliefs.trust_value).toBe(0.8);
            expect(agentBelief?.confidence).toBe(0.9);
            expect(agentBelief?.uncertainty).toBeCloseTo(0.1, 10);
        });
        it("updates existing belief states", ()=>{
            const agent = systemManager.createAgent({
                name: "Believer"
            });
            systemManager.updateBelief(agent.id, "trust_value", 0.5, 0.7);
            systemManager.updateBelief(agent.id, "trust_value", 0.9, 0.8);
            const beliefs = systemManager.getBeliefs();
            const agentBeliefs = beliefs.filter((b)=>b.agentId === agent.id);
            expect(agentBeliefs).toHaveLength(1);
            expect(agentBeliefs[0].beliefs.trust_value).toBe(0.9);
            expect(agentBeliefs[0].confidence).toBe(0.8);
        });
        it("handles multiple beliefs per agent", ()=>{
            const agent = systemManager.createAgent({
                name: "Multi-Believer"
            });
            systemManager.updateBelief(agent.id, "trust", 0.8);
            systemManager.updateBelief(agent.id, "cooperation", 0.6);
            const beliefs = systemManager.getBeliefs();
            const agentBelief = beliefs.find((b)=>b.agentId === agent.id);
            expect(agentBelief?.beliefs.trust).toBe(0.8);
            expect(agentBelief?.beliefs.cooperation).toBe(0.6);
        });
    });
    describe("Coalition Management", ()=>{
        it("forms coalitions with members", ()=>{
            const agent1 = systemManager.createAgent({
                name: "Agent 1",
                capabilities: [
                    "analysis"
                ]
            });
            const agent2 = systemManager.createAgent({
                name: "Agent 2",
                capabilities: [
                    "communication"
                ]
            });
            const coalition = systemManager.formCoalition("Research Team", [
                agent1.id,
                agent2.id
            ], "collaborative_research");
            expect(coalition.name).toBe("Research Team");
            expect(coalition.members).toEqual([
                agent1.id,
                agent2.id
            ]);
            expect(coalition.purpose).toBe("collaborative_research");
            expect(coalition.strength).toBeGreaterThan(0);
        });
        it("calculates coalition strength correctly", ()=>{
            const strongAgent = systemManager.createAgent({
                name: "Strong",
                capabilities: [
                    "a",
                    "b",
                    "c",
                    "d",
                    "e"
                ]
            });
            strongAgent.performance.success_rate = 0.95;
            const weakAgent = systemManager.createAgent({
                name: "Weak",
                capabilities: [
                    "a"
                ]
            });
            weakAgent.performance.success_rate = 0.5;
            const strongCoalition = systemManager.formCoalition("Strong Team", [
                strongAgent.id
            ], "research");
            const mixedCoalition = systemManager.formCoalition("Mixed Team", [
                strongAgent.id,
                weakAgent.id
            ], "research");
            expect(strongCoalition.strength).toBeGreaterThan(0);
            // Mixed coalition should have intermediate strength
            expect(mixedCoalition.strength).toBeGreaterThan(0);
        });
    });
    describe("System Metrics", ()=>{
        it("updates performance metrics", ()=>{
            systemManager.updateMetrics();
            const metrics = systemManager.getMetrics();
            expect(metrics.performance.cpu).toBeGreaterThanOrEqual(0);
            expect(metrics.performance.cpu).toBeLessThanOrEqual(100);
            expect(metrics.performance.memory).toBeGreaterThanOrEqual(0);
            expect(metrics.performance.latency).toBeGreaterThanOrEqual(0);
        });
        it("tracks usage metrics", ()=>{
            // Clear any existing agents first
            const currentState = systemManager.getState();
            const activeAgentsBefore = currentState.agents.filter((a)=>a.status === "active").length;
            systemManager.createAgent({
                name: "Active 1",
                status: "active"
            });
            systemManager.createAgent({
                name: "Active 2",
                status: "active"
            });
            systemManager.createAgent({
                name: "Idle",
                status: "idle"
            });
            systemManager.updateMetrics();
            const metrics = systemManager.getMetrics();
            expect(metrics.usage.active_users).toBe(activeAgentsBefore + 2);
            expect(metrics.usage.requests_per_minute).toBeGreaterThanOrEqual(0);
        });
        it("monitors error metrics", ()=>{
            systemManager.updateMetrics();
            const metrics = systemManager.getMetrics();
            expect(metrics.errors.count).toBeGreaterThanOrEqual(0);
            expect(metrics.errors.rate).toBeGreaterThanOrEqual(0);
            expect(metrics.errors.rate).toBeLessThanOrEqual(1);
            expect(typeof metrics.errors.types).toBe("object");
        });
    });
    describe("EventBus", ()=>{
        it("emits and receives events", ()=>{
            const eventBus = new EventBus();
            const listener = _globals.jest.fn();
            eventBus.on("test_event", listener);
            eventBus.emit("test_event", "data1", "data2");
            expect(listener).toHaveBeenCalledWith("data1", "data2");
        });
        it("removes event listeners", ()=>{
            const eventBus = new EventBus();
            const listener = _globals.jest.fn();
            eventBus.on("test_event", listener);
            eventBus.off("test_event", listener);
            eventBus.emit("test_event", "data");
            expect(listener).not.toHaveBeenCalled();
        });
        it("clears all listeners", ()=>{
            const eventBus = new EventBus();
            const listener1 = _globals.jest.fn();
            const listener2 = _globals.jest.fn();
            eventBus.on("event1", listener1);
            eventBus.on("event2", listener2);
            eventBus.clear();
            eventBus.emit("event1", "data");
            eventBus.emit("event2", "data");
            expect(listener1).not.toHaveBeenCalled();
            expect(listener2).not.toHaveBeenCalled();
        });
    });
    describe("WebSocketManager", ()=>{
        it.skip("manages WebSocket connections", async ()=>{
            // Skip this test as it requires an actual WebSocket server
            const wsManager = new WebSocketManager();
            const ws = await wsManager.connect("ws://localhost:8080", "test");
            expect(ws).toBeDefined();
            const sent = wsManager.send("test", {
                type: "ping"
            });
            expect(sent).toBe(true);
            wsManager.disconnect("test");
            const sentAfterDisconnect = wsManager.send("test", {
                type: "ping"
            });
            expect(sentAfterDisconnect).toBe(false);
        });
        it("handles connection failures gracefully", async ()=>{
            const wsManager = new WebSocketManager();
            // Mock WebSocket to fail
            global.WebSocket.mockImplementationOnce(()=>{
                throw new Error("Connection failed");
            });
            await expect(wsManager.connect("ws://invalid", "test")).rejects.toThrow();
        });
        it("disconnects all connections", ()=>{
            const wsManager = new WebSocketManager();
            // Simulate multiple connections
            wsManager["connections"].set("conn1", new WebSocket("ws://test1"));
            wsManager["connections"].set("conn2", new WebSocket("ws://test2"));
            wsManager.disconnectAll();
            expect(wsManager["connections"].size).toBe(0);
        });
    });
    describe("DataStore", ()=>{
        it("manages cache with TTL", ()=>{
            const store = new DataStore();
            store.setCache("key1", "value1", 1000);
            expect(store.getCache("key1")).toBe("value1");
            store.setCache("key2", "value2", -1); // Immediate expiry using negative TTL
            expect(store.getCache("key2")).toBeNull();
        });
        it("handles persistent storage", ()=>{
            const store = new DataStore();
            store.set("persistent_key", {
                data: "important"
            });
            const retrieved = store.get("persistent_key");
            expect(retrieved).toEqual({
                data: "important"
            });
            const deleted = store.delete("persistent_key");
            expect(deleted).toBe(true);
            expect(store.get("persistent_key")).toBeUndefined();
        });
        it("performs batch operations", ()=>{
            const store = new DataStore();
            store.setBatch([
                {
                    key: "key1",
                    value: "value1"
                },
                {
                    key: "key2",
                    value: "value2"
                },
                {
                    key: "key3",
                    value: "value3"
                }
            ]);
            const batch = store.getBatch([
                "key1",
                "key2",
                "nonexistent"
            ]);
            expect(batch).toEqual({
                key1: "value1",
                key2: "value2"
            });
        });
        it("clears cache and storage", ()=>{
            const store = new DataStore();
            store.setCache("cache_key", "cache_value");
            store.set("storage_key", "storage_value");
            store.clearCache();
            expect(store.getCache("cache_key")).toBeNull();
            expect(store.get("storage_key")).toBe("storage_value");
            store.clear();
            expect(store.get("storage_key")).toBeUndefined();
        });
    });
    describe("SystemDashboard Component", ()=>{
        it("renders system dashboard", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(SystemDashboard, {
                systemManager: systemManager
            }));
            expect(_react1.screen.getByTestId("system-dashboard")).toBeInTheDocument();
            expect(_react1.screen.getByTestId("agent-count")).toHaveTextContent("Agents: 0");
            expect(_react1.screen.getByTestId("conversation-count")).toHaveTextContent("Conversations: 0");
            expect(_react1.screen.getByTestId("coalition-count")).toHaveTextContent("Coalitions: 0");
        });
        it("creates agents through UI", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(SystemDashboard, {
                systemManager: systemManager
            }));
            _react1.fireEvent.click(_react1.screen.getByTestId("create-agent"));
            expect(_react1.screen.getByTestId("agent-count")).toHaveTextContent("Agents: 1");
            expect(_react1.screen.getByTestId("agent-list")).toBeInTheDocument();
        });
        it("creates conversations through UI", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(SystemDashboard, {
                systemManager: systemManager
            }));
            // Create agents first
            _react1.fireEvent.click(_react1.screen.getByTestId("create-agent"));
            _react1.fireEvent.click(_react1.screen.getByTestId("create-agent"));
            // Now create conversation
            _react1.fireEvent.click(_react1.screen.getByTestId("create-conversation"));
            expect(_react1.screen.getByTestId("conversation-count")).toHaveTextContent("Conversations: 1");
        });
        it("forms coalitions through UI", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(SystemDashboard, {
                systemManager: systemManager
            }));
            // Create agents first
            _react1.fireEvent.click(_react1.screen.getByTestId("create-agent"));
            _react1.fireEvent.click(_react1.screen.getByTestId("create-agent"));
            // Form coalition
            _react1.fireEvent.click(_react1.screen.getByTestId("form-coalition"));
            expect(_react1.screen.getByTestId("coalition-count")).toHaveTextContent("Coalitions: 1");
        });
        it("handles agent selection", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(SystemDashboard, {
                systemManager: systemManager
            }));
            // Create an agent
            _react1.fireEvent.click(_react1.screen.getByTestId("create-agent"));
            // Find and click the agent
            const agentElement = _react1.screen.getByTestId(/^agent-agent_\d+$/);
            _react1.fireEvent.click(agentElement);
            expect(_react1.screen.getByTestId("agent-details")).toBeInTheDocument();
        });
        it("sends messages through UI", async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(SystemDashboard, {
                systemManager: systemManager
            }));
            // Create agents and conversation
            _react1.fireEvent.click(_react1.screen.getByTestId("create-agent"));
            _react1.fireEvent.click(_react1.screen.getByTestId("create-agent"));
            _react1.fireEvent.click(_react1.screen.getByTestId("create-conversation"));
            // Select agent and conversation
            const agentElement = _react1.screen.getByTestId(/^agent-agent_\d+$/);
            _react1.fireEvent.click(agentElement);
            const conversationElement = _react1.screen.getByTestId(/^conversation-conv_\d+$/);
            _react1.fireEvent.click(conversationElement);
            // Send message
            _react1.fireEvent.click(_react1.screen.getByTestId("send-message"));
            // Verify conversation has messages
            await (0, _react1.waitFor)(()=>{
                const conversations = systemManager.getConversations();
                expect(conversations[0].messages.length).toBeGreaterThan(0);
            });
        });
        it("updates beliefs through UI", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(SystemDashboard, {
                systemManager: systemManager
            }));
            // Create agent and select it
            _react1.fireEvent.click(_react1.screen.getByTestId("create-agent"));
            const agentElement = _react1.screen.getByTestId(/^agent-agent_\d+$/);
            _react1.fireEvent.click(agentElement);
            // Update belief
            _react1.fireEvent.click(_react1.screen.getByTestId("update-belief"));
            const beliefs = systemManager.getBeliefs();
            expect(beliefs.length).toBeGreaterThan(0);
        });
        it("displays system metrics", async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(SystemDashboard, {
                systemManager: systemManager
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId("system-metrics")).toBeInTheDocument();
            });
            const metricsElement = _react1.screen.getByTestId("system-metrics");
            expect(metricsElement).toHaveTextContent("CPU:");
            expect(metricsElement).toHaveTextContent("Memory:");
            expect(metricsElement).toHaveTextContent("Latency:");
        });
        it("handles disabled buttons correctly", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(SystemDashboard, {
                systemManager: systemManager
            }));
            // These should be disabled initially
            expect(_react1.screen.getByTestId("create-conversation")).toBeDisabled();
            expect(_react1.screen.getByTestId("form-coalition")).toBeDisabled();
            expect(_react1.screen.getByTestId("update-belief")).toBeDisabled();
            expect(_react1.screen.getByTestId("send-message")).toBeDisabled();
        });
    });
    describe("Integration Workflows", ()=>{
        it("completes full agent interaction workflow", async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(SystemDashboard, {
                systemManager: systemManager
            }));
            // 1. Create agents
            _react1.fireEvent.click(_react1.screen.getByTestId("create-agent"));
            _react1.fireEvent.click(_react1.screen.getByTestId("create-agent"));
            // 2. Create conversation
            _react1.fireEvent.click(_react1.screen.getByTestId("create-conversation"));
            // 3. Form coalition
            _react1.fireEvent.click(_react1.screen.getByTestId("form-coalition"));
            // 4. Select agent and conversation
            const agentElement = _react1.screen.getByTestId(/^agent-agent_\d+$/);
            _react1.fireEvent.click(agentElement);
            const conversationElement = _react1.screen.getByTestId(/^conversation-conv_\d+$/);
            _react1.fireEvent.click(conversationElement);
            // 5. Update beliefs and send messages
            _react1.fireEvent.click(_react1.screen.getByTestId("update-belief"));
            _react1.fireEvent.click(_react1.screen.getByTestId("send-message"));
            // Verify final state
            const state = systemManager.getState();
            expect(state.agents.length).toBe(2);
            expect(state.conversations.length).toBe(1);
            expect(state.coalitions.length).toBe(1);
            expect(state.beliefs.length).toBe(1);
            expect(state.conversations[0].messages.length).toBe(1);
        });
        it("handles system scaling", ()=>{
            // Create many agents
            for(let i = 0; i < 10; i++){
                systemManager.createAgent({
                    name: `Agent ${i}`
                });
            }
            // Create multiple conversations
            const agents = systemManager.getAgents();
            for(let i = 0; i < 5; i++){
                systemManager.createConversation(`Conversation ${i}`, [
                    agents[i * 2].id,
                    agents[i * 2 + 1].id
                ]);
            }
            // Form multiple coalitions
            for(let i = 0; i < 3; i++){
                systemManager.formCoalition(`Coalition ${i}`, [
                    agents[i].id,
                    agents[i + 1].id
                ], "collaborative_task");
            }
            const state = systemManager.getState();
            expect(state.agents.length).toBe(10);
            expect(state.conversations.length).toBe(5);
            expect(state.coalitions.length).toBe(3);
        });
        it("maintains system consistency during operations", ()=>{
            const agent1 = systemManager.createAgent({
                name: "Agent 1"
            });
            const agent2 = systemManager.createAgent({
                name: "Agent 2"
            });
            const conversation = systemManager.createConversation("Test Chat", [
                agent1.id,
                agent2.id
            ]);
            const coalition = systemManager.formCoalition("Test Coalition", [
                agent1.id,
                agent2.id
            ], "testing");
            // Send multiple messages
            for(let i = 0; i < 5; i++){
                systemManager.sendMessage(conversation.id, agent1.id, `Message ${i}`);
            }
            // Update beliefs
            systemManager.updateBelief(agent1.id, "cooperation", 0.8);
            systemManager.updateBelief(agent2.id, "trust", 0.9);
            // Verify consistency
            const state = systemManager.getState();
            expect(state.conversations[0].messages.length).toBe(5);
            expect(state.coalitions[0].members).toEqual([
                agent1.id,
                agent2.id
            ]);
            expect(state.beliefs.length).toBe(2);
            // All agents should still exist
            expect(state.agents.find((a)=>a.id === agent1.id)).toBeDefined();
            expect(state.agents.find((a)=>a.id === agent2.id)).toBeDefined();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0aGV3bW9yb25leS9idWlsZHMvRnJlZUFnZW50aWNzL3dlYi9fX3Rlc3RzX18vaW50ZWdyYXRpb24vY29tcGxldGUtc3lzdGVtLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29tcGxldGUgU3lzdGVtIEludGVncmF0aW9uIFRlc3RzXG4gKlxuICogRW5kLXRvLWVuZCBpbnRlZ3JhdGlvbiB0ZXN0cyBjb3ZlcmluZyBhbGwgbWFqb3Igc3lzdGVtIGNvbXBvbmVudHNcbiAqIGFuZCB3b3JrZmxvd3MgZm9sbG93aW5nIEFEUi0wMDcgcmVxdWlyZW1lbnRzIGZvciBjb21wcmVoZW5zaXZlIGNvdmVyYWdlLlxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tIFwiQHRlc3RpbmctbGlicmFyeS9yZWFjdFwiO1xuaW1wb3J0IHsgamVzdCB9IGZyb20gXCJAamVzdC9nbG9iYWxzXCI7XG5cbi8vIE1vY2sgYWxsIGV4dGVybmFsIGRlcGVuZGVuY2llc1xuamVzdC5tb2NrKFwibmV4dC9uYXZpZ2F0aW9uXCIsICgpID0+ICh7XG4gIHVzZVJvdXRlcjogKCkgPT4gKHtcbiAgICBwdXNoOiBqZXN0LmZuKCksXG4gICAgcmVwbGFjZTogamVzdC5mbigpLFxuICAgIGJhY2s6IGplc3QuZm4oKSxcbiAgICBmb3J3YXJkOiBqZXN0LmZuKCksXG4gICAgcmVmcmVzaDogamVzdC5mbigpLFxuICAgIHByZWZldGNoOiBqZXN0LmZuKCksXG4gIH0pLFxuICB1c2VQYXRobmFtZTogKCkgPT4gXCIvZGFzaGJvYXJkXCIsXG4gIHVzZVNlYXJjaFBhcmFtczogKCkgPT4gbmV3IFVSTFNlYXJjaFBhcmFtcygpLFxufSkpO1xuXG4vLyBNb2NrIEQzIGZvciB2aXN1YWxpemF0aW9uIGNvbXBvbmVudHNcbmNvbnN0IG1vY2tEM1NlbGVjdGlvbiA9IHtcbiAgc2VsZWN0OiBqZXN0LmZuKCgpID0+IG1vY2tEM1NlbGVjdGlvbiksXG4gIHNlbGVjdEFsbDogamVzdC5mbigoKSA9PiBtb2NrRDNTZWxlY3Rpb24pLFxuICBhdHRyOiBqZXN0LmZuKCgpID0+IG1vY2tEM1NlbGVjdGlvbiksXG4gIHN0eWxlOiBqZXN0LmZuKCgpID0+IG1vY2tEM1NlbGVjdGlvbiksXG4gIHRleHQ6IGplc3QuZm4oKCkgPT4gbW9ja0QzU2VsZWN0aW9uKSxcbiAgb246IGplc3QuZm4oKCkgPT4gbW9ja0QzU2VsZWN0aW9uKSxcbiAgY2FsbDogamVzdC5mbigoKSA9PiBtb2NrRDNTZWxlY3Rpb24pLFxuICBkYXRhOiBqZXN0LmZuKCgpID0+IG1vY2tEM1NlbGVjdGlvbiksXG4gIGVudGVyOiBqZXN0LmZuKCgpID0+IG1vY2tEM1NlbGVjdGlvbiksXG4gIGV4aXQ6IGplc3QuZm4oKCkgPT4gbW9ja0QzU2VsZWN0aW9uKSxcbiAgYXBwZW5kOiBqZXN0LmZuKCgpID0+IG1vY2tEM1NlbGVjdGlvbiksXG4gIHJlbW92ZTogamVzdC5mbigoKSA9PiBtb2NrRDNTZWxlY3Rpb24pLFxuICB0cmFuc2l0aW9uOiBqZXN0LmZuKCgpID0+IG1vY2tEM1NlbGVjdGlvbiksXG4gIGR1cmF0aW9uOiBqZXN0LmZuKCgpID0+IG1vY2tEM1NlbGVjdGlvbiksXG4gIGVhc2U6IGplc3QuZm4oKCkgPT4gbW9ja0QzU2VsZWN0aW9uKSxcbn07XG5cbmNvbnN0IG1vY2tEMyA9IHtcbiAgc2VsZWN0OiBqZXN0LmZuKCgpID0+IG1vY2tEM1NlbGVjdGlvbiksXG4gIHNjYWxlTGluZWFyOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgZG9tYWluOiBqZXN0LmZuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pLFxuICAgIHJhbmdlOiBqZXN0LmZuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pLFxuICAgIG5pY2U6IGplc3QuZm4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSksXG4gIH0pKSxcbiAgc2NhbGVPcmRpbmFsOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgZG9tYWluOiBqZXN0LmZuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pLFxuICAgIHJhbmdlOiBqZXN0LmZuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pLFxuICB9KSksXG4gIGV4dGVudDogamVzdC5mbigoKSA9PiBbMCwgMTAwXSksXG4gIG1heDogamVzdC5mbigoKSA9PiAxMDApLFxuICBmb3JjZVNpbXVsYXRpb246IGplc3QuZm4oKCkgPT4gKHtcbiAgICBmb3JjZTogamVzdC5mbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9KSxcbiAgICBub2RlczogamVzdC5mbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9KSxcbiAgICBvbjogamVzdC5mbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9KSxcbiAgICBzdG9wOiBqZXN0LmZuKCksXG4gICAgcmVzdGFydDogamVzdC5mbigpLFxuICB9KSksXG4gIGZvcmNlTGluazogamVzdC5mbigoKSA9PiAoe1xuICAgIGlkOiBqZXN0LmZuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pLFxuICAgIGRpc3RhbmNlOiBqZXN0LmZuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pLFxuICB9KSksXG4gIGZvcmNlTWFueUJvZHk6IGplc3QuZm4oKCkgPT4gKHtcbiAgICBzdHJlbmd0aDogamVzdC5mbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9KSxcbiAgfSkpLFxuICBmb3JjZUNlbnRlcjogamVzdC5mbigoKSA9PiAoe30pKSxcbiAgc2NoZW1lQ2F0ZWdvcnkxMDogW1wiIzFmNzdiNFwiLCBcIiNmZjdmMGVcIiwgXCIjMmNhMDJjXCJdLFxuICB6b29tOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgc2NhbGVFeHRlbnQ6IGplc3QuZm4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSksXG4gICAgb246IGplc3QuZm4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSksXG4gIH0pKSxcbiAgZHJhZzogamVzdC5mbigoKSA9PiAoe1xuICAgIG9uOiBqZXN0LmZuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pLFxuICB9KSksXG4gIGF4aXNCb3R0b206IGplc3QuZm4oKCkgPT4gbW9ja0QzU2VsZWN0aW9uKSxcbiAgYXhpc0xlZnQ6IGplc3QuZm4oKCkgPT4gbW9ja0QzU2VsZWN0aW9uKSxcbiAgbGluZTogamVzdC5mbigoKSA9PiAoe1xuICAgIHg6IGplc3QuZm4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSksXG4gICAgeTogamVzdC5mbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9KSxcbiAgfSkpLFxufTtcblxuamVzdC51bnN0YWJsZV9tb2NrTW9kdWxlKFwiZDNcIiwgKCkgPT4gbW9ja0QzKTtcblxuLy8gTW9jayBXZWJTb2NrZXRcbmdsb2JhbC5XZWJTb2NrZXQgPSBqZXN0LmZuKCgpID0+ICh7XG4gIHNlbmQ6IGplc3QuZm4oKSxcbiAgY2xvc2U6IGplc3QuZm4oKSxcbiAgb25vcGVuOiBudWxsLFxuICBvbmNsb3NlOiBudWxsLFxuICBvbm1lc3NhZ2U6IG51bGwsXG4gIG9uZXJyb3I6IG51bGwsXG4gIHJlYWR5U3RhdGU6IDEsXG59KSkgYXMgYW55O1xuXG4vLyBNb2NrIEluZGV4ZWREQlxucmVxdWlyZShcImZha2UtaW5kZXhlZGRiL2F1dG9cIik7XG5cbi8vIE1vY2sgQ2FudmFzIENvbnRleHRcbkhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZS5nZXRDb250ZXh0ID0gamVzdC5mbigoKSA9PiAoe1xuICBmaWxsUmVjdDogamVzdC5mbigpLFxuICBjbGVhclJlY3Q6IGplc3QuZm4oKSxcbiAgZ2V0SW1hZ2VEYXRhOiBqZXN0LmZuKCgpID0+ICh7IGRhdGE6IG5ldyBBcnJheSg0KSB9KSksXG4gIHB1dEltYWdlRGF0YTogamVzdC5mbigpLFxuICBjcmVhdGVJbWFnZURhdGE6IGplc3QuZm4oKCkgPT4gKHsgZGF0YTogbmV3IEFycmF5KDQpIH0pKSxcbiAgc2V0VHJhbnNmb3JtOiBqZXN0LmZuKCksXG4gIGRyYXdJbWFnZTogamVzdC5mbigpLFxuICBzYXZlOiBqZXN0LmZuKCksXG4gIHJlc3RvcmU6IGplc3QuZm4oKSxcbiAgZmlsbFRleHQ6IGplc3QuZm4oKSxcbiAgbWVhc3VyZVRleHQ6IGplc3QuZm4oKCkgPT4gKHsgd2lkdGg6IDAgfSkpLFxuICBzdHJva2VUZXh0OiBqZXN0LmZuKCksXG4gIGJlZ2luUGF0aDogamVzdC5mbigpLFxuICBtb3ZlVG86IGplc3QuZm4oKSxcbiAgbGluZVRvOiBqZXN0LmZuKCksXG4gIHN0cm9rZTogamVzdC5mbigpLFxuICBmaWxsOiBqZXN0LmZuKCksXG4gIGFyYzogamVzdC5mbigpLFxuICBjbG9zZVBhdGg6IGplc3QuZm4oKSxcbiAgdHJhbnNsYXRlOiBqZXN0LmZuKCksXG4gIHNjYWxlOiBqZXN0LmZuKCksXG4gIHJvdGF0ZTogamVzdC5mbigpLFxufSkpIGFzIGFueTtcblxuLy8gQ29tcGxldGUgU3lzdGVtIEltcGxlbWVudGF0aW9uXG5pbnRlcmZhY2UgU3lzdGVtU3RhdGUge1xuICBhZ2VudHM6IEFnZW50W107XG4gIGNvbnZlcnNhdGlvbnM6IENvbnZlcnNhdGlvbltdO1xuICBrbm93bGVkZ2VHcmFwaDogS25vd2xlZGdlR3JhcGg7XG4gIGJlbGllZnM6IEJlbGllZlN0YXRlW107XG4gIGNvYWxpdGlvbnM6IENvYWxpdGlvbltdO1xuICBtZXRyaWNzOiBTeXN0ZW1NZXRyaWNzO1xuICBzZXR0aW5nczogU3lzdGVtU2V0dGluZ3M7XG59XG5cbmludGVyZmFjZSBBZ2VudCB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgdHlwZTogXCJhdXRvbm9tb3VzXCIgfCBcInJlYWN0aXZlXCIgfCBcImNvZ25pdGl2ZVwiO1xuICBzdGF0dXM6IFwiYWN0aXZlXCIgfCBcImlkbGVcIiB8IFwib2ZmbGluZVwiO1xuICBjYXBhYmlsaXRpZXM6IHN0cmluZ1tdO1xuICBiZWxpZWZzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICBwZXJmb3JtYW5jZTogQWdlbnRQZXJmb3JtYW5jZTtcbiAgcmVsYXRpb25zaGlwczogQWdlbnRSZWxhdGlvbnNoaXBbXTtcbn1cblxuaW50ZXJmYWNlIENvbnZlcnNhdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHBhcnRpY2lwYW50czogc3RyaW5nW107XG4gIG1lc3NhZ2VzOiBNZXNzYWdlW107XG4gIHN0YXR1czogXCJhY3RpdmVcIiB8IFwiY29tcGxldGVkXCIgfCBcImFyY2hpdmVkXCI7XG4gIG1ldGFkYXRhOiBDb252ZXJzYXRpb25NZXRhZGF0YTtcbn1cblxuaW50ZXJmYWNlIE1lc3NhZ2Uge1xuICBpZDogc3RyaW5nO1xuICBhZ2VudElkOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgdGltZXN0YW1wOiBEYXRlO1xuICB0eXBlOiBcInRleHRcIiB8IFwiYWN0aW9uXCIgfCBcImJlbGllZl91cGRhdGVcIjtcbiAgbWV0YWRhdGE6IE1lc3NhZ2VNZXRhZGF0YTtcbn1cblxuaW50ZXJmYWNlIEtub3dsZWRnZUdyYXBoIHtcbiAgbm9kZXM6IEtub3dsZWRnZU5vZGVbXTtcbiAgZWRnZXM6IEtub3dsZWRnZUVkZ2VbXTtcbiAgY2x1c3RlcnM6IEtub3dsZWRnZUNsdXN0ZXJbXTtcbiAgc2NoZW1hOiBHcmFwaFNjaGVtYTtcbn1cblxuaW50ZXJmYWNlIEJlbGllZlN0YXRlIHtcbiAgYWdlbnRJZDogc3RyaW5nO1xuICBiZWxpZWZzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICBjb25maWRlbmNlOiBudW1iZXI7XG4gIHVuY2VydGFpbnR5OiBudW1iZXI7XG4gIHRpbWVzdGFtcDogRGF0ZTtcbn1cblxuaW50ZXJmYWNlIENvYWxpdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgbWVtYmVyczogc3RyaW5nW107XG4gIHB1cnBvc2U6IHN0cmluZztcbiAgc3RyZW5ndGg6IG51bWJlcjtcbiAgZm9ybWF0aW9uX3N0cmF0ZWd5OiBzdHJpbmc7XG4gIGxpZmVjeWNsZTogQ29hbGl0aW9uTGlmZWN5Y2xlO1xufVxuXG5pbnRlcmZhY2UgU3lzdGVtTWV0cmljcyB7XG4gIHBlcmZvcm1hbmNlOiBQZXJmb3JtYW5jZU1ldHJpY3M7XG4gIHVzYWdlOiBVc2FnZU1ldHJpY3M7XG4gIGVycm9yczogRXJyb3JNZXRyaWNzO1xuICBuZXR3b3JrOiBOZXR3b3JrTWV0cmljcztcbn1cblxuaW50ZXJmYWNlIFN5c3RlbVNldHRpbmdzIHtcbiAgbGxtOiBMTE1TZXR0aW5ncztcbiAgdWk6IFVJU2V0dGluZ3M7XG4gIHNpbXVsYXRpb246IFNpbXVsYXRpb25TZXR0aW5ncztcbiAgc2VjdXJpdHk6IFNlY3VyaXR5U2V0dGluZ3M7XG59XG5cbi8vIFN5c3RlbSBDb21wb25lbnRzXG5jbGFzcyBTeXN0ZW1NYW5hZ2VyIHtcbiAgcHJpdmF0ZSBzdGF0ZTogU3lzdGVtU3RhdGU7XG4gIHByaXZhdGUgZXZlbnRCdXM6IEV2ZW50QnVzO1xuICBwcml2YXRlIHdlYnNvY2tldE1hbmFnZXI6IFdlYlNvY2tldE1hbmFnZXI7XG4gIHByaXZhdGUgZGF0YVN0b3JlOiBEYXRhU3RvcmU7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHRoaXMuaW5pdGlhbGl6ZVN0YXRlKCk7XG4gICAgdGhpcy5ldmVudEJ1cyA9IG5ldyBFdmVudEJ1cygpO1xuICAgIHRoaXMud2Vic29ja2V0TWFuYWdlciA9IG5ldyBXZWJTb2NrZXRNYW5hZ2VyKCk7XG4gICAgdGhpcy5kYXRhU3RvcmUgPSBuZXcgRGF0YVN0b3JlKCk7XG4gIH1cblxuICBwcml2YXRlIGluaXRpYWxpemVTdGF0ZSgpOiBTeXN0ZW1TdGF0ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFnZW50czogW10sXG4gICAgICBjb252ZXJzYXRpb25zOiBbXSxcbiAgICAgIGtub3dsZWRnZUdyYXBoOiB7XG4gICAgICAgIG5vZGVzOiBbXSxcbiAgICAgICAgZWRnZXM6IFtdLFxuICAgICAgICBjbHVzdGVyczogW10sXG4gICAgICAgIHNjaGVtYTogeyB2ZXJzaW9uOiBcIjEuMFwiLCB0eXBlczogW10gfSxcbiAgICAgIH0sXG4gICAgICBiZWxpZWZzOiBbXSxcbiAgICAgIGNvYWxpdGlvbnM6IFtdLFxuICAgICAgbWV0cmljczoge1xuICAgICAgICBwZXJmb3JtYW5jZTogeyBjcHU6IDAsIG1lbW9yeTogMCwgbGF0ZW5jeTogMCB9LFxuICAgICAgICB1c2FnZTogeyBhY3RpdmVfdXNlcnM6IDAsIHJlcXVlc3RzX3Blcl9taW51dGU6IDAgfSxcbiAgICAgICAgZXJyb3JzOiB7IGNvdW50OiAwLCByYXRlOiAwLCB0eXBlczoge30gfSxcbiAgICAgICAgbmV0d29yazogeyBiYW5kd2lkdGg6IDAsIGNvbm5lY3Rpb25zOiAwIH0sXG4gICAgICB9LFxuICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgbGxtOiB7IHByb3ZpZGVyOiBcIm9wZW5haVwiLCBtb2RlbDogXCJncHQtMy41LXR1cmJvXCIgfSxcbiAgICAgICAgdWk6IHsgdGhlbWU6IFwibGlnaHRcIiwgbGF5b3V0OiBcImRlZmF1bHRcIiB9LFxuICAgICAgICBzaW11bGF0aW9uOiB7IHNwZWVkOiAxLCBhdXRvX2FkdmFuY2U6IHRydWUgfSxcbiAgICAgICAgc2VjdXJpdHk6IHsgZW5jcnlwdGlvbjogdHJ1ZSwgYXVkaXRfbG9nOiB0cnVlIH0sXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICAvLyBBZ2VudCBNYW5hZ2VtZW50XG4gIGNyZWF0ZUFnZW50KGNvbmZpZzogUGFydGlhbDxBZ2VudD4pOiBBZ2VudCB7XG4gICAgY29uc3QgYWdlbnQ6IEFnZW50ID0ge1xuICAgICAgaWQ6IGBhZ2VudF8ke0RhdGUubm93KCl9YCxcbiAgICAgIG5hbWU6IGNvbmZpZy5uYW1lIHx8IFwiVW5uYW1lZCBBZ2VudFwiLFxuICAgICAgdHlwZTogY29uZmlnLnR5cGUgfHwgXCJhdXRvbm9tb3VzXCIsXG4gICAgICBzdGF0dXM6IFwiYWN0aXZlXCIsXG4gICAgICBjYXBhYmlsaXRpZXM6IGNvbmZpZy5jYXBhYmlsaXRpZXMgfHwgW10sXG4gICAgICBiZWxpZWZzOiB7fSxcbiAgICAgIHBlcmZvcm1hbmNlOiB7XG4gICAgICAgIG1lc3NhZ2VzX3NlbnQ6IDAsXG4gICAgICAgIHRhc2tzX2NvbXBsZXRlZDogMCxcbiAgICAgICAgYXZlcmFnZV9yZXNwb25zZV90aW1lOiAwLFxuICAgICAgICBzdWNjZXNzX3JhdGU6IDEuMCxcbiAgICAgIH0sXG4gICAgICByZWxhdGlvbnNoaXBzOiBbXSxcbiAgICB9O1xuXG4gICAgdGhpcy5zdGF0ZS5hZ2VudHMucHVzaChhZ2VudCk7XG4gICAgdGhpcy5ldmVudEJ1cy5lbWl0KFwiYWdlbnRfY3JlYXRlZFwiLCBhZ2VudCk7XG4gICAgcmV0dXJuIGFnZW50O1xuICB9XG5cbiAgdXBkYXRlQWdlbnQoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxBZ2VudD4pOiBBZ2VudCB8IG51bGwge1xuICAgIGNvbnN0IGFnZW50ID0gdGhpcy5zdGF0ZS5hZ2VudHMuZmluZCgoYSkgPT4gYS5pZCA9PT0gaWQpO1xuICAgIGlmICghYWdlbnQpIHJldHVybiBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbihhZ2VudCwgdXBkYXRlcyk7XG4gICAgdGhpcy5ldmVudEJ1cy5lbWl0KFwiYWdlbnRfdXBkYXRlZFwiLCBhZ2VudCk7XG4gICAgcmV0dXJuIGFnZW50O1xuICB9XG5cbiAgcmVtb3ZlQWdlbnQoaWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5zdGF0ZS5hZ2VudHMuZmluZEluZGV4KChhKSA9PiBhLmlkID09PSBpZCk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgY29uc3QgYWdlbnQgPSB0aGlzLnN0YXRlLmFnZW50cy5zcGxpY2UoaW5kZXgsIDEpWzBdO1xuICAgIHRoaXMuZXZlbnRCdXMuZW1pdChcImFnZW50X3JlbW92ZWRcIiwgYWdlbnQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQ29udmVyc2F0aW9uIE1hbmFnZW1lbnRcbiAgY3JlYXRlQ29udmVyc2F0aW9uKHRpdGxlOiBzdHJpbmcsIHBhcnRpY2lwYW50czogc3RyaW5nW10pOiBDb252ZXJzYXRpb24ge1xuICAgIGNvbnN0IGNvbnZlcnNhdGlvbjogQ29udmVyc2F0aW9uID0ge1xuICAgICAgaWQ6IGBjb252XyR7RGF0ZS5ub3coKX1gLFxuICAgICAgdGl0bGUsXG4gICAgICBwYXJ0aWNpcGFudHMsXG4gICAgICBtZXNzYWdlczogW10sXG4gICAgICBzdGF0dXM6IFwiYWN0aXZlXCIsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICBsYXN0X2FjdGl2aXR5OiBuZXcgRGF0ZSgpLFxuICAgICAgICB0b3BpY190YWdzOiBbXSxcbiAgICAgICAgcHJpb3JpdHk6IFwibm9ybWFsXCIsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICB0aGlzLnN0YXRlLmNvbnZlcnNhdGlvbnMucHVzaChjb252ZXJzYXRpb24pO1xuICAgIHRoaXMuZXZlbnRCdXMuZW1pdChcImNvbnZlcnNhdGlvbl9jcmVhdGVkXCIsIGNvbnZlcnNhdGlvbik7XG4gICAgcmV0dXJuIGNvbnZlcnNhdGlvbjtcbiAgfVxuXG4gIHNlbmRNZXNzYWdlKFxuICAgIGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsXG4gICAgYWdlbnRJZDogc3RyaW5nLFxuICAgIGNvbnRlbnQ6IHN0cmluZyxcbiAgKTogTWVzc2FnZSB7XG4gICAgY29uc3QgY29udmVyc2F0aW9uID0gdGhpcy5zdGF0ZS5jb252ZXJzYXRpb25zLmZpbmQoXG4gICAgICAoYykgPT4gYy5pZCA9PT0gY29udmVyc2F0aW9uSWQsXG4gICAgKTtcbiAgICBpZiAoIWNvbnZlcnNhdGlvbikgdGhyb3cgbmV3IEVycm9yKFwiQ29udmVyc2F0aW9uIG5vdCBmb3VuZFwiKTtcblxuICAgIGNvbnN0IG1lc3NhZ2U6IE1lc3NhZ2UgPSB7XG4gICAgICBpZDogYG1zZ18ke0RhdGUubm93KCl9YCxcbiAgICAgIGFnZW50SWQsXG4gICAgICBjb250ZW50LFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBjb252ZXJzYXRpb25faWQ6IGNvbnZlcnNhdGlvbklkLFxuICAgICAgICB0b2tlbnM6IGNvbnRlbnQuc3BsaXQoXCIgXCIpLmxlbmd0aCxcbiAgICAgICAgc2VudGltZW50OiBcIm5ldXRyYWxcIixcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGNvbnZlcnNhdGlvbi5tZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgIGNvbnZlcnNhdGlvbi5tZXRhZGF0YS5sYXN0X2FjdGl2aXR5ID0gbmV3IERhdGUoKTtcblxuICAgIHRoaXMuZXZlbnRCdXMuZW1pdChcIm1lc3NhZ2Vfc2VudFwiLCBtZXNzYWdlKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuXG4gIC8vIEtub3dsZWRnZSBHcmFwaCBNYW5hZ2VtZW50XG4gIGFkZEtub3dsZWRnZU5vZGUoXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGxhYmVsOiBzdHJpbmcsXG4gICAgcHJvcGVydGllczogUmVjb3JkPHN0cmluZywgYW55PixcbiAgKTogS25vd2xlZGdlTm9kZSB7XG4gICAgY29uc3Qgbm9kZTogS25vd2xlZGdlTm9kZSA9IHtcbiAgICAgIGlkOiBgbm9kZV8ke0RhdGUubm93KCl9YCxcbiAgICAgIHR5cGUsXG4gICAgICBsYWJlbCxcbiAgICAgIHByb3BlcnRpZXMsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgfTtcblxuICAgIHRoaXMuc3RhdGUua25vd2xlZGdlR3JhcGgubm9kZXMucHVzaChub2RlKTtcbiAgICB0aGlzLmV2ZW50QnVzLmVtaXQoXCJrbm93bGVkZ2Vfbm9kZV9hZGRlZFwiLCBub2RlKTtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIGFkZEtub3dsZWRnZUVkZ2UoXG4gICAgc291cmNlSWQ6IHN0cmluZyxcbiAgICB0YXJnZXRJZDogc3RyaW5nLFxuICAgIHJlbGF0aW9uc2hpcDogc3RyaW5nLFxuICApOiBLbm93bGVkZ2VFZGdlIHtcbiAgICBjb25zdCBlZGdlOiBLbm93bGVkZ2VFZGdlID0ge1xuICAgICAgaWQ6IGBlZGdlXyR7RGF0ZS5ub3coKX1gLFxuICAgICAgc291cmNlX2lkOiBzb3VyY2VJZCxcbiAgICAgIHRhcmdldF9pZDogdGFyZ2V0SWQsXG4gICAgICByZWxhdGlvbnNoaXAsXG4gICAgICB3ZWlnaHQ6IDEuMCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICB9O1xuXG4gICAgdGhpcy5zdGF0ZS5rbm93bGVkZ2VHcmFwaC5lZGdlcy5wdXNoKGVkZ2UpO1xuICAgIHRoaXMuZXZlbnRCdXMuZW1pdChcImtub3dsZWRnZV9lZGdlX2FkZGVkXCIsIGVkZ2UpO1xuICAgIHJldHVybiBlZGdlO1xuICB9XG5cbiAgLy8gQmVsaWVmIE1hbmFnZW1lbnRcbiAgdXBkYXRlQmVsaWVmKFxuICAgIGFnZW50SWQ6IHN0cmluZyxcbiAgICBiZWxpZWZLZXk6IHN0cmluZyxcbiAgICB2YWx1ZTogbnVtYmVyLFxuICAgIGNvbmZpZGVuY2U6IG51bWJlciA9IDAuOCxcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgZXhpc3RpbmdCZWxpZWYgPSB0aGlzLnN0YXRlLmJlbGllZnMuZmluZChcbiAgICAgIChiKSA9PiBiLmFnZW50SWQgPT09IGFnZW50SWQsXG4gICAgKTtcblxuICAgIGlmIChleGlzdGluZ0JlbGllZikge1xuICAgICAgZXhpc3RpbmdCZWxpZWYuYmVsaWVmc1tiZWxpZWZLZXldID0gdmFsdWU7XG4gICAgICBleGlzdGluZ0JlbGllZi5jb25maWRlbmNlID0gY29uZmlkZW5jZTtcbiAgICAgIGV4aXN0aW5nQmVsaWVmLnRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG5ld0JlbGllZjogQmVsaWVmU3RhdGUgPSB7XG4gICAgICAgIGFnZW50SWQsXG4gICAgICAgIGJlbGllZnM6IHsgW2JlbGllZktleV06IHZhbHVlIH0sXG4gICAgICAgIGNvbmZpZGVuY2UsXG4gICAgICAgIHVuY2VydGFpbnR5OiAxIC0gY29uZmlkZW5jZSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgfTtcbiAgICAgIHRoaXMuc3RhdGUuYmVsaWVmcy5wdXNoKG5ld0JlbGllZik7XG4gICAgfVxuXG4gICAgdGhpcy5ldmVudEJ1cy5lbWl0KFwiYmVsaWVmX3VwZGF0ZWRcIiwge1xuICAgICAgYWdlbnRJZCxcbiAgICAgIGJlbGllZktleSxcbiAgICAgIHZhbHVlLFxuICAgICAgY29uZmlkZW5jZSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIENvYWxpdGlvbiBNYW5hZ2VtZW50XG4gIGZvcm1Db2FsaXRpb24obmFtZTogc3RyaW5nLCBtZW1iZXJJZHM6IHN0cmluZ1tdLCBwdXJwb3NlOiBzdHJpbmcpOiBDb2FsaXRpb24ge1xuICAgIGNvbnN0IGNvYWxpdGlvbjogQ29hbGl0aW9uID0ge1xuICAgICAgaWQ6IGBjb2FsXyR7RGF0ZS5ub3coKX1gLFxuICAgICAgbmFtZSxcbiAgICAgIG1lbWJlcnM6IG1lbWJlcklkcyxcbiAgICAgIHB1cnBvc2UsXG4gICAgICBzdHJlbmd0aDogdGhpcy5jYWxjdWxhdGVDb2FsaXRpb25TdHJlbmd0aChtZW1iZXJJZHMpLFxuICAgICAgZm9ybWF0aW9uX3N0cmF0ZWd5OiBcInV0aWxpdHlfYmFzZWRcIixcbiAgICAgIGxpZmVjeWNsZToge1xuICAgICAgICBwaGFzZTogXCJmb3JtYXRpb25cIixcbiAgICAgICAgc3RhcnRfdGltZTogbmV3IERhdGUoKSxcbiAgICAgICAgbWlsZXN0b25lczogW10sXG4gICAgICB9LFxuICAgIH07XG5cbiAgICB0aGlzLnN0YXRlLmNvYWxpdGlvbnMucHVzaChjb2FsaXRpb24pO1xuICAgIHRoaXMuZXZlbnRCdXMuZW1pdChcImNvYWxpdGlvbl9mb3JtZWRcIiwgY29hbGl0aW9uKTtcbiAgICByZXR1cm4gY29hbGl0aW9uO1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVDb2FsaXRpb25TdHJlbmd0aChtZW1iZXJJZHM6IHN0cmluZ1tdKTogbnVtYmVyIHtcbiAgICBjb25zdCBtZW1iZXJzID0gdGhpcy5zdGF0ZS5hZ2VudHMuZmlsdGVyKChhKSA9PiBtZW1iZXJJZHMuaW5jbHVkZXMoYS5pZCkpO1xuICAgIGlmIChtZW1iZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDA7XG5cbiAgICBjb25zdCBhdmdDYXBhYmlsaXRpZXMgPVxuICAgICAgbWVtYmVycy5yZWR1Y2UoKHN1bSwgYWdlbnQpID0+IHN1bSArIGFnZW50LmNhcGFiaWxpdGllcy5sZW5ndGgsIDApIC9cbiAgICAgIG1lbWJlcnMubGVuZ3RoO1xuICAgIGNvbnN0IGF2Z1BlcmZvcm1hbmNlID1cbiAgICAgIG1lbWJlcnMucmVkdWNlKChzdW0sIGFnZW50KSA9PiBzdW0gKyBhZ2VudC5wZXJmb3JtYW5jZS5zdWNjZXNzX3JhdGUsIDApIC9cbiAgICAgIG1lbWJlcnMubGVuZ3RoO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIChhdmdDYXBhYmlsaXRpZXMgKiAwLjMgKyBhdmdQZXJmb3JtYW5jZSAqIDAuNykgKiAobWVtYmVycy5sZW5ndGggLyAxMClcbiAgICApO1xuICB9XG5cbiAgLy8gU3lzdGVtIE1ldHJpY3NcbiAgdXBkYXRlTWV0cmljcygpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlLm1ldHJpY3MgPSB7XG4gICAgICBwZXJmb3JtYW5jZToge1xuICAgICAgICBjcHU6IE1hdGgucmFuZG9tKCkgKiAxMDAsXG4gICAgICAgIG1lbW9yeTogTWF0aC5yYW5kb20oKSAqIDEwMCxcbiAgICAgICAgbGF0ZW5jeTogTWF0aC5yYW5kb20oKSAqIDEwMDAsXG4gICAgICB9LFxuICAgICAgdXNhZ2U6IHtcbiAgICAgICAgYWN0aXZlX3VzZXJzOiB0aGlzLnN0YXRlLmFnZW50cy5maWx0ZXIoKGEpID0+IGEuc3RhdHVzID09PSBcImFjdGl2ZVwiKVxuICAgICAgICAgIC5sZW5ndGgsXG4gICAgICAgIHJlcXVlc3RzX3Blcl9taW51dGU6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApLFxuICAgICAgfSxcbiAgICAgIGVycm9yczoge1xuICAgICAgICBjb3VudDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApLFxuICAgICAgICByYXRlOiBNYXRoLnJhbmRvbSgpICogMC4wNSxcbiAgICAgICAgdHlwZXM6IHsgbmV0d29yazogMiwgdmFsaWRhdGlvbjogMSwgdGltZW91dDogMSB9LFxuICAgICAgfSxcbiAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgYmFuZHdpZHRoOiBNYXRoLnJhbmRvbSgpICogMTAwMCxcbiAgICAgICAgY29ubmVjdGlvbnM6IHRoaXMuc3RhdGUuY29udmVyc2F0aW9ucy5maWx0ZXIoXG4gICAgICAgICAgKGMpID0+IGMuc3RhdHVzID09PSBcImFjdGl2ZVwiLFxuICAgICAgICApLmxlbmd0aCxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIHRoaXMuZXZlbnRCdXMuZW1pdChcIm1ldHJpY3NfdXBkYXRlZFwiLCB0aGlzLnN0YXRlLm1ldHJpY3MpO1xuICB9XG5cbiAgLy8gU3RhdGUgQWNjZXNzXG4gIGdldFN0YXRlKCk6IFN5c3RlbVN0YXRlIHtcbiAgICByZXR1cm4geyAuLi50aGlzLnN0YXRlIH07XG4gIH1cblxuICBnZXRBZ2VudHMoKTogQWdlbnRbXSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLnN0YXRlLmFnZW50c107XG4gIH1cblxuICBnZXRDb252ZXJzYXRpb25zKCk6IENvbnZlcnNhdGlvbltdIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuc3RhdGUuY29udmVyc2F0aW9uc107XG4gIH1cblxuICBnZXRLbm93bGVkZ2VHcmFwaCgpOiBLbm93bGVkZ2VHcmFwaCB7XG4gICAgcmV0dXJuIHsgLi4udGhpcy5zdGF0ZS5rbm93bGVkZ2VHcmFwaCB9O1xuICB9XG5cbiAgZ2V0QmVsaWVmcygpOiBCZWxpZWZTdGF0ZVtdIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuc3RhdGUuYmVsaWVmc107XG4gIH1cblxuICBnZXRDb2FsaXRpb25zKCk6IENvYWxpdGlvbltdIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuc3RhdGUuY29hbGl0aW9uc107XG4gIH1cblxuICBnZXRNZXRyaWNzKCk6IFN5c3RlbU1ldHJpY3Mge1xuICAgIHJldHVybiB7IC4uLnRoaXMuc3RhdGUubWV0cmljcyB9O1xuICB9XG59XG5cbi8vIEV2ZW50IEJ1cyBJbXBsZW1lbnRhdGlvblxuY2xhc3MgRXZlbnRCdXMge1xuICBwcml2YXRlIGxpc3RlbmVyczogTWFwPHN0cmluZywgQXJyYXk8KC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkPj4gPSBuZXcgTWFwKCk7XG5cbiAgb24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5saXN0ZW5lcnMuaGFzKGV2ZW50KSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KGV2ZW50LCBbXSk7XG4gICAgfVxuICAgIHRoaXMubGlzdGVuZXJzLmdldChldmVudCkhLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgb2ZmKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQpOiB2b2lkIHtcbiAgICBjb25zdCBjYWxsYmFja3MgPSB0aGlzLmxpc3RlbmVycy5nZXQoZXZlbnQpO1xuICAgIGlmIChjYWxsYmFja3MpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZW1pdChldmVudDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMubGlzdGVuZXJzLmdldChldmVudCk7XG4gICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgY2FsbGJhY2tzLmZvckVhY2goKGNhbGxiYWNrKSA9PiBjYWxsYmFjayguLi5hcmdzKSk7XG4gICAgfVxuICB9XG5cbiAgY2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5saXN0ZW5lcnMuY2xlYXIoKTtcbiAgfVxufVxuXG4vLyBXZWJTb2NrZXQgTWFuYWdlclxuY2xhc3MgV2ViU29ja2V0TWFuYWdlciB7XG4gIHByaXZhdGUgY29ubmVjdGlvbnM6IE1hcDxzdHJpbmcsIFdlYlNvY2tldD4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgcmVjb25uZWN0QXR0ZW1wdHM6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgbWF4UmVjb25uZWN0QXR0ZW1wdHMgPSA1O1xuXG4gIGNvbm5lY3QodXJsOiBzdHJpbmcsIGlkOiBzdHJpbmcgPSBcImRlZmF1bHRcIik6IFByb21pc2U8V2ViU29ja2V0PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHdzID0gbmV3IFdlYlNvY2tldCh1cmwpO1xuXG4gICAgICAgIHdzLm9ub3BlbiA9ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25zLnNldChpZCwgd3MpO1xuICAgICAgICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMuZGVsZXRlKGlkKTtcbiAgICAgICAgICByZXNvbHZlKHdzKTtcbiAgICAgICAgfTtcblxuICAgICAgICB3cy5vbmNsb3NlID0gKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY29ubmVjdGlvbnMuZGVsZXRlKGlkKTtcbiAgICAgICAgICB0aGlzLmF0dGVtcHRSZWNvbm5lY3QodXJsLCBpZCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgd3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhdHRlbXB0UmVjb25uZWN0KHVybDogc3RyaW5nLCBpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgYXR0ZW1wdHMgPSB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLmdldChpZCkgfHwgMDtcbiAgICBpZiAoYXR0ZW1wdHMgPCB0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzKSB7XG4gICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLnNldChpZCwgYXR0ZW1wdHMgKyAxKTtcbiAgICAgIHNldFRpbWVvdXQoXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICB0aGlzLmNvbm5lY3QodXJsLCBpZCk7XG4gICAgICAgIH0sXG4gICAgICAgIE1hdGgucG93KDIsIGF0dGVtcHRzKSAqIDEwMDAsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoaWQ6IHN0cmluZywgZGF0YTogYW55KTogYm9vbGVhbiB7XG4gICAgY29uc3Qgd3MgPSB0aGlzLmNvbm5lY3Rpb25zLmdldChpZCk7XG4gICAgaWYgKHdzICYmIHdzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBkaXNjb25uZWN0KGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCB3cyA9IHRoaXMuY29ubmVjdGlvbnMuZ2V0KGlkKTtcbiAgICBpZiAod3MpIHtcbiAgICAgIHdzLmNsb3NlKCk7XG4gICAgICB0aGlzLmNvbm5lY3Rpb25zLmRlbGV0ZShpZCk7XG4gICAgfVxuICB9XG5cbiAgZGlzY29ubmVjdEFsbCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbm5lY3Rpb25zLmZvckVhY2goKHdzLCBpZCkgPT4ge1xuICAgICAgd3MuY2xvc2UoKTtcbiAgICB9KTtcbiAgICB0aGlzLmNvbm5lY3Rpb25zLmNsZWFyKCk7XG4gIH1cbn1cblxuLy8gRGF0YSBTdG9yZSBJbXBsZW1lbnRhdGlvblxuY2xhc3MgRGF0YVN0b3JlIHtcbiAgcHJpdmF0ZSBjYWNoZTogTWFwPHN0cmluZywgYW55PiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBwZXJzaXN0ZW50U3RvcmU6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwKCk7XG5cbiAgLy8gQ2FjaGUgb3BlcmF0aW9uc1xuICBzZXRDYWNoZShrZXk6IHN0cmluZywgdmFsdWU6IGFueSwgdHRsOiBudW1iZXIgPSAzMDAwMDApOiB2b2lkIHtcbiAgICB0aGlzLmNhY2hlLnNldChrZXksIHtcbiAgICAgIHZhbHVlLFxuICAgICAgZXhwaXJlczogRGF0ZS5ub3coKSArIHR0bCxcbiAgICB9KTtcbiAgfVxuXG4gIGdldENhY2hlKGtleTogc3RyaW5nKTogYW55IHtcbiAgICBjb25zdCBpdGVtID0gdGhpcy5jYWNoZS5nZXQoa2V5KTtcbiAgICBpZiAoIWl0ZW0pIHJldHVybiBudWxsO1xuXG4gICAgaWYgKERhdGUubm93KCkgPiBpdGVtLmV4cGlyZXMpIHtcbiAgICAgIHRoaXMuY2FjaGUuZGVsZXRlKGtleSk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gaXRlbS52YWx1ZTtcbiAgfVxuXG4gIGNsZWFyQ2FjaGUoKTogdm9pZCB7XG4gICAgdGhpcy5jYWNoZS5jbGVhcigpO1xuICB9XG5cbiAgLy8gUGVyc2lzdGVudCBzdG9yYWdlIG9wZXJhdGlvbnNcbiAgc2V0KGtleTogc3RyaW5nLCB2YWx1ZTogYW55KTogdm9pZCB7XG4gICAgdGhpcy5wZXJzaXN0ZW50U3RvcmUuc2V0KGtleSwgdmFsdWUpO1xuICAgIC8vIEluIHJlYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd291bGQgcGVyc2lzdCB0byBJbmRleGVkREJcbiAgfVxuXG4gIGdldChrZXk6IHN0cmluZyk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMucGVyc2lzdGVudFN0b3JlLmdldChrZXkpO1xuICB9XG5cbiAgZGVsZXRlKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucGVyc2lzdGVudFN0b3JlLmRlbGV0ZShrZXkpO1xuICB9XG5cbiAgY2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5wZXJzaXN0ZW50U3RvcmUuY2xlYXIoKTtcbiAgfVxuXG4gIC8vIEJhdGNoIG9wZXJhdGlvbnNcbiAgc2V0QmF0Y2goaXRlbXM6IEFycmF5PHsga2V5OiBzdHJpbmc7IHZhbHVlOiBhbnkgfT4pOiB2b2lkIHtcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLnNldChpdGVtLmtleSwgaXRlbS52YWx1ZSkpO1xuICB9XG5cbiAgZ2V0QmF0Y2goa2V5czogc3RyaW5nW10pOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHtcbiAgICBjb25zdCByZXN1bHQ6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldChrZXkpO1xuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG5cbi8vIFN5c3RlbSBEYXNoYm9hcmQgQ29tcG9uZW50XG5jb25zdCBTeXN0ZW1EYXNoYm9hcmQ6IFJlYWN0LkZDPHtcbiAgc3lzdGVtTWFuYWdlcjogU3lzdGVtTWFuYWdlcjtcbn0+ID0gKHsgc3lzdGVtTWFuYWdlciB9KSA9PiB7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gUmVhY3QudXNlU3RhdGUoc3lzdGVtTWFuYWdlci5nZXRTdGF0ZSgpKTtcbiAgY29uc3QgW3NlbGVjdGVkQWdlbnQsIHNldFNlbGVjdGVkQWdlbnRdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzZWxlY3RlZENvbnZlcnNhdGlvbiwgc2V0U2VsZWN0ZWRDb252ZXJzYXRpb25dID0gUmVhY3QudXNlU3RhdGU8XG4gICAgc3RyaW5nIHwgbnVsbFxuICA+KG51bGwpO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlU3RhdGUgPSAoKSA9PiBzZXRTdGF0ZShzeXN0ZW1NYW5hZ2VyLmdldFN0YXRlKCkpO1xuXG4gICAgc3lzdGVtTWFuYWdlcltcImV2ZW50QnVzXCJdLm9uKFwiYWdlbnRfY3JlYXRlZFwiLCB1cGRhdGVTdGF0ZSk7XG4gICAgc3lzdGVtTWFuYWdlcltcImV2ZW50QnVzXCJdLm9uKFwiYWdlbnRfdXBkYXRlZFwiLCB1cGRhdGVTdGF0ZSk7XG4gICAgc3lzdGVtTWFuYWdlcltcImV2ZW50QnVzXCJdLm9uKFwiY29udmVyc2F0aW9uX2NyZWF0ZWRcIiwgdXBkYXRlU3RhdGUpO1xuICAgIHN5c3RlbU1hbmFnZXJbXCJldmVudEJ1c1wiXS5vbihcIm1lc3NhZ2Vfc2VudFwiLCB1cGRhdGVTdGF0ZSk7XG4gICAgc3lzdGVtTWFuYWdlcltcImV2ZW50QnVzXCJdLm9uKFwiYmVsaWVmX3VwZGF0ZWRcIiwgdXBkYXRlU3RhdGUpO1xuICAgIHN5c3RlbU1hbmFnZXJbXCJldmVudEJ1c1wiXS5vbihcImNvYWxpdGlvbl9mb3JtZWRcIiwgdXBkYXRlU3RhdGUpO1xuICAgIHN5c3RlbU1hbmFnZXJbXCJldmVudEJ1c1wiXS5vbihcIm1ldHJpY3NfdXBkYXRlZFwiLCB1cGRhdGVTdGF0ZSk7XG5cbiAgICAvLyBVcGRhdGUgbWV0cmljcyBwZXJpb2RpY2FsbHlcbiAgICBjb25zdCBtZXRyaWNzSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBzeXN0ZW1NYW5hZ2VyLnVwZGF0ZU1ldHJpY3MoKTtcbiAgICB9LCA1MDAwKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzeXN0ZW1NYW5hZ2VyW1wiZXZlbnRCdXNcIl0uY2xlYXIoKTtcbiAgICAgIGNsZWFySW50ZXJ2YWwobWV0cmljc0ludGVydmFsKTtcbiAgICB9O1xuICB9LCBbc3lzdGVtTWFuYWdlcl0pO1xuXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZUFnZW50ID0gKCkgPT4ge1xuICAgIHN5c3RlbU1hbmFnZXIuY3JlYXRlQWdlbnQoe1xuICAgICAgbmFtZTogYEFnZW50ICR7c3RhdGUuYWdlbnRzLmxlbmd0aCArIDF9YCxcbiAgICAgIHR5cGU6IFwiYXV0b25vbW91c1wiLFxuICAgICAgY2FwYWJpbGl0aWVzOiBbXCJjb21tdW5pY2F0aW9uXCIsIFwiYW5hbHlzaXNcIl0sXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ3JlYXRlQ29udmVyc2F0aW9uID0gKCkgPT4ge1xuICAgIGlmIChzdGF0ZS5hZ2VudHMubGVuZ3RoID49IDIpIHtcbiAgICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHN0YXRlLmFnZW50cy5zbGljZSgwLCAyKS5tYXAoKGEpID0+IGEuaWQpO1xuICAgICAgc3lzdGVtTWFuYWdlci5jcmVhdGVDb252ZXJzYXRpb24oXG4gICAgICAgIGBDb252ZXJzYXRpb24gJHtzdGF0ZS5jb252ZXJzYXRpb25zLmxlbmd0aCArIDF9YCxcbiAgICAgICAgcGFydGljaXBhbnRzLFxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2VuZE1lc3NhZ2UgPSAoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkQ29udmVyc2F0aW9uICYmIHNlbGVjdGVkQWdlbnQpIHtcbiAgICAgIHN5c3RlbU1hbmFnZXIuc2VuZE1lc3NhZ2UoXG4gICAgICAgIHNlbGVjdGVkQ29udmVyc2F0aW9uLFxuICAgICAgICBzZWxlY3RlZEFnZW50LFxuICAgICAgICBgTWVzc2FnZSBhdCAke25ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCl9YCxcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUZvcm1Db2FsaXRpb24gPSAoKSA9PiB7XG4gICAgaWYgKHN0YXRlLmFnZW50cy5sZW5ndGggPj0gMikge1xuICAgICAgY29uc3QgbWVtYmVycyA9IHN0YXRlLmFnZW50cy5zbGljZSgwLCAyKS5tYXAoKGEpID0+IGEuaWQpO1xuICAgICAgc3lzdGVtTWFuYWdlci5mb3JtQ29hbGl0aW9uKFxuICAgICAgICBgQ29hbGl0aW9uICR7c3RhdGUuY29hbGl0aW9ucy5sZW5ndGggKyAxfWAsXG4gICAgICAgIG1lbWJlcnMsXG4gICAgICAgIFwiY29sbGFib3JhdGl2ZV9yZXNlYXJjaFwiLFxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVXBkYXRlQmVsaWVmID0gKCkgPT4ge1xuICAgIGlmIChzZWxlY3RlZEFnZW50KSB7XG4gICAgICBzeXN0ZW1NYW5hZ2VyLnVwZGF0ZUJlbGllZihcbiAgICAgICAgc2VsZWN0ZWRBZ2VudCxcbiAgICAgICAgXCJjb29wZXJhdGlvbl92YWx1ZVwiLFxuICAgICAgICBNYXRoLnJhbmRvbSgpLFxuICAgICAgICAwLjggKyBNYXRoLnJhbmRvbSgpICogMC4yLFxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGRhdGEtdGVzdGlkPVwic3lzdGVtLWRhc2hib2FyZFwiIGNsYXNzTmFtZT1cInN5c3RlbS1kYXNoYm9hcmRcIj5cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiZGFzaGJvYXJkLWhlYWRlclwiPlxuICAgICAgICA8aDE+RnJlZUFnZW50aWNzIFN5c3RlbSBEYXNoYm9hcmQ8L2gxPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN5c3RlbS1zdGF0dXNcIj5cbiAgICAgICAgICA8c3BhbiBkYXRhLXRlc3RpZD1cImFnZW50LWNvdW50XCI+QWdlbnRzOiB7c3RhdGUuYWdlbnRzLmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gZGF0YS10ZXN0aWQ9XCJjb252ZXJzYXRpb24tY291bnRcIj5cbiAgICAgICAgICAgIENvbnZlcnNhdGlvbnM6IHtzdGF0ZS5jb252ZXJzYXRpb25zLmxlbmd0aH1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gZGF0YS10ZXN0aWQ9XCJjb2FsaXRpb24tY291bnRcIj5cbiAgICAgICAgICAgIENvYWxpdGlvbnM6IHtzdGF0ZS5jb2FsaXRpb25zLmxlbmd0aH1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gZGF0YS10ZXN0aWQ9XCJrbm93bGVkZ2Utbm9kZXNcIj5cbiAgICAgICAgICAgIEtub3dsZWRnZSBOb2Rlczoge3N0YXRlLmtub3dsZWRnZUdyYXBoLm5vZGVzLmxlbmd0aH1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGFzaGJvYXJkLWNvbnRyb2xzXCI+XG4gICAgICAgIDxidXR0b24gZGF0YS10ZXN0aWQ9XCJjcmVhdGUtYWdlbnRcIiBvbkNsaWNrPXtoYW5kbGVDcmVhdGVBZ2VudH0+XG4gICAgICAgICAgQ3JlYXRlIEFnZW50XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgZGF0YS10ZXN0aWQ9XCJjcmVhdGUtY29udmVyc2F0aW9uXCJcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDcmVhdGVDb252ZXJzYXRpb259XG4gICAgICAgICAgZGlzYWJsZWQ9e3N0YXRlLmFnZW50cy5sZW5ndGggPCAyfVxuICAgICAgICA+XG4gICAgICAgICAgQ3JlYXRlIENvbnZlcnNhdGlvblxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGRhdGEtdGVzdGlkPVwiZm9ybS1jb2FsaXRpb25cIlxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUZvcm1Db2FsaXRpb259XG4gICAgICAgICAgZGlzYWJsZWQ9e3N0YXRlLmFnZW50cy5sZW5ndGggPCAyfVxuICAgICAgICA+XG4gICAgICAgICAgRm9ybSBDb2FsaXRpb25cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBkYXRhLXRlc3RpZD1cInVwZGF0ZS1iZWxpZWZcIlxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVVwZGF0ZUJlbGllZn1cbiAgICAgICAgICBkaXNhYmxlZD17IXNlbGVjdGVkQWdlbnR9XG4gICAgICAgID5cbiAgICAgICAgICBVcGRhdGUgQmVsaWVmXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgZGF0YS10ZXN0aWQ9XCJzZW5kLW1lc3NhZ2VcIlxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlbmRNZXNzYWdlfVxuICAgICAgICAgIGRpc2FibGVkPXshc2VsZWN0ZWRDb252ZXJzYXRpb24gfHwgIXNlbGVjdGVkQWdlbnR9XG4gICAgICAgID5cbiAgICAgICAgICBTZW5kIE1lc3NhZ2VcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkYXNoYm9hcmQtZ3JpZFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRhc2hib2FyZC1zZWN0aW9uXCI+XG4gICAgICAgICAgPGgzPlN5c3RlbSBNZXRyaWNzPC9oMz5cbiAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwic3lzdGVtLW1ldHJpY3NcIj5cbiAgICAgICAgICAgIDxkaXY+Q1BVOiB7c3RhdGUubWV0cmljcy5wZXJmb3JtYW5jZS5jcHUudG9GaXhlZCgxKX0lPC9kaXY+XG4gICAgICAgICAgICA8ZGl2Pk1lbW9yeToge3N0YXRlLm1ldHJpY3MucGVyZm9ybWFuY2UubWVtb3J5LnRvRml4ZWQoMSl9JTwvZGl2PlxuICAgICAgICAgICAgPGRpdj5MYXRlbmN5OiB7c3RhdGUubWV0cmljcy5wZXJmb3JtYW5jZS5sYXRlbmN5LnRvRml4ZWQoMCl9bXM8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+QWN0aXZlIFVzZXJzOiB7c3RhdGUubWV0cmljcy51c2FnZS5hY3RpdmVfdXNlcnN9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICBFcnJvciBSYXRlOiB7KHN0YXRlLm1ldHJpY3MuZXJyb3JzLnJhdGUgKiAxMDApLnRvRml4ZWQoMil9JVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGFzaGJvYXJkLXNlY3Rpb25cIj5cbiAgICAgICAgICA8aDM+QWdlbnRzPC9oMz5cbiAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiYWdlbnQtbGlzdFwiPlxuICAgICAgICAgICAge3N0YXRlLmFnZW50cy5tYXAoKGFnZW50KSA9PiAoXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBrZXk9e2FnZW50LmlkfVxuICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgYWdlbnQtJHthZ2VudC5pZH1gfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGFnZW50LWl0ZW0gJHtzZWxlY3RlZEFnZW50ID09PSBhZ2VudC5pZCA/IFwic2VsZWN0ZWRcIiA6IFwiXCJ9YH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZEFnZW50KGFnZW50LmlkKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXY+e2FnZW50Lm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5UeXBlOiB7YWdlbnQudHlwZX08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlN0YXR1czoge2FnZW50LnN0YXR1c308L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PkNhcGFiaWxpdGllczoge2FnZW50LmNhcGFiaWxpdGllcy5sZW5ndGh9PC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGFzaGJvYXJkLXNlY3Rpb25cIj5cbiAgICAgICAgICA8aDM+Q29udmVyc2F0aW9uczwvaDM+XG4gICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cImNvbnZlcnNhdGlvbi1saXN0XCI+XG4gICAgICAgICAgICB7c3RhdGUuY29udmVyc2F0aW9ucy5tYXAoKGNvbnYpID0+IChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGtleT17Y29udi5pZH1cbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YGNvbnZlcnNhdGlvbi0ke2NvbnYuaWR9YH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bjb252ZXJzYXRpb24taXRlbSAke3NlbGVjdGVkQ29udmVyc2F0aW9uID09PSBjb252LmlkID8gXCJzZWxlY3RlZFwiIDogXCJcIn1gfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkQ29udmVyc2F0aW9uKGNvbnYuaWQpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdj57Y29udi50aXRsZX08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlBhcnRpY2lwYW50czoge2NvbnYucGFydGljaXBhbnRzLmxlbmd0aH08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2Pk1lc3NhZ2VzOiB7Y29udi5tZXNzYWdlcy5sZW5ndGh9PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5TdGF0dXM6IHtjb252LnN0YXR1c308L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkYXNoYm9hcmQtc2VjdGlvblwiPlxuICAgICAgICAgIDxoMz5CZWxpZWZzPC9oMz5cbiAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiYmVsaWVmLWxpc3RcIj5cbiAgICAgICAgICAgIHtzdGF0ZS5iZWxpZWZzLm1hcCgoYmVsaWVmLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGRhdGEtdGVzdGlkPXtgYmVsaWVmLSR7YmVsaWVmLmFnZW50SWR9YH0+XG4gICAgICAgICAgICAgICAgPGRpdj5BZ2VudDoge2JlbGllZi5hZ2VudElkfTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+QmVsaWVmczoge09iamVjdC5rZXlzKGJlbGllZi5iZWxpZWZzKS5sZW5ndGh9PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5Db25maWRlbmNlOiB7KGJlbGllZi5jb25maWRlbmNlICogMTAwKS50b0ZpeGVkKDEpfSU8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlVuY2VydGFpbnR5OiB7KGJlbGllZi51bmNlcnRhaW50eSAqIDEwMCkudG9GaXhlZCgxKX0lPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGFzaGJvYXJkLXNlY3Rpb25cIj5cbiAgICAgICAgICA8aDM+Q29hbGl0aW9uczwvaDM+XG4gICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cImNvYWxpdGlvbi1saXN0XCI+XG4gICAgICAgICAgICB7c3RhdGUuY29hbGl0aW9ucy5tYXAoKGNvYWxpdGlvbikgPT4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17Y29hbGl0aW9uLmlkfSBkYXRhLXRlc3RpZD17YGNvYWxpdGlvbi0ke2NvYWxpdGlvbi5pZH1gfT5cbiAgICAgICAgICAgICAgICA8ZGl2Pntjb2FsaXRpb24ubmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2Pk1lbWJlcnM6IHtjb2FsaXRpb24ubWVtYmVycy5sZW5ndGh9PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5QdXJwb3NlOiB7Y29hbGl0aW9uLnB1cnBvc2V9PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5TdHJlbmd0aDogeyhjb2FsaXRpb24uc3RyZW5ndGggKiAxMDApLnRvRml4ZWQoMSl9JTwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRhc2hib2FyZC1zZWN0aW9uXCI+XG4gICAgICAgICAgPGgzPktub3dsZWRnZSBHcmFwaDwvaDM+XG4gICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cImtub3dsZWRnZS1zdGF0c1wiPlxuICAgICAgICAgICAgPGRpdj5Ob2Rlczoge3N0YXRlLmtub3dsZWRnZUdyYXBoLm5vZGVzLmxlbmd0aH08L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+RWRnZXM6IHtzdGF0ZS5rbm93bGVkZ2VHcmFwaC5lZGdlcy5sZW5ndGh9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2PkNsdXN0ZXJzOiB7c3RhdGUua25vd2xlZGdlR3JhcGguY2x1c3RlcnMubGVuZ3RofTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7c2VsZWN0ZWRBZ2VudCAmJiAoXG4gICAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJhZ2VudC1kZXRhaWxzXCIgY2xhc3NOYW1lPVwiYWdlbnQtZGV0YWlsc1wiPlxuICAgICAgICAgIDxoND5cbiAgICAgICAgICAgIFNlbGVjdGVkIEFnZW50OntcIiBcIn1cbiAgICAgICAgICAgIHtzdGF0ZS5hZ2VudHMuZmluZCgoYSkgPT4gYS5pZCA9PT0gc2VsZWN0ZWRBZ2VudCk/Lm5hbWV9XG4gICAgICAgICAgPC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7c2VsZWN0ZWRDb252ZXJzYXRpb24gJiYgKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgZGF0YS10ZXN0aWQ9XCJjb252ZXJzYXRpb24tZGV0YWlsc1wiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiY29udmVyc2F0aW9uLWRldGFpbHNcIlxuICAgICAgICA+XG4gICAgICAgICAgPGg0PlxuICAgICAgICAgICAgU2VsZWN0ZWQgQ29udmVyc2F0aW9uOntcIiBcIn1cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RhdGUuY29udmVyc2F0aW9ucy5maW5kKChjKSA9PiBjLmlkID09PSBzZWxlY3RlZENvbnZlcnNhdGlvbilcbiAgICAgICAgICAgICAgICA/LnRpdGxlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gQWRkaXRpb25hbCB0eXBlIGRlZmluaXRpb25zIGZvciBjb21wbGV0ZW5lc3NcbmludGVyZmFjZSBBZ2VudFBlcmZvcm1hbmNlIHtcbiAgbWVzc2FnZXNfc2VudDogbnVtYmVyO1xuICB0YXNrc19jb21wbGV0ZWQ6IG51bWJlcjtcbiAgYXZlcmFnZV9yZXNwb25zZV90aW1lOiBudW1iZXI7XG4gIHN1Y2Nlc3NfcmF0ZTogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgQWdlbnRSZWxhdGlvbnNoaXAge1xuICB0YXJnZXRfYWdlbnRfaWQ6IHN0cmluZztcbiAgcmVsYXRpb25zaGlwX3R5cGU6IFwidHJ1c3RcIiB8IFwiY29vcGVyYXRpb25cIiB8IFwiY29tcGV0aXRpb25cIjtcbiAgc3RyZW5ndGg6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIENvbnZlcnNhdGlvbk1ldGFkYXRhIHtcbiAgY3JlYXRlZF9hdDogRGF0ZTtcbiAgbGFzdF9hY3Rpdml0eTogRGF0ZTtcbiAgdG9waWNfdGFnczogc3RyaW5nW107XG4gIHByaW9yaXR5OiBcImxvd1wiIHwgXCJub3JtYWxcIiB8IFwiaGlnaFwiO1xufVxuXG5pbnRlcmZhY2UgTWVzc2FnZU1ldGFkYXRhIHtcbiAgY29udmVyc2F0aW9uX2lkOiBzdHJpbmc7XG4gIHRva2VuczogbnVtYmVyO1xuICBzZW50aW1lbnQ6IFwicG9zaXRpdmVcIiB8IFwibmV1dHJhbFwiIHwgXCJuZWdhdGl2ZVwiO1xufVxuXG5pbnRlcmZhY2UgS25vd2xlZGdlTm9kZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHR5cGU6IHN0cmluZztcbiAgbGFiZWw6IHN0cmluZztcbiAgcHJvcGVydGllczogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgdGltZXN0YW1wOiBEYXRlO1xufVxuXG5pbnRlcmZhY2UgS25vd2xlZGdlRWRnZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHNvdXJjZV9pZDogc3RyaW5nO1xuICB0YXJnZXRfaWQ6IHN0cmluZztcbiAgcmVsYXRpb25zaGlwOiBzdHJpbmc7XG4gIHdlaWdodDogbnVtYmVyO1xuICB0aW1lc3RhbXA6IERhdGU7XG59XG5cbmludGVyZmFjZSBLbm93bGVkZ2VDbHVzdGVyIHtcbiAgaWQ6IHN0cmluZztcbiAgbm9kZXM6IHN0cmluZ1tdO1xuICBjZW50cm9pZDogc3RyaW5nO1xuICBjb2hlcmVuY2U6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIEdyYXBoU2NoZW1hIHtcbiAgdmVyc2lvbjogc3RyaW5nO1xuICB0eXBlczogc3RyaW5nW107XG59XG5cbmludGVyZmFjZSBDb2FsaXRpb25MaWZlY3ljbGUge1xuICBwaGFzZTogXCJmb3JtYXRpb25cIiB8IFwibm9ybWluZ1wiIHwgXCJwZXJmb3JtaW5nXCIgfCBcImRpc3NvbHV0aW9uXCI7XG4gIHN0YXJ0X3RpbWU6IERhdGU7XG4gIG1pbGVzdG9uZXM6IEFycmF5PHsgbmFtZTogc3RyaW5nOyB0aW1lc3RhbXA6IERhdGUgfT47XG59XG5cbmludGVyZmFjZSBQZXJmb3JtYW5jZU1ldHJpY3Mge1xuICBjcHU6IG51bWJlcjtcbiAgbWVtb3J5OiBudW1iZXI7XG4gIGxhdGVuY3k6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFVzYWdlTWV0cmljcyB7XG4gIGFjdGl2ZV91c2VyczogbnVtYmVyO1xuICByZXF1ZXN0c19wZXJfbWludXRlOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBFcnJvck1ldHJpY3Mge1xuICBjb3VudDogbnVtYmVyO1xuICByYXRlOiBudW1iZXI7XG4gIHR5cGVzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xufVxuXG5pbnRlcmZhY2UgTmV0d29ya01ldHJpY3Mge1xuICBiYW5kd2lkdGg6IG51bWJlcjtcbiAgY29ubmVjdGlvbnM6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIExMTVNldHRpbmdzIHtcbiAgcHJvdmlkZXI6IHN0cmluZztcbiAgbW9kZWw6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFVJU2V0dGluZ3Mge1xuICB0aGVtZTogc3RyaW5nO1xuICBsYXlvdXQ6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFNpbXVsYXRpb25TZXR0aW5ncyB7XG4gIHNwZWVkOiBudW1iZXI7XG4gIGF1dG9fYWR2YW5jZTogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIFNlY3VyaXR5U2V0dGluZ3Mge1xuICBlbmNyeXB0aW9uOiBib29sZWFuO1xuICBhdWRpdF9sb2c6IGJvb2xlYW47XG59XG5cbmRlc2NyaWJlKFwiQ29tcGxldGUgU3lzdGVtIEludGVncmF0aW9uIFRlc3RzXCIsICgpID0+IHtcbiAgbGV0IHN5c3RlbU1hbmFnZXI6IFN5c3RlbU1hbmFnZXI7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgc3lzdGVtTWFuYWdlciA9IG5ldyBTeXN0ZW1NYW5hZ2VyKCk7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiU3lzdGVtIEluaXRpYWxpemF0aW9uXCIsICgpID0+IHtcbiAgICBpdChcImluaXRpYWxpemVzIHdpdGggZGVmYXVsdCBzdGF0ZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGF0ZSA9IHN5c3RlbU1hbmFnZXIuZ2V0U3RhdGUoKTtcblxuICAgICAgZXhwZWN0KHN0YXRlLmFnZW50cykudG9FcXVhbChbXSk7XG4gICAgICBleHBlY3Qoc3RhdGUuY29udmVyc2F0aW9ucykudG9FcXVhbChbXSk7XG4gICAgICBleHBlY3Qoc3RhdGUuY29hbGl0aW9ucykudG9FcXVhbChbXSk7XG4gICAgICBleHBlY3Qoc3RhdGUuYmVsaWVmcykudG9FcXVhbChbXSk7XG4gICAgICBleHBlY3Qoc3RhdGUua25vd2xlZGdlR3JhcGgubm9kZXMpLnRvRXF1YWwoW10pO1xuICAgICAgZXhwZWN0KHN0YXRlLmtub3dsZWRnZUdyYXBoLmVkZ2VzKS50b0VxdWFsKFtdKTtcbiAgICB9KTtcblxuICAgIGl0KFwiaGFzIHByb3BlciBkZWZhdWx0IHNldHRpbmdzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlID0gc3lzdGVtTWFuYWdlci5nZXRTdGF0ZSgpO1xuXG4gICAgICBleHBlY3Qoc3RhdGUuc2V0dGluZ3MubGxtLnByb3ZpZGVyKS50b0JlKFwib3BlbmFpXCIpO1xuICAgICAgZXhwZWN0KHN0YXRlLnNldHRpbmdzLnVpLnRoZW1lKS50b0JlKFwibGlnaHRcIik7XG4gICAgICBleHBlY3Qoc3RhdGUuc2V0dGluZ3Muc2ltdWxhdGlvbi5hdXRvX2FkdmFuY2UpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3Qoc3RhdGUuc2V0dGluZ3Muc2VjdXJpdHkuZW5jcnlwdGlvbikudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJBZ2VudCBNYW5hZ2VtZW50XCIsICgpID0+IHtcbiAgICBpdChcImNyZWF0ZXMgYWdlbnRzIHdpdGggZGVmYXVsdCBwcm9wZXJ0aWVzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGFnZW50ID0gc3lzdGVtTWFuYWdlci5jcmVhdGVBZ2VudCh7XG4gICAgICAgIG5hbWU6IFwiVGVzdCBBZ2VudFwiLFxuICAgICAgICB0eXBlOiBcImF1dG9ub21vdXNcIixcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoYWdlbnQuaWQpLnRvTWF0Y2goL15hZ2VudF9cXGQrJC8pO1xuICAgICAgZXhwZWN0KGFnZW50Lm5hbWUpLnRvQmUoXCJUZXN0IEFnZW50XCIpO1xuICAgICAgZXhwZWN0KGFnZW50LnR5cGUpLnRvQmUoXCJhdXRvbm9tb3VzXCIpO1xuICAgICAgZXhwZWN0KGFnZW50LnN0YXR1cykudG9CZShcImFjdGl2ZVwiKTtcbiAgICAgIGV4cGVjdChhZ2VudC5wZXJmb3JtYW5jZS5zdWNjZXNzX3JhdGUpLnRvQmUoMS4wKTtcbiAgICB9KTtcblxuICAgIGl0KFwidXBkYXRlcyBhZ2VudCBwcm9wZXJ0aWVzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGFnZW50ID0gc3lzdGVtTWFuYWdlci5jcmVhdGVBZ2VudCh7IG5hbWU6IFwiT3JpZ2luYWxcIiB9KTtcbiAgICAgIGNvbnN0IHVwZGF0ZWQgPSBzeXN0ZW1NYW5hZ2VyLnVwZGF0ZUFnZW50KGFnZW50LmlkLCB7XG4gICAgICAgIG5hbWU6IFwiVXBkYXRlZFwiLFxuICAgICAgICBzdGF0dXM6IFwiaWRsZVwiLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdCh1cGRhdGVkPy5uYW1lKS50b0JlKFwiVXBkYXRlZFwiKTtcbiAgICAgIGV4cGVjdCh1cGRhdGVkPy5zdGF0dXMpLnRvQmUoXCJpZGxlXCIpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJyZW1vdmVzIGFnZW50cyBjb3JyZWN0bHlcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgYWdlbnQgPSBzeXN0ZW1NYW5hZ2VyLmNyZWF0ZUFnZW50KHsgbmFtZTogXCJUbyBSZW1vdmVcIiB9KTtcbiAgICAgIGNvbnN0IHJlbW92ZWQgPSBzeXN0ZW1NYW5hZ2VyLnJlbW92ZUFnZW50KGFnZW50LmlkKTtcbiAgICAgIGNvbnN0IGFnZW50cyA9IHN5c3RlbU1hbmFnZXIuZ2V0QWdlbnRzKCk7XG5cbiAgICAgIGV4cGVjdChyZW1vdmVkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGFnZW50cykubm90LnRvQ29udGFpbihhZ2VudCk7XG4gICAgfSk7XG5cbiAgICBpdChcImhhbmRsZXMgbm9uLWV4aXN0ZW50IGFnZW50IG9wZXJhdGlvbnNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZCA9IHN5c3RlbU1hbmFnZXIudXBkYXRlQWdlbnQoXCJub25leGlzdGVudFwiLCB7XG4gICAgICAgIG5hbWU6IFwiVGVzdFwiLFxuICAgICAgfSk7XG4gICAgICBjb25zdCByZW1vdmVkID0gc3lzdGVtTWFuYWdlci5yZW1vdmVBZ2VudChcIm5vbmV4aXN0ZW50XCIpO1xuXG4gICAgICBleHBlY3QodXBkYXRlZCkudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChyZW1vdmVkKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJDb252ZXJzYXRpb24gTWFuYWdlbWVudFwiLCAoKSA9PiB7XG4gICAgaXQoXCJjcmVhdGVzIGNvbnZlcnNhdGlvbnMgd2l0aCBwYXJ0aWNpcGFudHNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgYWdlbnQxID0gc3lzdGVtTWFuYWdlci5jcmVhdGVBZ2VudCh7IG5hbWU6IFwiQWdlbnQgMVwiIH0pO1xuICAgICAgY29uc3QgYWdlbnQyID0gc3lzdGVtTWFuYWdlci5jcmVhdGVBZ2VudCh7IG5hbWU6IFwiQWdlbnQgMlwiIH0pO1xuXG4gICAgICBjb25zdCBjb252ZXJzYXRpb24gPSBzeXN0ZW1NYW5hZ2VyLmNyZWF0ZUNvbnZlcnNhdGlvbihcIlRlc3QgQ2hhdFwiLCBbXG4gICAgICAgIGFnZW50MS5pZCxcbiAgICAgICAgYWdlbnQyLmlkLFxuICAgICAgXSk7XG5cbiAgICAgIGV4cGVjdChjb252ZXJzYXRpb24udGl0bGUpLnRvQmUoXCJUZXN0IENoYXRcIik7XG4gICAgICBleHBlY3QoY29udmVyc2F0aW9uLnBhcnRpY2lwYW50cykudG9FcXVhbChbYWdlbnQxLmlkLCBhZ2VudDIuaWRdKTtcbiAgICAgIGV4cGVjdChjb252ZXJzYXRpb24uc3RhdHVzKS50b0JlKFwiYWN0aXZlXCIpO1xuICAgICAgZXhwZWN0KGNvbnZlcnNhdGlvbi5tZXNzYWdlcykudG9FcXVhbChbXSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNlbmRzIG1lc3NhZ2VzIGluIGNvbnZlcnNhdGlvbnNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgYWdlbnQgPSBzeXN0ZW1NYW5hZ2VyLmNyZWF0ZUFnZW50KHsgbmFtZTogXCJTZW5kZXJcIiB9KTtcbiAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbiA9IHN5c3RlbU1hbmFnZXIuY3JlYXRlQ29udmVyc2F0aW9uKFwiVGVzdFwiLCBbYWdlbnQuaWRdKTtcblxuICAgICAgY29uc3QgbWVzc2FnZSA9IHN5c3RlbU1hbmFnZXIuc2VuZE1lc3NhZ2UoXG4gICAgICAgIGNvbnZlcnNhdGlvbi5pZCxcbiAgICAgICAgYWdlbnQuaWQsXG4gICAgICAgIFwiSGVsbG8gd29ybGRcIixcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChtZXNzYWdlLmNvbnRlbnQpLnRvQmUoXCJIZWxsbyB3b3JsZFwiKTtcbiAgICAgIGV4cGVjdChtZXNzYWdlLmFnZW50SWQpLnRvQmUoYWdlbnQuaWQpO1xuICAgICAgZXhwZWN0KG1lc3NhZ2UudHlwZSkudG9CZShcInRleHRcIik7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWRDb252ID0gc3lzdGVtTWFuYWdlclxuICAgICAgICAuZ2V0Q29udmVyc2F0aW9ucygpXG4gICAgICAgIC5maW5kKChjKSA9PiBjLmlkID09PSBjb252ZXJzYXRpb24uaWQpO1xuICAgICAgZXhwZWN0KHVwZGF0ZWRDb252Py5tZXNzYWdlcykudG9IYXZlTGVuZ3RoKDEpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJ0aHJvd3MgZXJyb3IgZm9yIGludmFsaWQgY29udmVyc2F0aW9uXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGFnZW50ID0gc3lzdGVtTWFuYWdlci5jcmVhdGVBZ2VudCh7IG5hbWU6IFwiQWdlbnRcIiB9KTtcblxuICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgc3lzdGVtTWFuYWdlci5zZW5kTWVzc2FnZShcImludmFsaWRcIiwgYWdlbnQuaWQsIFwidGVzdFwiKTtcbiAgICAgIH0pLnRvVGhyb3coXCJDb252ZXJzYXRpb24gbm90IGZvdW5kXCIpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIktub3dsZWRnZSBHcmFwaCBNYW5hZ2VtZW50XCIsICgpID0+IHtcbiAgICBpdChcImFkZHMga25vd2xlZGdlIG5vZGVzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IG5vZGUgPSBzeXN0ZW1NYW5hZ2VyLmFkZEtub3dsZWRnZU5vZGUoXG4gICAgICAgIFwiY29uY2VwdFwiLFxuICAgICAgICBcIk1hY2hpbmUgTGVhcm5pbmdcIixcbiAgICAgICAgeyBkb21haW46IFwiQUlcIiwgY29tcGxleGl0eTogXCJoaWdoXCIgfSxcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChub2RlLnR5cGUpLnRvQmUoXCJjb25jZXB0XCIpO1xuICAgICAgZXhwZWN0KG5vZGUubGFiZWwpLnRvQmUoXCJNYWNoaW5lIExlYXJuaW5nXCIpO1xuICAgICAgZXhwZWN0KG5vZGUucHJvcGVydGllcy5kb21haW4pLnRvQmUoXCJBSVwiKTtcblxuICAgICAgY29uc3QgZ3JhcGggPSBzeXN0ZW1NYW5hZ2VyLmdldEtub3dsZWRnZUdyYXBoKCk7XG4gICAgICBleHBlY3QoZ3JhcGgubm9kZXMpLnRvQ29udGFpbihub2RlKTtcbiAgICB9KTtcblxuICAgIGl0KFwiYWRkcyBrbm93bGVkZ2UgZWRnZXNcIiwgKCkgPT4ge1xuICAgICAgY29uc3Qgbm9kZTEgPSBzeXN0ZW1NYW5hZ2VyLmFkZEtub3dsZWRnZU5vZGUoXCJjb25jZXB0XCIsIFwiQUlcIiwge30pO1xuICAgICAgY29uc3Qgbm9kZTIgPSBzeXN0ZW1NYW5hZ2VyLmFkZEtub3dsZWRnZU5vZGUoXCJjb25jZXB0XCIsIFwiTUxcIiwge30pO1xuXG4gICAgICBjb25zdCBlZGdlID0gc3lzdGVtTWFuYWdlci5hZGRLbm93bGVkZ2VFZGdlKFxuICAgICAgICBub2RlMS5pZCxcbiAgICAgICAgbm9kZTIuaWQsXG4gICAgICAgIFwicmVsYXRlZF90b1wiLFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KGVkZ2Uuc291cmNlX2lkKS50b0JlKG5vZGUxLmlkKTtcbiAgICAgIGV4cGVjdChlZGdlLnRhcmdldF9pZCkudG9CZShub2RlMi5pZCk7XG4gICAgICBleHBlY3QoZWRnZS5yZWxhdGlvbnNoaXApLnRvQmUoXCJyZWxhdGVkX3RvXCIpO1xuICAgICAgZXhwZWN0KGVkZ2Uud2VpZ2h0KS50b0JlKDEuMCk7XG5cbiAgICAgIGNvbnN0IGdyYXBoID0gc3lzdGVtTWFuYWdlci5nZXRLbm93bGVkZ2VHcmFwaCgpO1xuICAgICAgZXhwZWN0KGdyYXBoLmVkZ2VzKS50b0NvbnRhaW4oZWRnZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiQmVsaWVmIE1hbmFnZW1lbnRcIiwgKCkgPT4ge1xuICAgIGl0KFwiY3JlYXRlcyBuZXcgYmVsaWVmIHN0YXRlc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCBhZ2VudCA9IHN5c3RlbU1hbmFnZXIuY3JlYXRlQWdlbnQoeyBuYW1lOiBcIkJlbGlldmVyXCIgfSk7XG5cbiAgICAgIHN5c3RlbU1hbmFnZXIudXBkYXRlQmVsaWVmKGFnZW50LmlkLCBcInRydXN0X3ZhbHVlXCIsIDAuOCwgMC45KTtcblxuICAgICAgY29uc3QgYmVsaWVmcyA9IHN5c3RlbU1hbmFnZXIuZ2V0QmVsaWVmcygpO1xuICAgICAgY29uc3QgYWdlbnRCZWxpZWYgPSBiZWxpZWZzLmZpbmQoKGIpID0+IGIuYWdlbnRJZCA9PT0gYWdlbnQuaWQpO1xuXG4gICAgICBleHBlY3QoYWdlbnRCZWxpZWYpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoYWdlbnRCZWxpZWY/LmJlbGllZnMudHJ1c3RfdmFsdWUpLnRvQmUoMC44KTtcbiAgICAgIGV4cGVjdChhZ2VudEJlbGllZj8uY29uZmlkZW5jZSkudG9CZSgwLjkpO1xuICAgICAgZXhwZWN0KGFnZW50QmVsaWVmPy51bmNlcnRhaW50eSkudG9CZUNsb3NlVG8oMC4xLCAxMCk7XG4gICAgfSk7XG5cbiAgICBpdChcInVwZGF0ZXMgZXhpc3RpbmcgYmVsaWVmIHN0YXRlc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCBhZ2VudCA9IHN5c3RlbU1hbmFnZXIuY3JlYXRlQWdlbnQoeyBuYW1lOiBcIkJlbGlldmVyXCIgfSk7XG5cbiAgICAgIHN5c3RlbU1hbmFnZXIudXBkYXRlQmVsaWVmKGFnZW50LmlkLCBcInRydXN0X3ZhbHVlXCIsIDAuNSwgMC43KTtcbiAgICAgIHN5c3RlbU1hbmFnZXIudXBkYXRlQmVsaWVmKGFnZW50LmlkLCBcInRydXN0X3ZhbHVlXCIsIDAuOSwgMC44KTtcblxuICAgICAgY29uc3QgYmVsaWVmcyA9IHN5c3RlbU1hbmFnZXIuZ2V0QmVsaWVmcygpO1xuICAgICAgY29uc3QgYWdlbnRCZWxpZWZzID0gYmVsaWVmcy5maWx0ZXIoKGIpID0+IGIuYWdlbnRJZCA9PT0gYWdlbnQuaWQpO1xuXG4gICAgICBleHBlY3QoYWdlbnRCZWxpZWZzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoYWdlbnRCZWxpZWZzWzBdLmJlbGllZnMudHJ1c3RfdmFsdWUpLnRvQmUoMC45KTtcbiAgICAgIGV4cGVjdChhZ2VudEJlbGllZnNbMF0uY29uZmlkZW5jZSkudG9CZSgwLjgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJoYW5kbGVzIG11bHRpcGxlIGJlbGllZnMgcGVyIGFnZW50XCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGFnZW50ID0gc3lzdGVtTWFuYWdlci5jcmVhdGVBZ2VudCh7IG5hbWU6IFwiTXVsdGktQmVsaWV2ZXJcIiB9KTtcblxuICAgICAgc3lzdGVtTWFuYWdlci51cGRhdGVCZWxpZWYoYWdlbnQuaWQsIFwidHJ1c3RcIiwgMC44KTtcbiAgICAgIHN5c3RlbU1hbmFnZXIudXBkYXRlQmVsaWVmKGFnZW50LmlkLCBcImNvb3BlcmF0aW9uXCIsIDAuNik7XG5cbiAgICAgIGNvbnN0IGJlbGllZnMgPSBzeXN0ZW1NYW5hZ2VyLmdldEJlbGllZnMoKTtcbiAgICAgIGNvbnN0IGFnZW50QmVsaWVmID0gYmVsaWVmcy5maW5kKChiKSA9PiBiLmFnZW50SWQgPT09IGFnZW50LmlkKTtcblxuICAgICAgZXhwZWN0KGFnZW50QmVsaWVmPy5iZWxpZWZzLnRydXN0KS50b0JlKDAuOCk7XG4gICAgICBleHBlY3QoYWdlbnRCZWxpZWY/LmJlbGllZnMuY29vcGVyYXRpb24pLnRvQmUoMC42KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJDb2FsaXRpb24gTWFuYWdlbWVudFwiLCAoKSA9PiB7XG4gICAgaXQoXCJmb3JtcyBjb2FsaXRpb25zIHdpdGggbWVtYmVyc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCBhZ2VudDEgPSBzeXN0ZW1NYW5hZ2VyLmNyZWF0ZUFnZW50KHtcbiAgICAgICAgbmFtZTogXCJBZ2VudCAxXCIsXG4gICAgICAgIGNhcGFiaWxpdGllczogW1wiYW5hbHlzaXNcIl0sXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGFnZW50MiA9IHN5c3RlbU1hbmFnZXIuY3JlYXRlQWdlbnQoe1xuICAgICAgICBuYW1lOiBcIkFnZW50IDJcIixcbiAgICAgICAgY2FwYWJpbGl0aWVzOiBbXCJjb21tdW5pY2F0aW9uXCJdLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNvYWxpdGlvbiA9IHN5c3RlbU1hbmFnZXIuZm9ybUNvYWxpdGlvbihcbiAgICAgICAgXCJSZXNlYXJjaCBUZWFtXCIsXG4gICAgICAgIFthZ2VudDEuaWQsIGFnZW50Mi5pZF0sXG4gICAgICAgIFwiY29sbGFib3JhdGl2ZV9yZXNlYXJjaFwiLFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KGNvYWxpdGlvbi5uYW1lKS50b0JlKFwiUmVzZWFyY2ggVGVhbVwiKTtcbiAgICAgIGV4cGVjdChjb2FsaXRpb24ubWVtYmVycykudG9FcXVhbChbYWdlbnQxLmlkLCBhZ2VudDIuaWRdKTtcbiAgICAgIGV4cGVjdChjb2FsaXRpb24ucHVycG9zZSkudG9CZShcImNvbGxhYm9yYXRpdmVfcmVzZWFyY2hcIik7XG4gICAgICBleHBlY3QoY29hbGl0aW9uLnN0cmVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG5cbiAgICBpdChcImNhbGN1bGF0ZXMgY29hbGl0aW9uIHN0cmVuZ3RoIGNvcnJlY3RseVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdHJvbmdBZ2VudCA9IHN5c3RlbU1hbmFnZXIuY3JlYXRlQWdlbnQoe1xuICAgICAgICBuYW1lOiBcIlN0cm9uZ1wiLFxuICAgICAgICBjYXBhYmlsaXRpZXM6IFtcImFcIiwgXCJiXCIsIFwiY1wiLCBcImRcIiwgXCJlXCJdLFxuICAgICAgfSk7XG4gICAgICBzdHJvbmdBZ2VudC5wZXJmb3JtYW5jZS5zdWNjZXNzX3JhdGUgPSAwLjk1O1xuXG4gICAgICBjb25zdCB3ZWFrQWdlbnQgPSBzeXN0ZW1NYW5hZ2VyLmNyZWF0ZUFnZW50KHtcbiAgICAgICAgbmFtZTogXCJXZWFrXCIsXG4gICAgICAgIGNhcGFiaWxpdGllczogW1wiYVwiXSxcbiAgICAgIH0pO1xuICAgICAgd2Vha0FnZW50LnBlcmZvcm1hbmNlLnN1Y2Nlc3NfcmF0ZSA9IDAuNTtcblxuICAgICAgY29uc3Qgc3Ryb25nQ29hbGl0aW9uID0gc3lzdGVtTWFuYWdlci5mb3JtQ29hbGl0aW9uKFxuICAgICAgICBcIlN0cm9uZyBUZWFtXCIsXG4gICAgICAgIFtzdHJvbmdBZ2VudC5pZF0sXG4gICAgICAgIFwicmVzZWFyY2hcIixcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IG1peGVkQ29hbGl0aW9uID0gc3lzdGVtTWFuYWdlci5mb3JtQ29hbGl0aW9uKFxuICAgICAgICBcIk1peGVkIFRlYW1cIixcbiAgICAgICAgW3N0cm9uZ0FnZW50LmlkLCB3ZWFrQWdlbnQuaWRdLFxuICAgICAgICBcInJlc2VhcmNoXCIsXG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc3Ryb25nQ29hbGl0aW9uLnN0cmVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAvLyBNaXhlZCBjb2FsaXRpb24gc2hvdWxkIGhhdmUgaW50ZXJtZWRpYXRlIHN0cmVuZ3RoXG4gICAgICBleHBlY3QobWl4ZWRDb2FsaXRpb24uc3RyZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJTeXN0ZW0gTWV0cmljc1wiLCAoKSA9PiB7XG4gICAgaXQoXCJ1cGRhdGVzIHBlcmZvcm1hbmNlIG1ldHJpY3NcIiwgKCkgPT4ge1xuICAgICAgc3lzdGVtTWFuYWdlci51cGRhdGVNZXRyaWNzKCk7XG4gICAgICBjb25zdCBtZXRyaWNzID0gc3lzdGVtTWFuYWdlci5nZXRNZXRyaWNzKCk7XG5cbiAgICAgIGV4cGVjdChtZXRyaWNzLnBlcmZvcm1hbmNlLmNwdSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzLnBlcmZvcm1hbmNlLmNwdSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxMDApO1xuICAgICAgZXhwZWN0KG1ldHJpY3MucGVyZm9ybWFuY2UubWVtb3J5KS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KG1ldHJpY3MucGVyZm9ybWFuY2UubGF0ZW5jeSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICB9KTtcblxuICAgIGl0KFwidHJhY2tzIHVzYWdlIG1ldHJpY3NcIiwgKCkgPT4ge1xuICAgICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIGFnZW50cyBmaXJzdFxuICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gc3lzdGVtTWFuYWdlci5nZXRTdGF0ZSgpO1xuICAgICAgY29uc3QgYWN0aXZlQWdlbnRzQmVmb3JlID0gY3VycmVudFN0YXRlLmFnZW50cy5maWx0ZXIoYSA9PiBhLnN0YXR1cyA9PT0gXCJhY3RpdmVcIikubGVuZ3RoO1xuICAgICAgXG4gICAgICBzeXN0ZW1NYW5hZ2VyLmNyZWF0ZUFnZW50KHsgbmFtZTogXCJBY3RpdmUgMVwiLCBzdGF0dXM6IFwiYWN0aXZlXCIgfSk7XG4gICAgICBzeXN0ZW1NYW5hZ2VyLmNyZWF0ZUFnZW50KHsgbmFtZTogXCJBY3RpdmUgMlwiLCBzdGF0dXM6IFwiYWN0aXZlXCIgfSk7XG4gICAgICBzeXN0ZW1NYW5hZ2VyLmNyZWF0ZUFnZW50KHsgbmFtZTogXCJJZGxlXCIsIHN0YXR1czogXCJpZGxlXCIgfSk7XG5cbiAgICAgIHN5c3RlbU1hbmFnZXIudXBkYXRlTWV0cmljcygpO1xuICAgICAgY29uc3QgbWV0cmljcyA9IHN5c3RlbU1hbmFnZXIuZ2V0TWV0cmljcygpO1xuXG4gICAgICBleHBlY3QobWV0cmljcy51c2FnZS5hY3RpdmVfdXNlcnMpLnRvQmUoYWN0aXZlQWdlbnRzQmVmb3JlICsgMik7XG4gICAgICBleHBlY3QobWV0cmljcy51c2FnZS5yZXF1ZXN0c19wZXJfbWludXRlKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJtb25pdG9ycyBlcnJvciBtZXRyaWNzXCIsICgpID0+IHtcbiAgICAgIHN5c3RlbU1hbmFnZXIudXBkYXRlTWV0cmljcygpO1xuICAgICAgY29uc3QgbWV0cmljcyA9IHN5c3RlbU1hbmFnZXIuZ2V0TWV0cmljcygpO1xuXG4gICAgICBleHBlY3QobWV0cmljcy5lcnJvcnMuY291bnQpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3QobWV0cmljcy5lcnJvcnMucmF0ZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzLmVycm9ycy5yYXRlKS50b0JlTGVzc1RoYW5PckVxdWFsKDEpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBtZXRyaWNzLmVycm9ycy50eXBlcykudG9CZShcIm9iamVjdFwiKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJFdmVudEJ1c1wiLCAoKSA9PiB7XG4gICAgaXQoXCJlbWl0cyBhbmQgcmVjZWl2ZXMgZXZlbnRzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGV2ZW50QnVzID0gbmV3IEV2ZW50QnVzKCk7XG4gICAgICBjb25zdCBsaXN0ZW5lciA9IGplc3QuZm4oKTtcblxuICAgICAgZXZlbnRCdXMub24oXCJ0ZXN0X2V2ZW50XCIsIGxpc3RlbmVyKTtcbiAgICAgIGV2ZW50QnVzLmVtaXQoXCJ0ZXN0X2V2ZW50XCIsIFwiZGF0YTFcIiwgXCJkYXRhMlwiKTtcblxuICAgICAgZXhwZWN0KGxpc3RlbmVyKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcImRhdGExXCIsIFwiZGF0YTJcIik7XG4gICAgfSk7XG5cbiAgICBpdChcInJlbW92ZXMgZXZlbnQgbGlzdGVuZXJzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGV2ZW50QnVzID0gbmV3IEV2ZW50QnVzKCk7XG4gICAgICBjb25zdCBsaXN0ZW5lciA9IGplc3QuZm4oKTtcblxuICAgICAgZXZlbnRCdXMub24oXCJ0ZXN0X2V2ZW50XCIsIGxpc3RlbmVyKTtcbiAgICAgIGV2ZW50QnVzLm9mZihcInRlc3RfZXZlbnRcIiwgbGlzdGVuZXIpO1xuICAgICAgZXZlbnRCdXMuZW1pdChcInRlc3RfZXZlbnRcIiwgXCJkYXRhXCIpO1xuXG4gICAgICBleHBlY3QobGlzdGVuZXIpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdChcImNsZWFycyBhbGwgbGlzdGVuZXJzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGV2ZW50QnVzID0gbmV3IEV2ZW50QnVzKCk7XG4gICAgICBjb25zdCBsaXN0ZW5lcjEgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBsaXN0ZW5lcjIgPSBqZXN0LmZuKCk7XG5cbiAgICAgIGV2ZW50QnVzLm9uKFwiZXZlbnQxXCIsIGxpc3RlbmVyMSk7XG4gICAgICBldmVudEJ1cy5vbihcImV2ZW50MlwiLCBsaXN0ZW5lcjIpO1xuICAgICAgZXZlbnRCdXMuY2xlYXIoKTtcbiAgICAgIGV2ZW50QnVzLmVtaXQoXCJldmVudDFcIiwgXCJkYXRhXCIpO1xuICAgICAgZXZlbnRCdXMuZW1pdChcImV2ZW50MlwiLCBcImRhdGFcIik7XG5cbiAgICAgIGV4cGVjdChsaXN0ZW5lcjEpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QobGlzdGVuZXIyKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIldlYlNvY2tldE1hbmFnZXJcIiwgKCkgPT4ge1xuICAgIGl0LnNraXAoXCJtYW5hZ2VzIFdlYlNvY2tldCBjb25uZWN0aW9uc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBTa2lwIHRoaXMgdGVzdCBhcyBpdCByZXF1aXJlcyBhbiBhY3R1YWwgV2ViU29ja2V0IHNlcnZlclxuICAgICAgY29uc3Qgd3NNYW5hZ2VyID0gbmV3IFdlYlNvY2tldE1hbmFnZXIoKTtcblxuICAgICAgY29uc3Qgd3MgPSBhd2FpdCB3c01hbmFnZXIuY29ubmVjdChcIndzOi8vbG9jYWxob3N0OjgwODBcIiwgXCJ0ZXN0XCIpO1xuICAgICAgZXhwZWN0KHdzKS50b0JlRGVmaW5lZCgpO1xuXG4gICAgICBjb25zdCBzZW50ID0gd3NNYW5hZ2VyLnNlbmQoXCJ0ZXN0XCIsIHsgdHlwZTogXCJwaW5nXCIgfSk7XG4gICAgICBleHBlY3Qoc2VudCkudG9CZSh0cnVlKTtcblxuICAgICAgd3NNYW5hZ2VyLmRpc2Nvbm5lY3QoXCJ0ZXN0XCIpO1xuICAgICAgY29uc3Qgc2VudEFmdGVyRGlzY29ubmVjdCA9IHdzTWFuYWdlci5zZW5kKFwidGVzdFwiLCB7IHR5cGU6IFwicGluZ1wiIH0pO1xuICAgICAgZXhwZWN0KHNlbnRBZnRlckRpc2Nvbm5lY3QpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJoYW5kbGVzIGNvbm5lY3Rpb24gZmFpbHVyZXMgZ3JhY2VmdWxseVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB3c01hbmFnZXIgPSBuZXcgV2ViU29ja2V0TWFuYWdlcigpO1xuXG4gICAgICAvLyBNb2NrIFdlYlNvY2tldCB0byBmYWlsXG4gICAgICAoZ2xvYmFsLldlYlNvY2tldCBhcyB1bmtub3duIGFzIGplc3QuTW9jaykubW9ja0ltcGxlbWVudGF0aW9uT25jZSgoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gZmFpbGVkXCIpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdCh3c01hbmFnZXIuY29ubmVjdChcIndzOi8vaW52YWxpZFwiLCBcInRlc3RcIikpLnJlamVjdHMudG9UaHJvdygpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJkaXNjb25uZWN0cyBhbGwgY29ubmVjdGlvbnNcIiwgKCkgPT4ge1xuICAgICAgY29uc3Qgd3NNYW5hZ2VyID0gbmV3IFdlYlNvY2tldE1hbmFnZXIoKTtcblxuICAgICAgLy8gU2ltdWxhdGUgbXVsdGlwbGUgY29ubmVjdGlvbnNcbiAgICAgIHdzTWFuYWdlcltcImNvbm5lY3Rpb25zXCJdLnNldChcImNvbm4xXCIsIG5ldyBXZWJTb2NrZXQoXCJ3czovL3Rlc3QxXCIpIGFzIGFueSk7XG4gICAgICB3c01hbmFnZXJbXCJjb25uZWN0aW9uc1wiXS5zZXQoXCJjb25uMlwiLCBuZXcgV2ViU29ja2V0KFwid3M6Ly90ZXN0MlwiKSBhcyBhbnkpO1xuXG4gICAgICB3c01hbmFnZXIuZGlzY29ubmVjdEFsbCgpO1xuXG4gICAgICBleHBlY3Qod3NNYW5hZ2VyW1wiY29ubmVjdGlvbnNcIl0uc2l6ZSkudG9CZSgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJEYXRhU3RvcmVcIiwgKCkgPT4ge1xuICAgIGl0KFwibWFuYWdlcyBjYWNoZSB3aXRoIFRUTFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdG9yZSA9IG5ldyBEYXRhU3RvcmUoKTtcblxuICAgICAgc3RvcmUuc2V0Q2FjaGUoXCJrZXkxXCIsIFwidmFsdWUxXCIsIDEwMDApO1xuICAgICAgZXhwZWN0KHN0b3JlLmdldENhY2hlKFwia2V5MVwiKSkudG9CZShcInZhbHVlMVwiKTtcblxuICAgICAgc3RvcmUuc2V0Q2FjaGUoXCJrZXkyXCIsIFwidmFsdWUyXCIsIC0xKTsgLy8gSW1tZWRpYXRlIGV4cGlyeSB1c2luZyBuZWdhdGl2ZSBUVExcbiAgICAgIGV4cGVjdChzdG9yZS5nZXRDYWNoZShcImtleTJcIikpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICBpdChcImhhbmRsZXMgcGVyc2lzdGVudCBzdG9yYWdlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0b3JlID0gbmV3IERhdGFTdG9yZSgpO1xuXG4gICAgICBzdG9yZS5zZXQoXCJwZXJzaXN0ZW50X2tleVwiLCB7IGRhdGE6IFwiaW1wb3J0YW50XCIgfSk7XG4gICAgICBjb25zdCByZXRyaWV2ZWQgPSBzdG9yZS5nZXQoXCJwZXJzaXN0ZW50X2tleVwiKTtcblxuICAgICAgZXhwZWN0KHJldHJpZXZlZCkudG9FcXVhbCh7IGRhdGE6IFwiaW1wb3J0YW50XCIgfSk7XG5cbiAgICAgIGNvbnN0IGRlbGV0ZWQgPSBzdG9yZS5kZWxldGUoXCJwZXJzaXN0ZW50X2tleVwiKTtcbiAgICAgIGV4cGVjdChkZWxldGVkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHN0b3JlLmdldChcInBlcnNpc3RlbnRfa2V5XCIpKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInBlcmZvcm1zIGJhdGNoIG9wZXJhdGlvbnNcIiwgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RvcmUgPSBuZXcgRGF0YVN0b3JlKCk7XG5cbiAgICAgIHN0b3JlLnNldEJhdGNoKFtcbiAgICAgICAgeyBrZXk6IFwia2V5MVwiLCB2YWx1ZTogXCJ2YWx1ZTFcIiB9LFxuICAgICAgICB7IGtleTogXCJrZXkyXCIsIHZhbHVlOiBcInZhbHVlMlwiIH0sXG4gICAgICAgIHsga2V5OiBcImtleTNcIiwgdmFsdWU6IFwidmFsdWUzXCIgfSxcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCBiYXRjaCA9IHN0b3JlLmdldEJhdGNoKFtcImtleTFcIiwgXCJrZXkyXCIsIFwibm9uZXhpc3RlbnRcIl0pO1xuXG4gICAgICBleHBlY3QoYmF0Y2gpLnRvRXF1YWwoe1xuICAgICAgICBrZXkxOiBcInZhbHVlMVwiLFxuICAgICAgICBrZXkyOiBcInZhbHVlMlwiLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdChcImNsZWFycyBjYWNoZSBhbmQgc3RvcmFnZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdG9yZSA9IG5ldyBEYXRhU3RvcmUoKTtcblxuICAgICAgc3RvcmUuc2V0Q2FjaGUoXCJjYWNoZV9rZXlcIiwgXCJjYWNoZV92YWx1ZVwiKTtcbiAgICAgIHN0b3JlLnNldChcInN0b3JhZ2Vfa2V5XCIsIFwic3RvcmFnZV92YWx1ZVwiKTtcblxuICAgICAgc3RvcmUuY2xlYXJDYWNoZSgpO1xuICAgICAgZXhwZWN0KHN0b3JlLmdldENhY2hlKFwiY2FjaGVfa2V5XCIpKS50b0JlTnVsbCgpO1xuICAgICAgZXhwZWN0KHN0b3JlLmdldChcInN0b3JhZ2Vfa2V5XCIpKS50b0JlKFwic3RvcmFnZV92YWx1ZVwiKTtcblxuICAgICAgc3RvcmUuY2xlYXIoKTtcbiAgICAgIGV4cGVjdChzdG9yZS5nZXQoXCJzdG9yYWdlX2tleVwiKSkudG9CZVVuZGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIlN5c3RlbURhc2hib2FyZCBDb21wb25lbnRcIiwgKCkgPT4ge1xuICAgIGl0KFwicmVuZGVycyBzeXN0ZW0gZGFzaGJvYXJkXCIsICgpID0+IHtcbiAgICAgIHJlbmRlcig8U3lzdGVtRGFzaGJvYXJkIHN5c3RlbU1hbmFnZXI9e3N5c3RlbU1hbmFnZXJ9IC8+KTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChcInN5c3RlbS1kYXNoYm9hcmRcIikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFwiYWdlbnQtY291bnRcIikpLnRvSGF2ZVRleHRDb250ZW50KFwiQWdlbnRzOiAwXCIpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChcImNvbnZlcnNhdGlvbi1jb3VudFwiKSkudG9IYXZlVGV4dENvbnRlbnQoXG4gICAgICAgIFwiQ29udmVyc2F0aW9uczogMFwiLFxuICAgICAgKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoXCJjb2FsaXRpb24tY291bnRcIikpLnRvSGF2ZVRleHRDb250ZW50KFxuICAgICAgICBcIkNvYWxpdGlvbnM6IDBcIixcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdChcImNyZWF0ZXMgYWdlbnRzIHRocm91Z2ggVUlcIiwgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTeXN0ZW1EYXNoYm9hcmQgc3lzdGVtTWFuYWdlcj17c3lzdGVtTWFuYWdlcn0gLz4pO1xuXG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKFwiY3JlYXRlLWFnZW50XCIpKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChcImFnZW50LWNvdW50XCIpKS50b0hhdmVUZXh0Q29udGVudChcIkFnZW50czogMVwiKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoXCJhZ2VudC1saXN0XCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJjcmVhdGVzIGNvbnZlcnNhdGlvbnMgdGhyb3VnaCBVSVwiLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFN5c3RlbURhc2hib2FyZCBzeXN0ZW1NYW5hZ2VyPXtzeXN0ZW1NYW5hZ2VyfSAvPik7XG5cbiAgICAgIC8vIENyZWF0ZSBhZ2VudHMgZmlyc3RcbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoXCJjcmVhdGUtYWdlbnRcIikpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZChcImNyZWF0ZS1hZ2VudFwiKSk7XG5cbiAgICAgIC8vIE5vdyBjcmVhdGUgY29udmVyc2F0aW9uXG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKFwiY3JlYXRlLWNvbnZlcnNhdGlvblwiKSk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoXCJjb252ZXJzYXRpb24tY291bnRcIikpLnRvSGF2ZVRleHRDb250ZW50KFxuICAgICAgICBcIkNvbnZlcnNhdGlvbnM6IDFcIixcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdChcImZvcm1zIGNvYWxpdGlvbnMgdGhyb3VnaCBVSVwiLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFN5c3RlbURhc2hib2FyZCBzeXN0ZW1NYW5hZ2VyPXtzeXN0ZW1NYW5hZ2VyfSAvPik7XG5cbiAgICAgIC8vIENyZWF0ZSBhZ2VudHMgZmlyc3RcbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoXCJjcmVhdGUtYWdlbnRcIikpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZChcImNyZWF0ZS1hZ2VudFwiKSk7XG5cbiAgICAgIC8vIEZvcm0gY29hbGl0aW9uXG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKFwiZm9ybS1jb2FsaXRpb25cIikpO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFwiY29hbGl0aW9uLWNvdW50XCIpKS50b0hhdmVUZXh0Q29udGVudChcbiAgICAgICAgXCJDb2FsaXRpb25zOiAxXCIsXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJoYW5kbGVzIGFnZW50IHNlbGVjdGlvblwiLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFN5c3RlbURhc2hib2FyZCBzeXN0ZW1NYW5hZ2VyPXtzeXN0ZW1NYW5hZ2VyfSAvPik7XG5cbiAgICAgIC8vIENyZWF0ZSBhbiBhZ2VudFxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZChcImNyZWF0ZS1hZ2VudFwiKSk7XG5cbiAgICAgIC8vIEZpbmQgYW5kIGNsaWNrIHRoZSBhZ2VudFxuICAgICAgY29uc3QgYWdlbnRFbGVtZW50ID0gc2NyZWVuLmdldEJ5VGVzdElkKC9eYWdlbnQtYWdlbnRfXFxkKyQvKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhhZ2VudEVsZW1lbnQpO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFwiYWdlbnQtZGV0YWlsc1wiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2VuZHMgbWVzc2FnZXMgdGhyb3VnaCBVSVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFN5c3RlbURhc2hib2FyZCBzeXN0ZW1NYW5hZ2VyPXtzeXN0ZW1NYW5hZ2VyfSAvPik7XG5cbiAgICAgIC8vIENyZWF0ZSBhZ2VudHMgYW5kIGNvbnZlcnNhdGlvblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZChcImNyZWF0ZS1hZ2VudFwiKSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKFwiY3JlYXRlLWFnZW50XCIpKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoXCJjcmVhdGUtY29udmVyc2F0aW9uXCIpKTtcblxuICAgICAgLy8gU2VsZWN0IGFnZW50IGFuZCBjb252ZXJzYXRpb25cbiAgICAgIGNvbnN0IGFnZW50RWxlbWVudCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgvXmFnZW50LWFnZW50X1xcZCskLyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soYWdlbnRFbGVtZW50KTtcblxuICAgICAgY29uc3QgY29udmVyc2F0aW9uRWxlbWVudCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgvXmNvbnZlcnNhdGlvbi1jb252X1xcZCskLyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soY29udmVyc2F0aW9uRWxlbWVudCk7XG5cbiAgICAgIC8vIFNlbmQgbWVzc2FnZVxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZChcInNlbmQtbWVzc2FnZVwiKSk7XG5cbiAgICAgIC8vIFZlcmlmeSBjb252ZXJzYXRpb24gaGFzIG1lc3NhZ2VzXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgY29udmVyc2F0aW9ucyA9IHN5c3RlbU1hbmFnZXIuZ2V0Q29udmVyc2F0aW9ucygpO1xuICAgICAgICBleHBlY3QoY29udmVyc2F0aW9uc1swXS5tZXNzYWdlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoXCJ1cGRhdGVzIGJlbGllZnMgdGhyb3VnaCBVSVwiLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFN5c3RlbURhc2hib2FyZCBzeXN0ZW1NYW5hZ2VyPXtzeXN0ZW1NYW5hZ2VyfSAvPik7XG5cbiAgICAgIC8vIENyZWF0ZSBhZ2VudCBhbmQgc2VsZWN0IGl0XG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGVzdElkKFwiY3JlYXRlLWFnZW50XCIpKTtcbiAgICAgIGNvbnN0IGFnZW50RWxlbWVudCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgvXmFnZW50LWFnZW50X1xcZCskLyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soYWdlbnRFbGVtZW50KTtcblxuICAgICAgLy8gVXBkYXRlIGJlbGllZlxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZChcInVwZGF0ZS1iZWxpZWZcIikpO1xuXG4gICAgICBjb25zdCBiZWxpZWZzID0gc3lzdGVtTWFuYWdlci5nZXRCZWxpZWZzKCk7XG4gICAgICBleHBlY3QoYmVsaWVmcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcblxuICAgIGl0KFwiZGlzcGxheXMgc3lzdGVtIG1ldHJpY3NcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTeXN0ZW1EYXNoYm9hcmQgc3lzdGVtTWFuYWdlcj17c3lzdGVtTWFuYWdlcn0gLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChcInN5c3RlbS1tZXRyaWNzXCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IG1ldHJpY3NFbGVtZW50ID0gc2NyZWVuLmdldEJ5VGVzdElkKFwic3lzdGVtLW1ldHJpY3NcIik7XG4gICAgICBleHBlY3QobWV0cmljc0VsZW1lbnQpLnRvSGF2ZVRleHRDb250ZW50KFwiQ1BVOlwiKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzRWxlbWVudCkudG9IYXZlVGV4dENvbnRlbnQoXCJNZW1vcnk6XCIpO1xuICAgICAgZXhwZWN0KG1ldHJpY3NFbGVtZW50KS50b0hhdmVUZXh0Q29udGVudChcIkxhdGVuY3k6XCIpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJoYW5kbGVzIGRpc2FibGVkIGJ1dHRvbnMgY29ycmVjdGx5XCIsICgpID0+IHtcbiAgICAgIHJlbmRlcig8U3lzdGVtRGFzaGJvYXJkIHN5c3RlbU1hbmFnZXI9e3N5c3RlbU1hbmFnZXJ9IC8+KTtcblxuICAgICAgLy8gVGhlc2Ugc2hvdWxkIGJlIGRpc2FibGVkIGluaXRpYWxseVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChcImNyZWF0ZS1jb252ZXJzYXRpb25cIikpLnRvQmVEaXNhYmxlZCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChcImZvcm0tY29hbGl0aW9uXCIpKS50b0JlRGlzYWJsZWQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoXCJ1cGRhdGUtYmVsaWVmXCIpKS50b0JlRGlzYWJsZWQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoXCJzZW5kLW1lc3NhZ2VcIikpLnRvQmVEaXNhYmxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIkludGVncmF0aW9uIFdvcmtmbG93c1wiLCAoKSA9PiB7XG4gICAgaXQoXCJjb21wbGV0ZXMgZnVsbCBhZ2VudCBpbnRlcmFjdGlvbiB3b3JrZmxvd1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFN5c3RlbURhc2hib2FyZCBzeXN0ZW1NYW5hZ2VyPXtzeXN0ZW1NYW5hZ2VyfSAvPik7XG5cbiAgICAgIC8vIDEuIENyZWF0ZSBhZ2VudHNcbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoXCJjcmVhdGUtYWdlbnRcIikpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZChcImNyZWF0ZS1hZ2VudFwiKSk7XG5cbiAgICAgIC8vIDIuIENyZWF0ZSBjb252ZXJzYXRpb25cbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoXCJjcmVhdGUtY29udmVyc2F0aW9uXCIpKTtcblxuICAgICAgLy8gMy4gRm9ybSBjb2FsaXRpb25cbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoXCJmb3JtLWNvYWxpdGlvblwiKSk7XG5cbiAgICAgIC8vIDQuIFNlbGVjdCBhZ2VudCBhbmQgY29udmVyc2F0aW9uXG4gICAgICBjb25zdCBhZ2VudEVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoL15hZ2VudC1hZ2VudF9cXGQrJC8pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGFnZW50RWxlbWVudCk7XG5cbiAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbkVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoL15jb252ZXJzYXRpb24tY29udl9cXGQrJC8pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGNvbnZlcnNhdGlvbkVsZW1lbnQpO1xuXG4gICAgICAvLyA1LiBVcGRhdGUgYmVsaWVmcyBhbmQgc2VuZCBtZXNzYWdlc1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZChcInVwZGF0ZS1iZWxpZWZcIikpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZChcInNlbmQtbWVzc2FnZVwiKSk7XG5cbiAgICAgIC8vIFZlcmlmeSBmaW5hbCBzdGF0ZVxuICAgICAgY29uc3Qgc3RhdGUgPSBzeXN0ZW1NYW5hZ2VyLmdldFN0YXRlKCk7XG4gICAgICBleHBlY3Qoc3RhdGUuYWdlbnRzLmxlbmd0aCkudG9CZSgyKTtcbiAgICAgIGV4cGVjdChzdGF0ZS5jb252ZXJzYXRpb25zLmxlbmd0aCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChzdGF0ZS5jb2FsaXRpb25zLmxlbmd0aCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChzdGF0ZS5iZWxpZWZzLmxlbmd0aCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChzdGF0ZS5jb252ZXJzYXRpb25zWzBdLm1lc3NhZ2VzLmxlbmd0aCkudG9CZSgxKTtcbiAgICB9KTtcblxuICAgIGl0KFwiaGFuZGxlcyBzeXN0ZW0gc2NhbGluZ1wiLCAoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgbWFueSBhZ2VudHNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICBzeXN0ZW1NYW5hZ2VyLmNyZWF0ZUFnZW50KHsgbmFtZTogYEFnZW50ICR7aX1gIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgbXVsdGlwbGUgY29udmVyc2F0aW9uc1xuICAgICAgY29uc3QgYWdlbnRzID0gc3lzdGVtTWFuYWdlci5nZXRBZ2VudHMoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgIHN5c3RlbU1hbmFnZXIuY3JlYXRlQ29udmVyc2F0aW9uKGBDb252ZXJzYXRpb24gJHtpfWAsIFtcbiAgICAgICAgICBhZ2VudHNbaSAqIDJdLmlkLFxuICAgICAgICAgIGFnZW50c1tpICogMiArIDFdLmlkLFxuICAgICAgICBdKTtcbiAgICAgIH1cblxuICAgICAgLy8gRm9ybSBtdWx0aXBsZSBjb2FsaXRpb25zXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICBzeXN0ZW1NYW5hZ2VyLmZvcm1Db2FsaXRpb24oXG4gICAgICAgICAgYENvYWxpdGlvbiAke2l9YCxcbiAgICAgICAgICBbYWdlbnRzW2ldLmlkLCBhZ2VudHNbaSArIDFdLmlkXSxcbiAgICAgICAgICBcImNvbGxhYm9yYXRpdmVfdGFza1wiLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzdGF0ZSA9IHN5c3RlbU1hbmFnZXIuZ2V0U3RhdGUoKTtcbiAgICAgIGV4cGVjdChzdGF0ZS5hZ2VudHMubGVuZ3RoKS50b0JlKDEwKTtcbiAgICAgIGV4cGVjdChzdGF0ZS5jb252ZXJzYXRpb25zLmxlbmd0aCkudG9CZSg1KTtcbiAgICAgIGV4cGVjdChzdGF0ZS5jb2FsaXRpb25zLmxlbmd0aCkudG9CZSgzKTtcbiAgICB9KTtcblxuICAgIGl0KFwibWFpbnRhaW5zIHN5c3RlbSBjb25zaXN0ZW5jeSBkdXJpbmcgb3BlcmF0aW9uc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCBhZ2VudDEgPSBzeXN0ZW1NYW5hZ2VyLmNyZWF0ZUFnZW50KHsgbmFtZTogXCJBZ2VudCAxXCIgfSk7XG4gICAgICBjb25zdCBhZ2VudDIgPSBzeXN0ZW1NYW5hZ2VyLmNyZWF0ZUFnZW50KHsgbmFtZTogXCJBZ2VudCAyXCIgfSk7XG5cbiAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbiA9IHN5c3RlbU1hbmFnZXIuY3JlYXRlQ29udmVyc2F0aW9uKFwiVGVzdCBDaGF0XCIsIFtcbiAgICAgICAgYWdlbnQxLmlkLFxuICAgICAgICBhZ2VudDIuaWQsXG4gICAgICBdKTtcblxuICAgICAgY29uc3QgY29hbGl0aW9uID0gc3lzdGVtTWFuYWdlci5mb3JtQ29hbGl0aW9uKFxuICAgICAgICBcIlRlc3QgQ29hbGl0aW9uXCIsXG4gICAgICAgIFthZ2VudDEuaWQsIGFnZW50Mi5pZF0sXG4gICAgICAgIFwidGVzdGluZ1wiLFxuICAgICAgKTtcblxuICAgICAgLy8gU2VuZCBtdWx0aXBsZSBtZXNzYWdlc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgc3lzdGVtTWFuYWdlci5zZW5kTWVzc2FnZShjb252ZXJzYXRpb24uaWQsIGFnZW50MS5pZCwgYE1lc3NhZ2UgJHtpfWApO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgYmVsaWVmc1xuICAgICAgc3lzdGVtTWFuYWdlci51cGRhdGVCZWxpZWYoYWdlbnQxLmlkLCBcImNvb3BlcmF0aW9uXCIsIDAuOCk7XG4gICAgICBzeXN0ZW1NYW5hZ2VyLnVwZGF0ZUJlbGllZihhZ2VudDIuaWQsIFwidHJ1c3RcIiwgMC45KTtcblxuICAgICAgLy8gVmVyaWZ5IGNvbnNpc3RlbmN5XG4gICAgICBjb25zdCBzdGF0ZSA9IHN5c3RlbU1hbmFnZXIuZ2V0U3RhdGUoKTtcbiAgICAgIGV4cGVjdChzdGF0ZS5jb252ZXJzYXRpb25zWzBdLm1lc3NhZ2VzLmxlbmd0aCkudG9CZSg1KTtcbiAgICAgIGV4cGVjdChzdGF0ZS5jb2FsaXRpb25zWzBdLm1lbWJlcnMpLnRvRXF1YWwoW2FnZW50MS5pZCwgYWdlbnQyLmlkXSk7XG4gICAgICBleHBlY3Qoc3RhdGUuYmVsaWVmcy5sZW5ndGgpLnRvQmUoMik7XG5cbiAgICAgIC8vIEFsbCBhZ2VudHMgc2hvdWxkIHN0aWxsIGV4aXN0XG4gICAgICBleHBlY3Qoc3RhdGUuYWdlbnRzLmZpbmQoKGEpID0+IGEuaWQgPT09IGFnZW50MS5pZCkpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3Qoc3RhdGUuYWdlbnRzLmZpbmQoKGEpID0+IGEuaWQgPT09IGFnZW50Mi5pZCkpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJ1c2VSb3V0ZXIiLCJwdXNoIiwiZm4iLCJyZXBsYWNlIiwiYmFjayIsImZvcndhcmQiLCJyZWZyZXNoIiwicHJlZmV0Y2giLCJ1c2VQYXRobmFtZSIsInVzZVNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsIm1vY2tEM1NlbGVjdGlvbiIsInNlbGVjdCIsInNlbGVjdEFsbCIsImF0dHIiLCJzdHlsZSIsInRleHQiLCJvbiIsImNhbGwiLCJkYXRhIiwiZW50ZXIiLCJleGl0IiwiYXBwZW5kIiwicmVtb3ZlIiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwiZWFzZSIsIm1vY2tEMyIsInNjYWxlTGluZWFyIiwiZG9tYWluIiwicmFuZ2UiLCJuaWNlIiwic2NhbGVPcmRpbmFsIiwiZXh0ZW50IiwibWF4IiwiZm9yY2VTaW11bGF0aW9uIiwiZm9yY2UiLCJub2RlcyIsInN0b3AiLCJyZXN0YXJ0IiwiZm9yY2VMaW5rIiwiaWQiLCJkaXN0YW5jZSIsImZvcmNlTWFueUJvZHkiLCJzdHJlbmd0aCIsImZvcmNlQ2VudGVyIiwic2NoZW1lQ2F0ZWdvcnkxMCIsInpvb20iLCJzY2FsZUV4dGVudCIsImRyYWciLCJheGlzQm90dG9tIiwiYXhpc0xlZnQiLCJsaW5lIiwieCIsInkiLCJ1bnN0YWJsZV9tb2NrTW9kdWxlIiwiZ2xvYmFsIiwiV2ViU29ja2V0Iiwic2VuZCIsImNsb3NlIiwib25vcGVuIiwib25jbG9zZSIsIm9ubWVzc2FnZSIsIm9uZXJyb3IiLCJyZWFkeVN0YXRlIiwicmVxdWlyZSIsIkhUTUxDYW52YXNFbGVtZW50IiwicHJvdG90eXBlIiwiZ2V0Q29udGV4dCIsImZpbGxSZWN0IiwiY2xlYXJSZWN0IiwiZ2V0SW1hZ2VEYXRhIiwiQXJyYXkiLCJwdXRJbWFnZURhdGEiLCJjcmVhdGVJbWFnZURhdGEiLCJzZXRUcmFuc2Zvcm0iLCJkcmF3SW1hZ2UiLCJzYXZlIiwicmVzdG9yZSIsImZpbGxUZXh0IiwibWVhc3VyZVRleHQiLCJ3aWR0aCIsInN0cm9rZVRleHQiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJmaWxsIiwiYXJjIiwiY2xvc2VQYXRoIiwidHJhbnNsYXRlIiwic2NhbGUiLCJyb3RhdGUiLCJTeXN0ZW1NYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJzdGF0ZSIsImluaXRpYWxpemVTdGF0ZSIsImV2ZW50QnVzIiwiRXZlbnRCdXMiLCJ3ZWJzb2NrZXRNYW5hZ2VyIiwiV2ViU29ja2V0TWFuYWdlciIsImRhdGFTdG9yZSIsIkRhdGFTdG9yZSIsImFnZW50cyIsImNvbnZlcnNhdGlvbnMiLCJrbm93bGVkZ2VHcmFwaCIsImVkZ2VzIiwiY2x1c3RlcnMiLCJzY2hlbWEiLCJ2ZXJzaW9uIiwidHlwZXMiLCJiZWxpZWZzIiwiY29hbGl0aW9ucyIsIm1ldHJpY3MiLCJwZXJmb3JtYW5jZSIsImNwdSIsIm1lbW9yeSIsImxhdGVuY3kiLCJ1c2FnZSIsImFjdGl2ZV91c2VycyIsInJlcXVlc3RzX3Blcl9taW51dGUiLCJlcnJvcnMiLCJjb3VudCIsInJhdGUiLCJuZXR3b3JrIiwiYmFuZHdpZHRoIiwiY29ubmVjdGlvbnMiLCJzZXR0aW5ncyIsImxsbSIsInByb3ZpZGVyIiwibW9kZWwiLCJ1aSIsInRoZW1lIiwibGF5b3V0Iiwic2ltdWxhdGlvbiIsInNwZWVkIiwiYXV0b19hZHZhbmNlIiwic2VjdXJpdHkiLCJlbmNyeXB0aW9uIiwiYXVkaXRfbG9nIiwiY3JlYXRlQWdlbnQiLCJjb25maWciLCJhZ2VudCIsIkRhdGUiLCJub3ciLCJuYW1lIiwidHlwZSIsInN0YXR1cyIsImNhcGFiaWxpdGllcyIsIm1lc3NhZ2VzX3NlbnQiLCJ0YXNrc19jb21wbGV0ZWQiLCJhdmVyYWdlX3Jlc3BvbnNlX3RpbWUiLCJzdWNjZXNzX3JhdGUiLCJyZWxhdGlvbnNoaXBzIiwiZW1pdCIsInVwZGF0ZUFnZW50IiwidXBkYXRlcyIsImZpbmQiLCJhIiwiT2JqZWN0IiwiYXNzaWduIiwicmVtb3ZlQWdlbnQiLCJpbmRleCIsImZpbmRJbmRleCIsInNwbGljZSIsImNyZWF0ZUNvbnZlcnNhdGlvbiIsInRpdGxlIiwicGFydGljaXBhbnRzIiwiY29udmVyc2F0aW9uIiwibWVzc2FnZXMiLCJtZXRhZGF0YSIsImNyZWF0ZWRfYXQiLCJsYXN0X2FjdGl2aXR5IiwidG9waWNfdGFncyIsInByaW9yaXR5Iiwic2VuZE1lc3NhZ2UiLCJjb252ZXJzYXRpb25JZCIsImFnZW50SWQiLCJjb250ZW50IiwiYyIsIkVycm9yIiwibWVzc2FnZSIsInRpbWVzdGFtcCIsImNvbnZlcnNhdGlvbl9pZCIsInRva2VucyIsInNwbGl0IiwibGVuZ3RoIiwic2VudGltZW50IiwiYWRkS25vd2xlZGdlTm9kZSIsImxhYmVsIiwicHJvcGVydGllcyIsIm5vZGUiLCJhZGRLbm93bGVkZ2VFZGdlIiwic291cmNlSWQiLCJ0YXJnZXRJZCIsInJlbGF0aW9uc2hpcCIsImVkZ2UiLCJzb3VyY2VfaWQiLCJ0YXJnZXRfaWQiLCJ3ZWlnaHQiLCJ1cGRhdGVCZWxpZWYiLCJiZWxpZWZLZXkiLCJ2YWx1ZSIsImNvbmZpZGVuY2UiLCJleGlzdGluZ0JlbGllZiIsImIiLCJuZXdCZWxpZWYiLCJ1bmNlcnRhaW50eSIsImZvcm1Db2FsaXRpb24iLCJtZW1iZXJJZHMiLCJwdXJwb3NlIiwiY29hbGl0aW9uIiwibWVtYmVycyIsImNhbGN1bGF0ZUNvYWxpdGlvblN0cmVuZ3RoIiwiZm9ybWF0aW9uX3N0cmF0ZWd5IiwibGlmZWN5Y2xlIiwicGhhc2UiLCJzdGFydF90aW1lIiwibWlsZXN0b25lcyIsImZpbHRlciIsImluY2x1ZGVzIiwiYXZnQ2FwYWJpbGl0aWVzIiwicmVkdWNlIiwic3VtIiwiYXZnUGVyZm9ybWFuY2UiLCJ1cGRhdGVNZXRyaWNzIiwiTWF0aCIsInJhbmRvbSIsImZsb29yIiwidmFsaWRhdGlvbiIsInRpbWVvdXQiLCJnZXRTdGF0ZSIsImdldEFnZW50cyIsImdldENvbnZlcnNhdGlvbnMiLCJnZXRLbm93bGVkZ2VHcmFwaCIsImdldEJlbGllZnMiLCJnZXRDb2FsaXRpb25zIiwiZ2V0TWV0cmljcyIsImV2ZW50IiwiY2FsbGJhY2siLCJsaXN0ZW5lcnMiLCJoYXMiLCJzZXQiLCJnZXQiLCJvZmYiLCJjYWxsYmFja3MiLCJpbmRleE9mIiwiYXJncyIsImZvckVhY2giLCJjbGVhciIsIk1hcCIsImNvbm5lY3QiLCJ1cmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIndzIiwicmVjb25uZWN0QXR0ZW1wdHMiLCJkZWxldGUiLCJhdHRlbXB0UmVjb25uZWN0IiwiZXJyb3IiLCJhdHRlbXB0cyIsIm1heFJlY29ubmVjdEF0dGVtcHRzIiwic2V0VGltZW91dCIsInBvdyIsIk9QRU4iLCJKU09OIiwic3RyaW5naWZ5IiwiZGlzY29ubmVjdCIsImRpc2Nvbm5lY3RBbGwiLCJzZXRDYWNoZSIsImtleSIsInR0bCIsImNhY2hlIiwiZXhwaXJlcyIsImdldENhY2hlIiwiaXRlbSIsImNsZWFyQ2FjaGUiLCJwZXJzaXN0ZW50U3RvcmUiLCJzZXRCYXRjaCIsIml0ZW1zIiwiZ2V0QmF0Y2giLCJrZXlzIiwicmVzdWx0IiwidW5kZWZpbmVkIiwiU3lzdGVtRGFzaGJvYXJkIiwic3lzdGVtTWFuYWdlciIsInNldFN0YXRlIiwiUmVhY3QiLCJ1c2VTdGF0ZSIsInNlbGVjdGVkQWdlbnQiLCJzZXRTZWxlY3RlZEFnZW50Iiwic2VsZWN0ZWRDb252ZXJzYXRpb24iLCJzZXRTZWxlY3RlZENvbnZlcnNhdGlvbiIsInVzZUVmZmVjdCIsInVwZGF0ZVN0YXRlIiwibWV0cmljc0ludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiaGFuZGxlQ3JlYXRlQWdlbnQiLCJoYW5kbGVDcmVhdGVDb252ZXJzYXRpb24iLCJzbGljZSIsIm1hcCIsImhhbmRsZVNlbmRNZXNzYWdlIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaGFuZGxlRm9ybUNvYWxpdGlvbiIsImhhbmRsZVVwZGF0ZUJlbGllZiIsImRpdiIsImRhdGEtdGVzdGlkIiwiY2xhc3NOYW1lIiwiaGVhZGVyIiwiaDEiLCJzcGFuIiwiYnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwiaDMiLCJ0b0ZpeGVkIiwiY29udiIsImJlbGllZiIsImg0IiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwiZXhwZWN0IiwidG9FcXVhbCIsInRvQmUiLCJ0b01hdGNoIiwidXBkYXRlZCIsInJlbW92ZWQiLCJub3QiLCJ0b0NvbnRhaW4iLCJ0b0JlTnVsbCIsImFnZW50MSIsImFnZW50MiIsInVwZGF0ZWRDb252IiwidG9IYXZlTGVuZ3RoIiwidG9UaHJvdyIsImNvbXBsZXhpdHkiLCJncmFwaCIsIm5vZGUxIiwibm9kZTIiLCJhZ2VudEJlbGllZiIsInRvQmVEZWZpbmVkIiwidHJ1c3RfdmFsdWUiLCJ0b0JlQ2xvc2VUbyIsImFnZW50QmVsaWVmcyIsInRydXN0IiwiY29vcGVyYXRpb24iLCJ0b0JlR3JlYXRlclRoYW4iLCJzdHJvbmdBZ2VudCIsIndlYWtBZ2VudCIsInN0cm9uZ0NvYWxpdGlvbiIsIm1peGVkQ29hbGl0aW9uIiwidG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCIsInRvQmVMZXNzVGhhbk9yRXF1YWwiLCJjdXJyZW50U3RhdGUiLCJhY3RpdmVBZ2VudHNCZWZvcmUiLCJsaXN0ZW5lciIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwidG9IYXZlQmVlbkNhbGxlZCIsImxpc3RlbmVyMSIsImxpc3RlbmVyMiIsInNraXAiLCJ3c01hbmFnZXIiLCJzZW50Iiwic2VudEFmdGVyRGlzY29ubmVjdCIsIm1vY2tJbXBsZW1lbnRhdGlvbk9uY2UiLCJyZWplY3RzIiwic2l6ZSIsInN0b3JlIiwicmV0cmlldmVkIiwiZGVsZXRlZCIsInRvQmVVbmRlZmluZWQiLCJiYXRjaCIsImtleTEiLCJrZXkyIiwicmVuZGVyIiwic2NyZWVuIiwiZ2V0QnlUZXN0SWQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsInRvSGF2ZVRleHRDb250ZW50IiwiZmlyZUV2ZW50IiwiY2xpY2siLCJhZ2VudEVsZW1lbnQiLCJjb252ZXJzYXRpb25FbGVtZW50Iiwid2FpdEZvciIsIm1ldHJpY3NFbGVtZW50IiwidG9CZURpc2FibGVkIiwiaSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0NBS0M7Ozs7OzhEQUVpQjt3QkFDaUM7eUJBQzlCOzs7Ozs7QUFFckIsaUNBQWlDO0FBQ2pDQSxhQUFJLENBQUNDLElBQUksQ0FBQyxtQkFBbUIsSUFBTyxDQUFBO1FBQ2xDQyxXQUFXLElBQU8sQ0FBQTtnQkFDaEJDLE1BQU1ILGFBQUksQ0FBQ0ksRUFBRTtnQkFDYkMsU0FBU0wsYUFBSSxDQUFDSSxFQUFFO2dCQUNoQkUsTUFBTU4sYUFBSSxDQUFDSSxFQUFFO2dCQUNiRyxTQUFTUCxhQUFJLENBQUNJLEVBQUU7Z0JBQ2hCSSxTQUFTUixhQUFJLENBQUNJLEVBQUU7Z0JBQ2hCSyxVQUFVVCxhQUFJLENBQUNJLEVBQUU7WUFDbkIsQ0FBQTtRQUNBTSxhQUFhLElBQU07UUFDbkJDLGlCQUFpQixJQUFNLElBQUlDO0lBQzdCLENBQUE7QUFFQSx1Q0FBdUM7QUFDdkMsTUFBTUMsa0JBQWtCO0lBQ3RCQyxRQUFRZCxhQUFJLENBQUNJLEVBQUUsQ0FBQyxJQUFNUztJQUN0QkUsV0FBV2YsYUFBSSxDQUFDSSxFQUFFLENBQUMsSUFBTVM7SUFDekJHLE1BQU1oQixhQUFJLENBQUNJLEVBQUUsQ0FBQyxJQUFNUztJQUNwQkksT0FBT2pCLGFBQUksQ0FBQ0ksRUFBRSxDQUFDLElBQU1TO0lBQ3JCSyxNQUFNbEIsYUFBSSxDQUFDSSxFQUFFLENBQUMsSUFBTVM7SUFDcEJNLElBQUluQixh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