{"version":3,"sources":["/Users/matthewmoroney/builds/FreeAgentics/web/app/conversations/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { ConversationView } from \"@/components/conversation-view\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport {\n  MessageSquare,\n  Users,\n  TrendingUp,\n  Clock,\n  Filter,\n  Play,\n  Pause,\n} from \"lucide-react\";\n\nexport default function ConversationsPage() {\n  const [selectedConversation, setSelectedConversation] = useState<\n    string | null\n  >(null);\n  const [isLive, setIsLive] = useState(true);\n  const [filter, setFilter] = useState<\"all\" | \"active\" | \"completed\">(\"all\");\n\n  // Mock conversation data\n  const conversations = [\n    {\n      id: \"conv_123\",\n      participants: [\"CuriousExplorer\", \"WiseScholar\"],\n      status: \"active\",\n      startTime: \"2 minutes ago\",\n      messageCount: 8,\n      intent: \"knowledge_sharing\",\n    },\n    {\n      id: \"conv_456\",\n      participants: [\"BravePioneer\", \"CautiousGuardian\", \"CleverMerchant\"],\n      status: \"active\",\n      startTime: \"5 minutes ago\",\n      messageCount: 15,\n      intent: \"alliance_formation\",\n    },\n    {\n      id: \"conv_789\",\n      participants: [\"ResourceHunter\", \"TerrainMapper\"],\n      status: \"completed\",\n      startTime: \"10 minutes ago\",\n      messageCount: 23,\n      intent: \"trade_negotiation\",\n    },\n  ];\n\n  return (\n    <div className=\"container mx-auto p-6 space-y-6\">\n      {/* Page Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-3xl font-bold\">Conversation Monitor</h1>\n          <p className=\"text-muted-foreground mt-1\">\n            Real-time agent communications and emergent dialogue patterns\n          </p>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button\n            variant={isLive ? \"default\" : \"outline\"}\n            size=\"sm\"\n            onClick={() => setIsLive(!isLive)}\n          >\n            {isLive ? (\n              <>\n                <Pause className=\"h-4 w-4 mr-2\" />\n                Pause\n              </>\n            ) : (\n              <>\n                <Play className=\"h-4 w-4 mr-2\" />\n                Resume\n              </>\n            )}\n          </Button>\n          <Button variant=\"outline\" size=\"sm\">\n            <Filter className=\"h-4 w-4 mr-2\" />\n            Filters\n          </Button>\n        </div>\n      </div>\n\n      {/* Conversation Stats */}\n      <div className=\"grid gap-4 md:grid-cols-4\">\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">\n              Active Conversations\n            </CardTitle>\n            <MessageSquare className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">12</div>\n            <p className=\"text-xs text-muted-foreground\">3 multi-agent</p>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Messages/Hour</CardTitle>\n            <TrendingUp className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">342</div>\n            <p className=\"text-xs text-muted-foreground\">+15% from average</p>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">\n              Unique Participants\n            </CardTitle>\n            <Users className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">18</div>\n            <p className=\"text-xs text-muted-foreground\">\n              75% of active agents\n            </p>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Avg Duration</CardTitle>\n            <Clock className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">4.5m</div>\n            <p className=\"text-xs text-muted-foreground\">12 messages avg</p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"grid gap-6 lg:grid-cols-3\">\n        {/* Conversation List - Takes up 1 column */}\n        <div className=\"lg:col-span-1\">\n          <Card className=\"h-[700px]\">\n            <CardHeader>\n              <CardTitle>Conversations</CardTitle>\n              <Tabs value={filter} onValueChange={(v) => setFilter(v as any)}>\n                <TabsList className=\"grid w-full grid-cols-3\">\n                  <TabsTrigger value=\"all\">All</TabsTrigger>\n                  <TabsTrigger value=\"active\">Active</TabsTrigger>\n                  <TabsTrigger value=\"completed\">Completed</TabsTrigger>\n                </TabsList>\n              </Tabs>\n            </CardHeader>\n            <CardContent>\n              <ScrollArea className=\"h-[550px]\">\n                <div className=\"space-y-2\">\n                  {conversations\n                    .filter((c) => filter === \"all\" || c.status === filter)\n                    .map((conv) => (\n                      <Card\n                        key={conv.id}\n                        className={`cursor-pointer transition-colors ${\n                          selectedConversation === conv.id\n                            ? \"border-primary\"\n                            : \"\"\n                        }`}\n                        onClick={() => setSelectedConversation(conv.id)}\n                      >\n                        <CardContent className=\"p-4\">\n                          <div className=\"flex justify-between items-start mb-2\">\n                            <div className=\"text-sm font-medium\">\n                              {conv.participants.join(\" â†” \")}\n                            </div>\n                            <Badge\n                              variant={\n                                conv.status === \"active\"\n                                  ? \"default\"\n                                  : \"secondary\"\n                              }\n                            >\n                              {conv.status}\n                            </Badge>\n                          </div>\n                          <div className=\"flex justify-between items-center text-xs text-muted-foreground\">\n                            <span>{conv.startTime}</span>\n                            <span>{conv.messageCount} messages</span>\n                          </div>\n                          <Badge variant=\"outline\" className=\"mt-2 text-xs\">\n                            {conv.intent.replace(\"_\", \" \")}\n                          </Badge>\n                        </CardContent>\n                      </Card>\n                    ))}\n                </div>\n              </ScrollArea>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Conversation View - Takes up 2 columns */}\n        <div className=\"lg:col-span-2\">\n          <Card className=\"h-[700px]\">\n            <CardHeader>\n              <CardTitle>Conversation Details</CardTitle>\n              {selectedConversation && (\n                <CardDescription>Live transcript and analysis</CardDescription>\n              )}\n            </CardHeader>\n            <CardContent>\n              {selectedConversation ? (\n                <ConversationView\n                  conversationId={selectedConversation}\n                  isLive={isLive}\n                />\n              ) : (\n                <div className=\"flex items-center justify-center h-[600px] text-muted-foreground\">\n                  Select a conversation to view details\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n\n      {/* Intent Analysis */}\n      <div className=\"grid gap-6 lg:grid-cols-2\">\n        <Card>\n          <CardHeader>\n            <CardTitle>Intent Distribution</CardTitle>\n            <CardDescription>\n              Communication purposes in the last hour\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-2\">\n              {[\n                { intent: \"Knowledge Sharing\", count: 45, percentage: 35 },\n                { intent: \"Trade Negotiation\", count: 32, percentage: 25 },\n                { intent: \"Alliance Formation\", count: 26, percentage: 20 },\n                { intent: \"Casual Greeting\", count: 19, percentage: 15 },\n                { intent: \"Warning/Alert\", count: 6, percentage: 5 },\n              ].map((item) => (\n                <div key={item.intent} className=\"space-y-1\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span>{item.intent}</span>\n                    <span className=\"text-muted-foreground\">{item.count}</span>\n                  </div>\n                  <div className=\"w-full bg-secondary rounded-full h-2\">\n                    <div\n                      className=\"bg-primary rounded-full h-2\"\n                      style={{ width: `${item.percentage}%` }}\n                    />\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Emergent Patterns</CardTitle>\n            <CardDescription>Notable communication behaviors</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-3\">\n              <div className=\"p-3 bg-secondary rounded-lg\">\n                <div className=\"font-medium text-sm mb-1\">\n                  Trust Networks Forming\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  Explorers and Scholars showing increased cooperation frequency\n                </p>\n              </div>\n              <div className=\"p-3 bg-secondary rounded-lg\">\n                <div className=\"font-medium text-sm mb-1\">\n                  Resource Information Flow\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  Knowledge about eastern forest resources spreading rapidly\n                </p>\n              </div>\n              <div className=\"p-3 bg-secondary rounded-lg\">\n                <div className=\"font-medium text-sm mb-1\">\n                  Multi-Agent Coordination\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  Groups of 3+ agents coordinating exploration efforts\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":["ConversationsPage","selectedConversation","setSelectedConversation","useState","isLive","setIsLive","filter","setFilter","conversations","id","participants","status","startTime","messageCount","intent","div","className","h1","p","Button","variant","size","onClick","Pause","Play","Filter","Card","CardHeader","CardTitle","MessageSquare","CardContent","TrendingUp","Users","Clock","Tabs","value","onValueChange","v","TabsList","TabsTrigger","ScrollArea","c","map","conv","join","Badge","span","replace","CardDescription","ConversationView","conversationId","count","percentage","item","style","width"],"mappings":"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"}