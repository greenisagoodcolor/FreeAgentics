48fd0f2b100af418602f9bdad147eee4
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    exportAgentKnowledge: function() {
        return exportAgentKnowledge;
    },
    exportAgentsKnowledge: function() {
        return exportAgentsKnowledge;
    },
    knowledgeToMarkdown: function() {
        return knowledgeToMarkdown;
    },
    sanitizeFilename: function() {
        return sanitizeFilename;
    }
});
const _jszip = /*#__PURE__*/ _interop_require_default(require("jszip"));
const _filesaver = /*#__PURE__*/ _interop_require_default(require("file-saver"));
const _debuglogger = require("./debug-logger");
const _apikeystorage = require("./api-key-storage");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Create a module-specific logger
const logger = (0, _debuglogger.createLogger)("knowledge-export");
function knowledgeToMarkdown(entry) {
    // Create YAML frontmatter with metadata
    const frontmatter = [
        "---",
        `id: ${entry.id}`,
        `title: ${entry.title}`,
        `tags: ${entry.tags.join(", ")}`,
        `timestamp: ${entry.timestamp.toISOString()}`,
        "---",
        ""
    ].join("\n");
    // Combine frontmatter with content
    return `${frontmatter}${entry.content}`;
}
function sanitizeFilename(name) {
    // Replace invalid filename characters with underscores
    return name.replace(/[/\\?%*:|"<>]/g, "_").replace(/\s+/g, "_").toLowerCase();
}
async function exportAgentKnowledge(agent) {
    try {
        // Create a new ZIP file
        const zip = new _jszip.default();
        // Create a folder for the agent
        const agentFolder = zip.folder(sanitizeFilename(agent.name));
        if (!agentFolder) throw new Error("Failed to create agent folder");
        // Add agent metadata
        const agentMetadata = {
            id: agent.id,
            name: agent.name,
            biography: agent.biography,
            color: agent.color,
            autonomyEnabled: agent.autonomyEnabled
        };
        agentFolder.file("_agent.json", JSON.stringify(agentMetadata, null, 2));
        // Create a knowledge folder
        const knowledgeFolder = agentFolder.folder("knowledge");
        if (!knowledgeFolder) throw new Error("Failed to create knowledge folder");
        // Add each knowledge entry as a markdown file
        for (const entry of agent.knowledge){
            const filename = `${sanitizeFilename(entry.title)}.md`;
            const content = knowledgeToMarkdown(entry);
            knowledgeFolder.file(filename, content);
        }
        // Generate the ZIP file
        const content = await zip.generateAsync({
            type: "blob"
        });
        // Trigger download
        (0, _filesaver.default)(content, `${sanitizeFilename(agent.name)}_knowledge.zip`);
        return Promise.resolve();
    } catch (error) {
        console.error("Error exporting agent knowledge:", error);
        return Promise.reject(error);
    }
}
async function exportAgentsKnowledge(agents, options = {}) {
    try {
        const zip = new _jszip.default();
        const timestamp = new Date().toISOString().replace(/[:.]/g, "-");
        const filename = `agents-export-${timestamp}.zip`;
        // Add each agent to the zip
        agents.forEach((agent)=>{
            // Create a sanitized version of the agent for export
            const exportAgent = {
                ...agent
            };
            // Add the agent data to the zip
            zip.file(`agents/${agent.id}.json`, JSON.stringify(exportAgent, null, 2));
            // Add each knowledge entry as a separate markdown file
            agent.knowledge.forEach((entry)=>{
                const entryFilename = `${entry.id}.md`;
                const entryContent = `# ${entry.title}

${entry.content}`;
                zip.file(`knowledge/${agent.id}/${entryFilename}`, entryContent);
            });
        });
        // Add settings if requested
        if (options.includeSettings && options.settings) {
            // Create a sanitized version of the settings
            const exportSettings = {
                ...options.settings
            };
            // Handle API key if requested
            if (options.includeApiKeys && exportSettings.apiKeySessionId) {
                try {
                    // Retrieve the actual API key for export
                    const apiKey = await (0, _apikeystorage.getApiKey)(exportSettings.provider, exportSettings.apiKeySessionId);
                    if (apiKey) {
                        // Add the API key to the export settings
                        exportSettings.apiKey = apiKey;
                    } else {
                        logger.warn("Could not retrieve API key for export");
                    }
                } catch (error) {
                    logger.error("Error retrieving API key for export", error);
                }
            }
            // Always remove the session ID from exports as it's only valid for the current browser
            delete exportSettings.apiKeySessionId;
            // Add the settings to the zip
            zip.file("settings.json", JSON.stringify(exportSettings, null, 2));
        }
        // Add conversations if requested
        if (options.includeConversations && options.conversations && options.conversations.length > 0) {
            // Create a conversations folder
            const conversationsFolder = zip.folder("conversations");
            // Add each conversation as a JSON file
            options.conversations.forEach((conversation)=>{
                // Create a sanitized version of the conversation for export
                const exportConversation = {
                    id: conversation.id,
                    participants: conversation.participants,
                    messages: conversation.messages,
                    startTime: conversation.startTime,
                    endTime: conversation.endTime,
                    isAutonomous: conversation.isAutonomous,
                    trigger: conversation.trigger,
                    topic: conversation.topic
                };
                // Add the conversation to the zip
                conversationsFolder?.file(`${conversation.id}.json`, JSON.stringify(exportConversation, null, 2));
            });
            // Also create a markdown summary of conversations
            let conversationSummary = "# Conversation History\n\n";
            options.conversations.forEach((conversation)=>{
                const startTime = new Date(conversation.startTime).toLocaleString();
                const endTime = conversation.endTime ? new Date(conversation.endTime).toLocaleString() : "Ongoing";
                const participantIds = conversation.participants.join(", ");
                const messageCount = conversation.messages.length;
                conversationSummary += `## Conversation ${conversation.id}\n\n`;
                conversationSummary += `- **Start Time:** ${startTime}\n`;
                conversationSummary += `- **End Time:** ${endTime}\n`;
                conversationSummary += `- **Participants:** ${participantIds}\n`;
                conversationSummary += `- **Message Count:** ${messageCount}\n`;
                conversationSummary += `- **Type:** ${conversation.isAutonomous ? "Autonomous" : "Manual"}\n`;
                if (conversation.trigger) {
                    conversationSummary += `- **Trigger:** ${conversation.trigger}\n`;
                }
                if (conversation.topic) {
                    conversationSummary += `- **Topic:** ${conversation.topic}\n`;
                }
                conversationSummary += "\n";
            });
            conversationsFolder?.file("_summary.md", conversationSummary);
        }
        // Generate the zip file
        const content = await zip.generateAsync({
            type: "blob"
        });
        // Save the zip file
        (0, _filesaver.default)(content, filename);
        logger.info(`Exported ${agents.length} agents to ${filename}`);
        return filename;
    } catch (error) {
        logger.error("Error exporting agents:", error);
        throw new Error(`Failed to export agents: ${error instanceof Error ? error.message : String(error)}`);
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0aGV3bW9yb25leS9idWlsZHMvRnJlZUFnZW50aWNzL3dlYi9saWIva25vd2xlZGdlLWV4cG9ydC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSlNaaXAgZnJvbSBcImpzemlwXCI7XG5pbXBvcnQgc2F2ZUFzIGZyb20gXCJmaWxlLXNhdmVyXCI7IC8vIEZpeGVkOiBDaGFuZ2VkIGZyb20gaW1wb3J0IHsgc2F2ZUFzIH0gdG8gaW1wb3J0IHNhdmVBc1xuaW1wb3J0IHR5cGUgeyBBZ2VudCwgQ29udmVyc2F0aW9uIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB0eXBlIHsgTExNU2V0dGluZ3MgfSBmcm9tIFwiLi9sbG0tc2V0dGluZ3NcIjtcbmltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gXCIuL2RlYnVnLWxvZ2dlclwiO1xuaW1wb3J0IHsgZ2V0QXBpS2V5IH0gZnJvbSBcIi4vYXBpLWtleS1zdG9yYWdlXCI7XG5cbi8vIENyZWF0ZSBhIG1vZHVsZS1zcGVjaWZpYyBsb2dnZXJcbmNvbnN0IGxvZ2dlciA9IGNyZWF0ZUxvZ2dlcihcImtub3dsZWRnZS1leHBvcnRcIik7XG5cbmludGVyZmFjZSBFeHBvcnRPcHRpb25zIHtcbiAgaW5jbHVkZVNldHRpbmdzPzogYm9vbGVhbjtcbiAgc2V0dGluZ3M/OiBMTE1TZXR0aW5ncztcbiAgaW5jbHVkZUFwaUtleXM/OiBib29sZWFuO1xuICBpbmNsdWRlQ29udmVyc2F0aW9ucz86IGJvb2xlYW47XG4gIGNvbnZlcnNhdGlvbnM/OiBDb252ZXJzYXRpb25bXTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEga25vd2xlZGdlIGVudHJ5IHRvIG1hcmtkb3duIGZvcm1hdFxuICogQHBhcmFtIGVudHJ5IEtub3dsZWRnZSBlbnRyeSB0byBjb252ZXJ0XG4gKiBAcmV0dXJucyBNYXJrZG93biBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGtub3dsZWRnZVRvTWFya2Rvd24oZW50cnk6IGFueSk6IHN0cmluZyB7XG4gIC8vIENyZWF0ZSBZQU1MIGZyb250bWF0dGVyIHdpdGggbWV0YWRhdGFcbiAgY29uc3QgZnJvbnRtYXR0ZXIgPSBbXG4gICAgXCItLS1cIixcbiAgICBgaWQ6ICR7ZW50cnkuaWR9YCxcbiAgICBgdGl0bGU6ICR7ZW50cnkudGl0bGV9YCxcbiAgICBgdGFnczogJHtlbnRyeS50YWdzLmpvaW4oXCIsIFwiKX1gLFxuICAgIGB0aW1lc3RhbXA6ICR7ZW50cnkudGltZXN0YW1wLnRvSVNPU3RyaW5nKCl9YCxcbiAgICBcIi0tLVwiLFxuICAgIFwiXCIsXG4gIF0uam9pbihcIlxcblwiKTtcblxuICAvLyBDb21iaW5lIGZyb250bWF0dGVyIHdpdGggY29udGVudFxuICByZXR1cm4gYCR7ZnJvbnRtYXR0ZXJ9JHtlbnRyeS5jb250ZW50fWA7XG59XG5cbi8qKlxuICogU2FuaXRpemVzIGEgc3RyaW5nIHRvIGJlIHVzZWQgYXMgYSBmaWxlbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVGaWxlbmFtZShuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAvLyBSZXBsYWNlIGludmFsaWQgZmlsZW5hbWUgY2hhcmFjdGVycyB3aXRoIHVuZGVyc2NvcmVzXG4gIHJldHVybiBuYW1lXG4gICAgLnJlcGxhY2UoL1svXFxcXD8lKjp8XCI8Pl0vZywgXCJfXCIpXG4gICAgLnJlcGxhY2UoL1xccysvZywgXCJfXCIpXG4gICAgLnRvTG93ZXJDYXNlKCk7XG59XG5cbi8qKlxuICogRXhwb3J0cyBhbiBhZ2VudCdzIGtub3dsZWRnZSB0byBhIFpJUCBmaWxlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleHBvcnRBZ2VudEtub3dsZWRnZShhZ2VudDogQWdlbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgdHJ5IHtcbiAgICAvLyBDcmVhdGUgYSBuZXcgWklQIGZpbGVcbiAgICBjb25zdCB6aXAgPSBuZXcgSlNaaXAoKTtcblxuICAgIC8vIENyZWF0ZSBhIGZvbGRlciBmb3IgdGhlIGFnZW50XG4gICAgY29uc3QgYWdlbnRGb2xkZXIgPSB6aXAuZm9sZGVyKHNhbml0aXplRmlsZW5hbWUoYWdlbnQubmFtZSkpO1xuICAgIGlmICghYWdlbnRGb2xkZXIpIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgYWdlbnQgZm9sZGVyXCIpO1xuXG4gICAgLy8gQWRkIGFnZW50IG1ldGFkYXRhXG4gICAgY29uc3QgYWdlbnRNZXRhZGF0YSA9IHtcbiAgICAgIGlkOiBhZ2VudC5pZCxcbiAgICAgIG5hbWU6IGFnZW50Lm5hbWUsXG4gICAgICBiaW9ncmFwaHk6IGFnZW50LmJpb2dyYXBoeSxcbiAgICAgIGNvbG9yOiBhZ2VudC5jb2xvcixcbiAgICAgIGF1dG9ub215RW5hYmxlZDogYWdlbnQuYXV0b25vbXlFbmFibGVkLFxuICAgICAgLy8gV2UgZG9uJ3QgaW5jbHVkZSBwb3NpdGlvbiBhcyBpdCdzIHRyYW5zaWVudFxuICAgICAgLy8gV2UgZG9uJ3QgaW5jbHVkZSBpbkNvbnZlcnNhdGlvbiBhcyBpdCdzIGEgcnVudGltZSBzdGF0ZVxuICAgIH07XG4gICAgYWdlbnRGb2xkZXIuZmlsZShcIl9hZ2VudC5qc29uXCIsIEpTT04uc3RyaW5naWZ5KGFnZW50TWV0YWRhdGEsIG51bGwsIDIpKTtcblxuICAgIC8vIENyZWF0ZSBhIGtub3dsZWRnZSBmb2xkZXJcbiAgICBjb25zdCBrbm93bGVkZ2VGb2xkZXIgPSBhZ2VudEZvbGRlci5mb2xkZXIoXCJrbm93bGVkZ2VcIik7XG4gICAgaWYgKCFrbm93bGVkZ2VGb2xkZXIpIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBjcmVhdGUga25vd2xlZGdlIGZvbGRlclwiKTtcblxuICAgIC8vIEFkZCBlYWNoIGtub3dsZWRnZSBlbnRyeSBhcyBhIG1hcmtkb3duIGZpbGVcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGFnZW50Lmtub3dsZWRnZSkge1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSBgJHtzYW5pdGl6ZUZpbGVuYW1lKGVudHJ5LnRpdGxlKX0ubWRgO1xuICAgICAgY29uc3QgY29udGVudCA9IGtub3dsZWRnZVRvTWFya2Rvd24oZW50cnkpO1xuICAgICAga25vd2xlZGdlRm9sZGVyLmZpbGUoZmlsZW5hbWUsIGNvbnRlbnQpO1xuICAgIH1cblxuICAgIC8vIEdlbmVyYXRlIHRoZSBaSVAgZmlsZVxuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB6aXAuZ2VuZXJhdGVBc3luYyh7IHR5cGU6IFwiYmxvYlwiIH0pO1xuXG4gICAgLy8gVHJpZ2dlciBkb3dubG9hZFxuICAgIHNhdmVBcyhjb250ZW50LCBgJHtzYW5pdGl6ZUZpbGVuYW1lKGFnZW50Lm5hbWUpfV9rbm93bGVkZ2UuemlwYCk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGV4cG9ydGluZyBhZ2VudCBrbm93bGVkZ2U6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICB9XG59XG5cbi8qKlxuICogRXhwb3J0IGFnZW50cycga25vd2xlZGdlIHRvIGEgWklQIGZpbGVcbiAqIEBwYXJhbSBhZ2VudHMgQWdlbnRzIHRvIGV4cG9ydFxuICogQHBhcmFtIG9wdGlvbnMgRXhwb3J0IG9wdGlvbnNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4cG9ydEFnZW50c0tub3dsZWRnZShcbiAgYWdlbnRzOiBBZ2VudFtdLFxuICBvcHRpb25zOiBFeHBvcnRPcHRpb25zID0ge30sXG4pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB6aXAgPSBuZXcgSlNaaXAoKTtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvWzouXS9nLCBcIi1cIik7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBgYWdlbnRzLWV4cG9ydC0ke3RpbWVzdGFtcH0uemlwYDtcblxuICAgIC8vIEFkZCBlYWNoIGFnZW50IHRvIHRoZSB6aXBcbiAgICBhZ2VudHMuZm9yRWFjaCgoYWdlbnQpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBhIHNhbml0aXplZCB2ZXJzaW9uIG9mIHRoZSBhZ2VudCBmb3IgZXhwb3J0XG4gICAgICBjb25zdCBleHBvcnRBZ2VudCA9IHsgLi4uYWdlbnQgfTtcblxuICAgICAgLy8gQWRkIHRoZSBhZ2VudCBkYXRhIHRvIHRoZSB6aXBcbiAgICAgIHppcC5maWxlKGBhZ2VudHMvJHthZ2VudC5pZH0uanNvbmAsIEpTT04uc3RyaW5naWZ5KGV4cG9ydEFnZW50LCBudWxsLCAyKSk7XG5cbiAgICAgIC8vIEFkZCBlYWNoIGtub3dsZWRnZSBlbnRyeSBhcyBhIHNlcGFyYXRlIG1hcmtkb3duIGZpbGVcbiAgICAgIGFnZW50Lmtub3dsZWRnZS5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBlbnRyeUZpbGVuYW1lID0gYCR7ZW50cnkuaWR9Lm1kYDtcbiAgICAgICAgY29uc3QgZW50cnlDb250ZW50ID0gYCMgJHtlbnRyeS50aXRsZX1cblxuJHtlbnRyeS5jb250ZW50fWA7XG4gICAgICAgIHppcC5maWxlKGBrbm93bGVkZ2UvJHthZ2VudC5pZH0vJHtlbnRyeUZpbGVuYW1lfWAsIGVudHJ5Q29udGVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBzZXR0aW5ncyBpZiByZXF1ZXN0ZWRcbiAgICBpZiAob3B0aW9ucy5pbmNsdWRlU2V0dGluZ3MgJiYgb3B0aW9ucy5zZXR0aW5ncykge1xuICAgICAgLy8gQ3JlYXRlIGEgc2FuaXRpemVkIHZlcnNpb24gb2YgdGhlIHNldHRpbmdzXG4gICAgICBjb25zdCBleHBvcnRTZXR0aW5ncyA9IHsgLi4ub3B0aW9ucy5zZXR0aW5ncyB9O1xuXG4gICAgICAvLyBIYW5kbGUgQVBJIGtleSBpZiByZXF1ZXN0ZWRcbiAgICAgIGlmIChvcHRpb25zLmluY2x1ZGVBcGlLZXlzICYmIGV4cG9ydFNldHRpbmdzLmFwaUtleVNlc3Npb25JZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFJldHJpZXZlIHRoZSBhY3R1YWwgQVBJIGtleSBmb3IgZXhwb3J0XG4gICAgICAgICAgY29uc3QgYXBpS2V5ID0gYXdhaXQgZ2V0QXBpS2V5KFxuICAgICAgICAgICAgZXhwb3J0U2V0dGluZ3MucHJvdmlkZXIsXG4gICAgICAgICAgICBleHBvcnRTZXR0aW5ncy5hcGlLZXlTZXNzaW9uSWQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoYXBpS2V5KSB7XG4gICAgICAgICAgICAvLyBBZGQgdGhlIEFQSSBrZXkgdG8gdGhlIGV4cG9ydCBzZXR0aW5nc1xuICAgICAgICAgICAgZXhwb3J0U2V0dGluZ3MuYXBpS2V5ID0gYXBpS2V5O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybihcIkNvdWxkIG5vdCByZXRyaWV2ZSBBUEkga2V5IGZvciBleHBvcnRcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGxvZ2dlci5lcnJvcihcIkVycm9yIHJldHJpZXZpbmcgQVBJIGtleSBmb3IgZXhwb3J0XCIsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBbHdheXMgcmVtb3ZlIHRoZSBzZXNzaW9uIElEIGZyb20gZXhwb3J0cyBhcyBpdCdzIG9ubHkgdmFsaWQgZm9yIHRoZSBjdXJyZW50IGJyb3dzZXJcbiAgICAgIGRlbGV0ZSBleHBvcnRTZXR0aW5ncy5hcGlLZXlTZXNzaW9uSWQ7XG5cbiAgICAgIC8vIEFkZCB0aGUgc2V0dGluZ3MgdG8gdGhlIHppcFxuICAgICAgemlwLmZpbGUoXCJzZXR0aW5ncy5qc29uXCIsIEpTT04uc3RyaW5naWZ5KGV4cG9ydFNldHRpbmdzLCBudWxsLCAyKSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGNvbnZlcnNhdGlvbnMgaWYgcmVxdWVzdGVkXG4gICAgaWYgKFxuICAgICAgb3B0aW9ucy5pbmNsdWRlQ29udmVyc2F0aW9ucyAmJlxuICAgICAgb3B0aW9ucy5jb252ZXJzYXRpb25zICYmXG4gICAgICBvcHRpb25zLmNvbnZlcnNhdGlvbnMubGVuZ3RoID4gMFxuICAgICkge1xuICAgICAgLy8gQ3JlYXRlIGEgY29udmVyc2F0aW9ucyBmb2xkZXJcbiAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbnNGb2xkZXIgPSB6aXAuZm9sZGVyKFwiY29udmVyc2F0aW9uc1wiKTtcblxuICAgICAgLy8gQWRkIGVhY2ggY29udmVyc2F0aW9uIGFzIGEgSlNPTiBmaWxlXG4gICAgICBvcHRpb25zLmNvbnZlcnNhdGlvbnMuZm9yRWFjaCgoY29udmVyc2F0aW9uKSA9PiB7XG4gICAgICAgIC8vIENyZWF0ZSBhIHNhbml0aXplZCB2ZXJzaW9uIG9mIHRoZSBjb252ZXJzYXRpb24gZm9yIGV4cG9ydFxuICAgICAgICBjb25zdCBleHBvcnRDb252ZXJzYXRpb24gPSB7XG4gICAgICAgICAgaWQ6IGNvbnZlcnNhdGlvbi5pZCxcbiAgICAgICAgICBwYXJ0aWNpcGFudHM6IGNvbnZlcnNhdGlvbi5wYXJ0aWNpcGFudHMsXG4gICAgICAgICAgbWVzc2FnZXM6IGNvbnZlcnNhdGlvbi5tZXNzYWdlcyxcbiAgICAgICAgICBzdGFydFRpbWU6IGNvbnZlcnNhdGlvbi5zdGFydFRpbWUsXG4gICAgICAgICAgZW5kVGltZTogY29udmVyc2F0aW9uLmVuZFRpbWUsXG4gICAgICAgICAgaXNBdXRvbm9tb3VzOiBjb252ZXJzYXRpb24uaXNBdXRvbm9tb3VzLFxuICAgICAgICAgIHRyaWdnZXI6IGNvbnZlcnNhdGlvbi50cmlnZ2VyLFxuICAgICAgICAgIHRvcGljOiBjb252ZXJzYXRpb24udG9waWMsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQWRkIHRoZSBjb252ZXJzYXRpb24gdG8gdGhlIHppcFxuICAgICAgICBjb252ZXJzYXRpb25zRm9sZGVyPy5maWxlKFxuICAgICAgICAgIGAke2NvbnZlcnNhdGlvbi5pZH0uanNvbmAsXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoZXhwb3J0Q29udmVyc2F0aW9uLCBudWxsLCAyKSxcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBbHNvIGNyZWF0ZSBhIG1hcmtkb3duIHN1bW1hcnkgb2YgY29udmVyc2F0aW9uc1xuICAgICAgbGV0IGNvbnZlcnNhdGlvblN1bW1hcnkgPSBcIiMgQ29udmVyc2F0aW9uIEhpc3RvcnlcXG5cXG5cIjtcbiAgICAgIG9wdGlvbnMuY29udmVyc2F0aW9ucy5mb3JFYWNoKChjb252ZXJzYXRpb24pID0+IHtcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gbmV3IERhdGUoY29udmVyc2F0aW9uLnN0YXJ0VGltZSkudG9Mb2NhbGVTdHJpbmcoKTtcbiAgICAgICAgY29uc3QgZW5kVGltZSA9IGNvbnZlcnNhdGlvbi5lbmRUaW1lXG4gICAgICAgICAgPyBuZXcgRGF0ZShjb252ZXJzYXRpb24uZW5kVGltZSkudG9Mb2NhbGVTdHJpbmcoKVxuICAgICAgICAgIDogXCJPbmdvaW5nXCI7XG4gICAgICAgIGNvbnN0IHBhcnRpY2lwYW50SWRzID0gY29udmVyc2F0aW9uLnBhcnRpY2lwYW50cy5qb2luKFwiLCBcIik7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VDb3VudCA9IGNvbnZlcnNhdGlvbi5tZXNzYWdlcy5sZW5ndGg7XG5cbiAgICAgICAgY29udmVyc2F0aW9uU3VtbWFyeSArPSBgIyMgQ29udmVyc2F0aW9uICR7Y29udmVyc2F0aW9uLmlkfVxcblxcbmA7XG4gICAgICAgIGNvbnZlcnNhdGlvblN1bW1hcnkgKz0gYC0gKipTdGFydCBUaW1lOioqICR7c3RhcnRUaW1lfVxcbmA7XG4gICAgICAgIGNvbnZlcnNhdGlvblN1bW1hcnkgKz0gYC0gKipFbmQgVGltZToqKiAke2VuZFRpbWV9XFxuYDtcbiAgICAgICAgY29udmVyc2F0aW9uU3VtbWFyeSArPSBgLSAqKlBhcnRpY2lwYW50czoqKiAke3BhcnRpY2lwYW50SWRzfVxcbmA7XG4gICAgICAgIGNvbnZlcnNhdGlvblN1bW1hcnkgKz0gYC0gKipNZXNzYWdlIENvdW50OioqICR7bWVzc2FnZUNvdW50fVxcbmA7XG4gICAgICAgIGNvbnZlcnNhdGlvblN1bW1hcnkgKz0gYC0gKipUeXBlOioqICR7Y29udmVyc2F0aW9uLmlzQXV0b25vbW91cyA/IFwiQXV0b25vbW91c1wiIDogXCJNYW51YWxcIn1cXG5gO1xuICAgICAgICBpZiAoY29udmVyc2F0aW9uLnRyaWdnZXIpIHtcbiAgICAgICAgICBjb252ZXJzYXRpb25TdW1tYXJ5ICs9IGAtICoqVHJpZ2dlcjoqKiAke2NvbnZlcnNhdGlvbi50cmlnZ2VyfVxcbmA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnZlcnNhdGlvbi50b3BpYykge1xuICAgICAgICAgIGNvbnZlcnNhdGlvblN1bW1hcnkgKz0gYC0gKipUb3BpYzoqKiAke2NvbnZlcnNhdGlvbi50b3BpY31cXG5gO1xuICAgICAgICB9XG4gICAgICAgIGNvbnZlcnNhdGlvblN1bW1hcnkgKz0gXCJcXG5cIjtcbiAgICAgIH0pO1xuXG4gICAgICBjb252ZXJzYXRpb25zRm9sZGVyPy5maWxlKFwiX3N1bW1hcnkubWRcIiwgY29udmVyc2F0aW9uU3VtbWFyeSk7XG4gICAgfVxuXG4gICAgLy8gR2VuZXJhdGUgdGhlIHppcCBmaWxlXG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IHppcC5nZW5lcmF0ZUFzeW5jKHsgdHlwZTogXCJibG9iXCIgfSk7XG5cbiAgICAvLyBTYXZlIHRoZSB6aXAgZmlsZVxuICAgIHNhdmVBcyhjb250ZW50LCBmaWxlbmFtZSk7XG5cbiAgICBsb2dnZXIuaW5mbyhgRXhwb3J0ZWQgJHthZ2VudHMubGVuZ3RofSBhZ2VudHMgdG8gJHtmaWxlbmFtZX1gKTtcbiAgICByZXR1cm4gZmlsZW5hbWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKFwiRXJyb3IgZXhwb3J0aW5nIGFnZW50czpcIiwgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBGYWlsZWQgdG8gZXhwb3J0IGFnZW50czogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCxcbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiZXhwb3J0QWdlbnRLbm93bGVkZ2UiLCJleHBvcnRBZ2VudHNLbm93bGVkZ2UiLCJrbm93bGVkZ2VUb01hcmtkb3duIiwic2FuaXRpemVGaWxlbmFtZSIsImxvZ2dlciIsImNyZWF0ZUxvZ2dlciIsImVudHJ5IiwiZnJvbnRtYXR0ZXIiLCJpZCIsInRpdGxlIiwidGFncyIsImpvaW4iLCJ0aW1lc3RhbXAiLCJ0b0lTT1N0cmluZyIsImNvbnRlbnQiLCJuYW1lIiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwiYWdlbnQiLCJ6aXAiLCJKU1ppcCIsImFnZW50Rm9sZGVyIiwiZm9sZGVyIiwiRXJyb3IiLCJhZ2VudE1ldGFkYXRhIiwiYmlvZ3JhcGh5IiwiY29sb3IiLCJhdXRvbm9teUVuYWJsZWQiLCJmaWxlIiwiSlNPTiIsInN0cmluZ2lmeSIsImtub3dsZWRnZUZvbGRlciIsImtub3dsZWRnZSIsImZpbGVuYW1lIiwiZ2VuZXJhdGVBc3luYyIsInR5cGUiLCJzYXZlQXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsImVycm9yIiwiY29uc29sZSIsInJlamVjdCIsImFnZW50cyIsIm9wdGlvbnMiLCJEYXRlIiwiZm9yRWFjaCIsImV4cG9ydEFnZW50IiwiZW50cnlGaWxlbmFtZSIsImVudHJ5Q29udGVudCIsImluY2x1ZGVTZXR0aW5ncyIsInNldHRpbmdzIiwiZXhwb3J0U2V0dGluZ3MiLCJpbmNsdWRlQXBpS2V5cyIsImFwaUtleVNlc3Npb25JZCIsImFwaUtleSIsImdldEFwaUtleSIsInByb3ZpZGVyIiwid2FybiIsImluY2x1ZGVDb252ZXJzYXRpb25zIiwiY29udmVyc2F0aW9ucyIsImxlbmd0aCIsImNvbnZlcnNhdGlvbnNGb2xkZXIiLCJjb252ZXJzYXRpb24iLCJleHBvcnRDb252ZXJzYXRpb24iLCJwYXJ0aWNpcGFudHMiLCJtZXNzYWdlcyIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJpc0F1dG9ub21vdXMiLCJ0cmlnZ2VyIiwidG9waWMiLCJjb252ZXJzYXRpb25TdW1tYXJ5IiwidG9Mb2NhbGVTdHJpbmciLCJwYXJ0aWNpcGFudElkcyIsIm1lc3NhZ2VDb3VudCIsImluZm8iLCJtZXNzYWdlIiwiU3RyaW5nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQXFEc0JBLG9CQUFvQjtlQUFwQkE7O0lBa0RBQyxxQkFBcUI7ZUFBckJBOztJQWhGTkMsbUJBQW1CO2VBQW5CQTs7SUFtQkFDLGdCQUFnQjtlQUFoQkE7Ozs4REExQ0U7a0VBQ0M7NkJBR1U7K0JBQ0g7Ozs7OztBQUUxQixrQ0FBa0M7QUFDbEMsTUFBTUMsU0FBU0MsSUFBQUEseUJBQVksRUFBQztBQWVyQixTQUFTSCxvQkFBb0JJLEtBQVU7SUFDNUMsd0NBQXdDO0lBQ3hDLE1BQU1DLGNBQWM7UUFDbEI7UUFDQSxDQUFDLElBQUksRUFBRUQsTUFBTUUsRUFBRSxDQUFDLENBQUM7UUFDakIsQ0FBQyxPQUFPLEVBQUVGLE1BQU1HLEtBQUssQ0FBQyxDQUFDO1FBQ3ZCLENBQUMsTUFBTSxFQUFFSCxNQUFNSSxJQUFJLENBQUNDLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDaEMsQ0FBQyxXQUFXLEVBQUVMLE1BQU1NLFNBQVMsQ0FBQ0MsV0FBVyxHQUFHLENBQUM7UUFDN0M7UUFDQTtLQUNELENBQUNGLElBQUksQ0FBQztJQUVQLG1DQUFtQztJQUNuQyxPQUFPLENBQUMsRUFBRUosWUFBWSxFQUFFRCxNQUFNUSxPQUFPLENBQUMsQ0FBQztBQUN6QztBQUtPLFNBQVNYLGlCQUFpQlksSUFBWTtJQUMzQyx1REFBdUQ7SUFDdkQsT0FBT0EsS0FDSkMsT0FBTyxDQUFDLGtCQUFrQixLQUMxQkEsT0FBTyxDQUFDLFFBQVEsS0FDaEJDLFdBQVc7QUFDaEI7QUFLTyxlQUFlakIscUJBQXFCa0Is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