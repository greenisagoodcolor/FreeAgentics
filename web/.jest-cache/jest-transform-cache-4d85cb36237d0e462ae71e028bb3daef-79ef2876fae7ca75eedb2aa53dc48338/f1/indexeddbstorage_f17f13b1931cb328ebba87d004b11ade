880f4285d7b3711d594f6229f085cc39
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    IndexedDBStorage: function() {
        return IndexedDBStorage;
    },
    experimentStorage: function() {
        return experimentStorage;
    }
});
class ExperimentStorageDB {
    async init() {
        return new Promise((resolve, reject)=>{
            const request = indexedDB.open(this.dbName, this.version);
            request.onerror = ()=>reject(request.error);
            request.onsuccess = ()=>{
                this.db = request.result;
                resolve();
            };
            request.onupgradeneeded = (event)=>{
                const db = event.target.result;
                // Create experiments store
                if (!db.objectStoreNames.contains("experiments")) {
                    const experimentsStore = db.createObjectStore("experiments", {
                        keyPath: "id"
                    });
                    experimentsStore.createIndex("createdAt", "createdAt", {
                        unique: false
                    });
                    experimentsStore.createIndex("createdBy", "createdBy", {
                        unique: false
                    });
                    experimentsStore.createIndex("name", "name", {
                        unique: false
                    });
                }
                // Create shared links store
                if (!db.objectStoreNames.contains("sharedLinks")) {
                    const linksStore = db.createObjectStore("sharedLinks", {
                        keyPath: "id"
                    });
                    linksStore.createIndex("experimentId", "experimentId", {
                        unique: false
                    });
                    linksStore.createIndex("createdBy", "createdBy", {
                        unique: false
                    });
                    linksStore.createIndex("expiresAt", "expiresAt", {
                        unique: false
                    });
                }
                // Create versions store for change tracking
                if (!db.objectStoreNames.contains("versions")) {
                    const versionsStore = db.createObjectStore("versions", {
                        keyPath: "id"
                    });
                    versionsStore.createIndex("experimentId", "experimentId", {
                        unique: false
                    });
                    versionsStore.createIndex("createdAt", "createdAt", {
                        unique: false
                    });
                }
                // Create change log store
                if (!db.objectStoreNames.contains("changelog")) {
                    const changelogStore = db.createObjectStore("changelog", {
                        keyPath: "id"
                    });
                    changelogStore.createIndex("experimentId", "experimentId", {
                        unique: false
                    });
                    changelogStore.createIndex("timestamp", "timestamp", {
                        unique: false
                    });
                }
            };
        });
    }
    async storeExperiment(experiment) {
        if (!this.db) await this.init();
        return new Promise((resolve, reject)=>{
            const transaction = this.db.transaction([
                "experiments"
            ], "readwrite");
            const store = transaction.objectStore("experiments");
            const request = store.put(experiment);
            request.onerror = ()=>reject(request.error);
            request.onsuccess = ()=>resolve();
        });
    }
    async getExperiment(id) {
        if (!this.db) await this.init();
        return new Promise((resolve, reject)=>{
            const transaction = this.db.transaction([
                "experiments"
            ], "readonly");
            const store = transaction.objectStore("experiments");
            const request = store.get(id);
            request.onerror = ()=>reject(request.error);
            request.onsuccess = ()=>resolve(request.result || null);
        });
    }
    async getAllExperiments() {
        if (!this.db) await this.init();
        return new Promise((resolve, reject)=>{
            const transaction = this.db.transaction([
                "experiments"
            ], "readonly");
            const store = transaction.objectStore("experiments");
            const request = store.getAll();
            request.onerror = ()=>reject(request.error);
            request.onsuccess = ()=>resolve(request.result || []);
        });
    }
    async deleteExperiment(id) {
        if (!this.db) await this.init();
        return new Promise((resolve, reject)=>{
            const transaction = this.db.transaction([
                "experiments"
            ], "readwrite");
            const store = transaction.objectStore("experiments");
            const request = store.delete(id);
            request.onerror = ()=>reject(request.error);
            request.onsuccess = ()=>resolve();
        });
    }
    async storeSharedLink(link) {
        if (!this.db) await this.init();
        return new Promise((resolve, reject)=>{
            const transaction = this.db.transaction([
                "sharedLinks"
            ], "readwrite");
            const store = transaction.objectStore("sharedLinks");
            const request = store.put(link);
            request.onerror = ()=>reject(request.error);
            request.onsuccess = ()=>resolve();
        });
    }
    async getSharedLinksForExperiment(experimentId) {
        if (!this.db) await this.init();
        return new Promise((resolve, reject)=>{
            const transaction = this.db.transaction([
                "sharedLinks"
            ], "readonly");
            const store = transaction.objectStore("sharedLinks");
            const index = store.index("experimentId");
            const request = index.getAll(experimentId);
            request.onerror = ()=>reject(request.error);
            request.onsuccess = ()=>resolve(request.result || []);
        });
    }
    async deleteSharedLink(id) {
        if (!this.db) await this.init();
        return new Promise((resolve, reject)=>{
            const transaction = this.db.transaction([
                "sharedLinks"
            ], "readwrite");
            const store = transaction.objectStore("sharedLinks");
            const request = store.delete(id);
            request.onerror = ()=>reject(request.error);
            request.onsuccess = ()=>resolve();
        });
    }
    async createVersion(experimentId, versionData) {
        if (!this.db) await this.init();
        const versionId = `${experimentId}_v${Date.now()}`;
        const version = {
            id: versionId,
            experimentId,
            createdAt: new Date().toISOString(),
            data: versionData,
            metadata: {
                size: JSON.stringify(versionData).length,
                changeCount: this.calculateChangeCount(versionData)
            }
        };
        return new Promise((resolve, reject)=>{
            const transaction = this.db.transaction([
                "versions"
            ], "readwrite");
            const store = transaction.objectStore("versions");
            const request = store.put(version);
            request.onerror = ()=>reject(request.error);
            request.onsuccess = ()=>resolve(versionId);
        });
    }
    async getVersionsForExperiment(experimentId) {
        if (!this.db) await this.init();
        return new Promise((resolve, reject)=>{
            const transaction = this.db.transaction([
                "versions"
            ], "readonly");
            const store = transaction.objectStore("versions");
            const index = store.index("experimentId");
            const request = index.getAll(experimentId);
            request.onerror = ()=>reject(request.error);
            request.onsuccess = ()=>resolve(request.result || []);
        });
    }
    async addChangeLogEntry(experimentId, change) {
        if (!this.db) await this.init();
        const entry = {
            id: `${experimentId}_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
            experimentId,
            timestamp: new Date().toISOString(),
            ...change
        };
        return new Promise((resolve, reject)=>{
            const transaction = this.db.transaction([
                "changelog"
            ], "readwrite");
            const store = transaction.objectStore("changelog");
            const request = store.put(entry);
            request.onerror = ()=>reject(request.error);
            request.onsuccess = ()=>resolve();
        });
    }
    async getChangeLogForExperiment(experimentId) {
        if (!this.db) await this.init();
        return new Promise((resolve, reject)=>{
            const transaction = this.db.transaction([
                "changelog"
            ], "readonly");
            const store = transaction.objectStore("changelog");
            const index = store.index("experimentId");
            const request = index.getAll(experimentId);
            request.onerror = ()=>reject(request.error);
            request.onsuccess = ()=>{
                const results = request.result || [];
                // Sort by timestamp descending
                results.sort((a, b)=>new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime());
                resolve(results);
            };
        });
    }
    async clearExpiredLinks() {
        if (!this.db) await this.init();
        const now = new Date().toISOString();
        return new Promise((resolve, reject)=>{
            const transaction = this.db.transaction([
                "sharedLinks"
            ], "readwrite");
            const store = transaction.objectStore("sharedLinks");
            const index = store.index("expiresAt");
            const request = index.openCursor();
            request.onerror = ()=>reject(request.error);
            request.onsuccess = (event)=>{
                const cursor = event.target.result;
                if (cursor) {
                    const link = cursor.value;
                    if (link.expiresAt && link.expiresAt < now) {
                        cursor.delete();
                    }
                    cursor.continue();
                } else {
                    resolve();
                }
            };
        });
    }
    calculateChangeCount(data) {
        // Simple heuristic for counting significant changes
        const stringified = JSON.stringify(data);
        return stringified.split(/[,\[\]{}]/).length;
    }
    async getStorageUsage() {
        if ("storage" in navigator && "estimate" in navigator.storage) {
            const estimate = await navigator.storage.estimate();
            return {
                used: estimate.usage || 0,
                quota: estimate.quota || 0
            };
        }
        return {
            used: 0,
            quota: 0
        };
    }
    async cleanup() {
        // Clean up expired links
        await this.clearExpiredLinks();
        // Clean up old versions (keep only last 10 per experiment)
        const experiments = await this.getAllExperiments();
        for (const experiment of experiments){
            const versions = await this.getVersionsForExperiment(experiment.id);
            if (versions.length > 10) {
                versions.sort((a, b)=>new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());
                const toDelete = versions.slice(10);
                const transaction = this.db.transaction([
                    "versions"
                ], "readwrite");
                const store = transaction.objectStore("versions");
                for (const version of toDelete){
                    store.delete(version.id);
                }
            }
        }
    }
    constructor(){
        this.db = null;
        this.dbName = "FreeAgenticsExperiments";
        this.version = 1;
    }
}
class IndexedDBStorage {
    constructor(dbName, version, options){
        this.db = null;
        this.dbName = dbName;
        this.version = version;
        this.options = options || {};
    }
    async init() {
        return new Promise((resolve, reject)=>{
            const request = indexedDB.open(this.dbName, this.version);
            request.onerror = ()=>reject(request.error);
            request.onsuccess = ()=>{
                this.db = request.result;
                resolve();
            };
            request.onupgradeneeded = (event)=>{
                const db = event.target.result;
                // Create default object stores
                if (!db.objectStoreNames.contains("data")) {
                    db.createObjectStore("data", {
                        keyPath: "id"
                    });
                }
            };
        });
    }
    async store(storeName, data) {
        if (!this.db) await this.init();
        return new Promise((resolve, reject)=>{
            const transaction = this.db.transaction([
                storeName
            ], "readwrite");
            const store = transaction.objectStore(storeName);
            const request = store.add(data);
            request.onerror = ()=>{
                if (request.error?.name === "QuotaExceededError") {
                    reject(new Error("Storage quota exceeded"));
                } else {
                    reject(request.error);
                }
            };
            request.onsuccess = ()=>resolve(data.id || request.result);
        });
    }
    async get(storeName, key, options) {
        if (!this.db) await this.init();
        return new Promise((resolve, reject)=>{
            const transaction = this.db.transaction([
                storeName
            ], "readonly");
            const store = transaction.objectStore(storeName);
            const request = store.get(key);
            request.onerror = ()=>reject(request.error);
            request.onsuccess = ()=>{
                const result = request.result;
                // Check for expiration
                if (result && result.expiresAt && result.expiresAt < Date.now()) {
                    this.delete(storeName, key);
                    resolve(null);
                    return;
                }
                // Check permissions if provided
                if (options?.context && result?.permissions) {
                    const userRoles = options.context.roles || [];
                    const requiredPermissions = result.permissions || [];
                    const hasPermission = requiredPermissions.some((perm)=>userRoles.some((role)=>perm.includes(role)));
                    if (!hasPermission) {
                        reject(new Error("Access denied"));
                        return;
                    }
                }
                resolve(result || null);
            };
        });
    }
    async delete(storeName, key) {
        if (!this.db) await this.init();
        return new Promise((resolve, reject)=>{
            const transaction = this.db.transaction([
                storeName
            ], "readwrite");
            const store = transaction.objectStore(storeName);
            const request = store.delete(key);
            request.onerror = ()=>reject(request.error);
            request.onsuccess = ()=>resolve();
        });
    }
    async batchStore(storeName, items) {
        const results = [];
        for (const item of items){
            try {
                const result = await this.store(storeName, item);
                results.push(result);
            } catch (error) {
                results.push("error");
            }
        }
        return results;
    }
    async storeSecure(storeName, data) {
        // Mock encryption by adding encrypted flag
        const encryptedData = {
            ...data,
            encrypted: true,
            data: btoa(JSON.stringify(data))
        };
        return this.store(storeName, encryptedData);
    }
}
const experimentStorage = new ExperimentStorageDB();
// Initialize on module load
experimentStorage.init().catch(console.error);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0aGV3bW9yb25leS9idWlsZHMvRnJlZUFnZW50aWNzL3dlYi9saWIvc3RvcmFnZS9pbmRleGVkZGItc3RvcmFnZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbnRlcmZhY2UgRXhwZXJpbWVudFN0YXRlIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgY3JlYXRlZEJ5OiBzdHJpbmc7XG4gIGNvbXBvbmVudHM6IHN0cmluZ1tdO1xuICBzdGF0ZURhdGE6IGFueTtcbiAgbWV0YWRhdGE6IHtcbiAgICB0b3RhbEFnZW50czogbnVtYmVyO1xuICAgIHRvdGFsQ29udmVyc2F0aW9uczogbnVtYmVyO1xuICAgIHRvdGFsTWVzc2FnZXM6IG51bWJlcjtcbiAgICB0b3RhbEtub3dsZWRnZU5vZGVzOiBudW1iZXI7XG4gICAgZmlsZVNpemVNYjogbnVtYmVyO1xuICB9O1xufVxuXG5pbnRlcmZhY2UgU2hhcmVkTGluayB7XG4gIGlkOiBzdHJpbmc7XG4gIGV4cGVyaW1lbnRJZDogc3RyaW5nO1xuICBhY2Nlc3NMZXZlbDogXCJ2aWV3XCIgfCBcImNvbW1lbnRcIiB8IFwiZWRpdFwiO1xuICBleHBpcmVzQXQ6IHN0cmluZyB8IG51bGw7XG4gIHJlcXVpcmVzQXV0aDogYm9vbGVhbjtcbiAgaXNBY3RpdmU6IGJvb2xlYW47XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xuICBjcmVhdGVkQnk6IHN0cmluZztcbn1cblxuY2xhc3MgRXhwZXJpbWVudFN0b3JhZ2VEQiB7XG4gIHByaXZhdGUgZGI6IElEQkRhdGFiYXNlIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcmVhZG9ubHkgZGJOYW1lID0gXCJGcmVlQWdlbnRpY3NFeHBlcmltZW50c1wiO1xuICBwcml2YXRlIHJlYWRvbmx5IHZlcnNpb24gPSAxO1xuXG4gIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIub3Blbih0aGlzLmRiTmFtZSwgdGhpcy52ZXJzaW9uKTtcblxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4gcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuZGIgPSByZXF1ZXN0LnJlc3VsdDtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfTtcblxuICAgICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgZGIgPSAoZXZlbnQudGFyZ2V0IGFzIElEQk9wZW5EQlJlcXVlc3QpLnJlc3VsdDtcblxuICAgICAgICAvLyBDcmVhdGUgZXhwZXJpbWVudHMgc3RvcmVcbiAgICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKFwiZXhwZXJpbWVudHNcIikpIHtcbiAgICAgICAgICBjb25zdCBleHBlcmltZW50c1N0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoXCJleHBlcmltZW50c1wiLCB7XG4gICAgICAgICAgICBrZXlQYXRoOiBcImlkXCIsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZXhwZXJpbWVudHNTdG9yZS5jcmVhdGVJbmRleChcImNyZWF0ZWRBdFwiLCBcImNyZWF0ZWRBdFwiLCB7XG4gICAgICAgICAgICB1bmlxdWU6IGZhbHNlLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGV4cGVyaW1lbnRzU3RvcmUuY3JlYXRlSW5kZXgoXCJjcmVhdGVkQnlcIiwgXCJjcmVhdGVkQnlcIiwge1xuICAgICAgICAgICAgdW5pcXVlOiBmYWxzZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBleHBlcmltZW50c1N0b3JlLmNyZWF0ZUluZGV4KFwibmFtZVwiLCBcIm5hbWVcIiwgeyB1bmlxdWU6IGZhbHNlIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIHNoYXJlZCBsaW5rcyBzdG9yZVxuICAgICAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoXCJzaGFyZWRMaW5rc1wiKSkge1xuICAgICAgICAgIGNvbnN0IGxpbmtzU3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZShcInNoYXJlZExpbmtzXCIsIHtcbiAgICAgICAgICAgIGtleVBhdGg6IFwiaWRcIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBsaW5rc1N0b3JlLmNyZWF0ZUluZGV4KFwiZXhwZXJpbWVudElkXCIsIFwiZXhwZXJpbWVudElkXCIsIHtcbiAgICAgICAgICAgIHVuaXF1ZTogZmFsc2UsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbGlua3NTdG9yZS5jcmVhdGVJbmRleChcImNyZWF0ZWRCeVwiLCBcImNyZWF0ZWRCeVwiLCB7IHVuaXF1ZTogZmFsc2UgfSk7XG4gICAgICAgICAgbGlua3NTdG9yZS5jcmVhdGVJbmRleChcImV4cGlyZXNBdFwiLCBcImV4cGlyZXNBdFwiLCB7IHVuaXF1ZTogZmFsc2UgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgdmVyc2lvbnMgc3RvcmUgZm9yIGNoYW5nZSB0cmFja2luZ1xuICAgICAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoXCJ2ZXJzaW9uc1wiKSkge1xuICAgICAgICAgIGNvbnN0IHZlcnNpb25zU3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZShcInZlcnNpb25zXCIsIHtcbiAgICAgICAgICAgIGtleVBhdGg6IFwiaWRcIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2ZXJzaW9uc1N0b3JlLmNyZWF0ZUluZGV4KFwiZXhwZXJpbWVudElkXCIsIFwiZXhwZXJpbWVudElkXCIsIHtcbiAgICAgICAgICAgIHVuaXF1ZTogZmFsc2UsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmVyc2lvbnNTdG9yZS5jcmVhdGVJbmRleChcImNyZWF0ZWRBdFwiLCBcImNyZWF0ZWRBdFwiLCB7XG4gICAgICAgICAgICB1bmlxdWU6IGZhbHNlLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIGNoYW5nZSBsb2cgc3RvcmVcbiAgICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKFwiY2hhbmdlbG9nXCIpKSB7XG4gICAgICAgICAgY29uc3QgY2hhbmdlbG9nU3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZShcImNoYW5nZWxvZ1wiLCB7XG4gICAgICAgICAgICBrZXlQYXRoOiBcImlkXCIsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY2hhbmdlbG9nU3RvcmUuY3JlYXRlSW5kZXgoXCJleHBlcmltZW50SWRcIiwgXCJleHBlcmltZW50SWRcIiwge1xuICAgICAgICAgICAgdW5pcXVlOiBmYWxzZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjaGFuZ2Vsb2dTdG9yZS5jcmVhdGVJbmRleChcInRpbWVzdGFtcFwiLCBcInRpbWVzdGFtcFwiLCB7XG4gICAgICAgICAgICB1bmlxdWU6IGZhbHNlLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgc3RvcmVFeHBlcmltZW50KGV4cGVyaW1lbnQ6IEV4cGVyaW1lbnRTdGF0ZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5kYikgYXdhaXQgdGhpcy5pbml0KCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0aGlzLmRiIS50cmFuc2FjdGlvbihbXCJleHBlcmltZW50c1wiXSwgXCJyZWFkd3JpdGVcIik7XG4gICAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKFwiZXhwZXJpbWVudHNcIik7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5wdXQoZXhwZXJpbWVudCk7XG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVxdWVzdC5lcnJvcik7XG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGdldEV4cGVyaW1lbnQoaWQ6IHN0cmluZyk6IFByb21pc2U8RXhwZXJpbWVudFN0YXRlIHwgbnVsbD4ge1xuICAgIGlmICghdGhpcy5kYikgYXdhaXQgdGhpcy5pbml0KCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0aGlzLmRiIS50cmFuc2FjdGlvbihbXCJleHBlcmltZW50c1wiXSwgXCJyZWFkb25seVwiKTtcbiAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoXCJleHBlcmltZW50c1wiKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLmdldChpZCk7XG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVxdWVzdC5lcnJvcik7XG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUocmVxdWVzdC5yZXN1bHQgfHwgbnVsbCk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBnZXRBbGxFeHBlcmltZW50cygpOiBQcm9taXNlPEV4cGVyaW1lbnRTdGF0ZVtdPiB7XG4gICAgaWYgKCF0aGlzLmRiKSBhd2FpdCB0aGlzLmluaXQoKTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIhLnRyYW5zYWN0aW9uKFtcImV4cGVyaW1lbnRzXCJdLCBcInJlYWRvbmx5XCIpO1xuICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShcImV4cGVyaW1lbnRzXCIpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuZ2V0QWxsKCk7XG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVxdWVzdC5lcnJvcik7XG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUocmVxdWVzdC5yZXN1bHQgfHwgW10pO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZGVsZXRlRXhwZXJpbWVudChpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmRiKSBhd2FpdCB0aGlzLmluaXQoKTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIhLnRyYW5zYWN0aW9uKFtcImV4cGVyaW1lbnRzXCJdLCBcInJlYWR3cml0ZVwiKTtcbiAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoXCJleHBlcmltZW50c1wiKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLmRlbGV0ZShpZCk7XG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVxdWVzdC5lcnJvcik7XG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHN0b3JlU2hhcmVkTGluayhsaW5rOiBTaGFyZWRMaW5rKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmRiKSBhd2FpdCB0aGlzLmluaXQoKTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIhLnRyYW5zYWN0aW9uKFtcInNoYXJlZExpbmtzXCJdLCBcInJlYWR3cml0ZVwiKTtcbiAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoXCJzaGFyZWRMaW5rc1wiKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLnB1dChsaW5rKTtcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZ2V0U2hhcmVkTGlua3NGb3JFeHBlcmltZW50KFxuICAgIGV4cGVyaW1lbnRJZDogc3RyaW5nLFxuICApOiBQcm9taXNlPFNoYXJlZExpbmtbXT4ge1xuICAgIGlmICghdGhpcy5kYikgYXdhaXQgdGhpcy5pbml0KCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0aGlzLmRiIS50cmFuc2FjdGlvbihbXCJzaGFyZWRMaW5rc1wiXSwgXCJyZWFkb25seVwiKTtcbiAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoXCJzaGFyZWRMaW5rc1wiKTtcbiAgICAgIGNvbnN0IGluZGV4ID0gc3RvcmUuaW5kZXgoXCJleHBlcmltZW50SWRcIik7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleC5nZXRBbGwoZXhwZXJpbWVudElkKTtcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCB8fCBbXSk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBkZWxldGVTaGFyZWRMaW5rKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIGF3YWl0IHRoaXMuaW5pdCgpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYiEudHJhbnNhY3Rpb24oW1wic2hhcmVkTGlua3NcIl0sIFwicmVhZHdyaXRlXCIpO1xuICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShcInNoYXJlZExpbmtzXCIpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuZGVsZXRlKGlkKTtcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlVmVyc2lvbihleHBlcmltZW50SWQ6IHN0cmluZywgdmVyc2lvbkRhdGE6IGFueSk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgaWYgKCF0aGlzLmRiKSBhd2FpdCB0aGlzLmluaXQoKTtcblxuICAgIGNvbnN0IHZlcnNpb25JZCA9IGAke2V4cGVyaW1lbnRJZH1fdiR7RGF0ZS5ub3coKX1gO1xuICAgIGNvbnN0IHZlcnNpb24gPSB7XG4gICAgICBpZDogdmVyc2lvbklkLFxuICAgICAgZXhwZXJpbWVudElkLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBkYXRhOiB2ZXJzaW9uRGF0YSxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIHNpemU6IEpTT04uc3RyaW5naWZ5KHZlcnNpb25EYXRhKS5sZW5ndGgsXG4gICAgICAgIGNoYW5nZUNvdW50OiB0aGlzLmNhbGN1bGF0ZUNoYW5nZUNvdW50KHZlcnNpb25EYXRhKSxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIhLnRyYW5zYWN0aW9uKFtcInZlcnNpb25zXCJdLCBcInJlYWR3cml0ZVwiKTtcbiAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoXCJ2ZXJzaW9uc1wiKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLnB1dCh2ZXJzaW9uKTtcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSh2ZXJzaW9uSWQpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZ2V0VmVyc2lvbnNGb3JFeHBlcmltZW50KGV4cGVyaW1lbnRJZDogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIGlmICghdGhpcy5kYikgYXdhaXQgdGhpcy5pbml0KCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0aGlzLmRiIS50cmFuc2FjdGlvbihbXCJ2ZXJzaW9uc1wiXSwgXCJyZWFkb25seVwiKTtcbiAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoXCJ2ZXJzaW9uc1wiKTtcbiAgICAgIGNvbnN0IGluZGV4ID0gc3RvcmUuaW5kZXgoXCJleHBlcmltZW50SWRcIik7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleC5nZXRBbGwoZXhwZXJpbWVudElkKTtcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCB8fCBbXSk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBhZGRDaGFuZ2VMb2dFbnRyeShcbiAgICBleHBlcmltZW50SWQ6IHN0cmluZyxcbiAgICBjaGFuZ2U6IHtcbiAgICAgIGFjdGlvbjogc3RyaW5nO1xuICAgICAgY29tcG9uZW50OiBzdHJpbmc7XG4gICAgICBkZXRhaWxzOiBzdHJpbmc7XG4gICAgICB1c2VySWQ6IHN0cmluZztcbiAgICB9LFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIGF3YWl0IHRoaXMuaW5pdCgpO1xuXG4gICAgY29uc3QgZW50cnkgPSB7XG4gICAgICBpZDogYCR7ZXhwZXJpbWVudElkfV8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWAsXG4gICAgICBleHBlcmltZW50SWQsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIC4uLmNoYW5nZSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYiEudHJhbnNhY3Rpb24oW1wiY2hhbmdlbG9nXCJdLCBcInJlYWR3cml0ZVwiKTtcbiAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoXCJjaGFuZ2Vsb2dcIik7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5wdXQoZW50cnkpO1xuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4gcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBnZXRDaGFuZ2VMb2dGb3JFeHBlcmltZW50KGV4cGVyaW1lbnRJZDogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIGlmICghdGhpcy5kYikgYXdhaXQgdGhpcy5pbml0KCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0aGlzLmRiIS50cmFuc2FjdGlvbihbXCJjaGFuZ2Vsb2dcIl0sIFwicmVhZG9ubHlcIik7XG4gICAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKFwiY2hhbmdlbG9nXCIpO1xuICAgICAgY29uc3QgaW5kZXggPSBzdG9yZS5pbmRleChcImV4cGVyaW1lbnRJZFwiKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IGluZGV4LmdldEFsbChleHBlcmltZW50SWQpO1xuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4gcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSByZXF1ZXN0LnJlc3VsdCB8fCBbXTtcbiAgICAgICAgLy8gU29ydCBieSB0aW1lc3RhbXAgZGVzY2VuZGluZ1xuICAgICAgICByZXN1bHRzLnNvcnQoXG4gICAgICAgICAgKGEsIGIpID0+XG4gICAgICAgICAgICBuZXcgRGF0ZShiLnRpbWVzdGFtcCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYS50aW1lc3RhbXApLmdldFRpbWUoKSxcbiAgICAgICAgKTtcbiAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBjbGVhckV4cGlyZWRMaW5rcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZGIpIGF3YWl0IHRoaXMuaW5pdCgpO1xuXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYiEudHJhbnNhY3Rpb24oW1wic2hhcmVkTGlua3NcIl0sIFwicmVhZHdyaXRlXCIpO1xuICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShcInNoYXJlZExpbmtzXCIpO1xuICAgICAgY29uc3QgaW5kZXggPSBzdG9yZS5pbmRleChcImV4cGlyZXNBdFwiKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IGluZGV4Lm9wZW5DdXJzb3IoKTtcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnNvciA9IChldmVudC50YXJnZXQgYXMgSURCUmVxdWVzdCkucmVzdWx0O1xuICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgY29uc3QgbGluayA9IGN1cnNvci52YWx1ZSBhcyBTaGFyZWRMaW5rO1xuICAgICAgICAgIGlmIChsaW5rLmV4cGlyZXNBdCAmJiBsaW5rLmV4cGlyZXNBdCA8IG5vdykge1xuICAgICAgICAgICAgY3Vyc29yLmRlbGV0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZUNoYW5nZUNvdW50KGRhdGE6IGFueSk6IG51bWJlciB7XG4gICAgLy8gU2ltcGxlIGhldXJpc3RpYyBmb3IgY291bnRpbmcgc2lnbmlmaWNhbnQgY2hhbmdlc1xuICAgIGNvbnN0IHN0cmluZ2lmaWVkID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgcmV0dXJuIHN0cmluZ2lmaWVkLnNwbGl0KC9bLFxcW1xcXXt9XS8pLmxlbmd0aDtcbiAgfVxuXG4gIGFzeW5jIGdldFN0b3JhZ2VVc2FnZSgpOiBQcm9taXNlPHsgdXNlZDogbnVtYmVyOyBxdW90YTogbnVtYmVyIH0+IHtcbiAgICBpZiAoXCJzdG9yYWdlXCIgaW4gbmF2aWdhdG9yICYmIFwiZXN0aW1hdGVcIiBpbiBuYXZpZ2F0b3Iuc3RvcmFnZSkge1xuICAgICAgY29uc3QgZXN0aW1hdGUgPSBhd2FpdCBuYXZpZ2F0b3Iuc3RvcmFnZS5lc3RpbWF0ZSgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXNlZDogZXN0aW1hdGUudXNhZ2UgfHwgMCxcbiAgICAgICAgcXVvdGE6IGVzdGltYXRlLnF1b3RhIHx8IDAsXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyB1c2VkOiAwLCBxdW90YTogMCB9O1xuICB9XG5cbiAgYXN5bmMgY2xlYW51cCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBDbGVhbiB1cCBleHBpcmVkIGxpbmtzXG4gICAgYXdhaXQgdGhpcy5jbGVhckV4cGlyZWRMaW5rcygpO1xuXG4gICAgLy8gQ2xlYW4gdXAgb2xkIHZlcnNpb25zIChrZWVwIG9ubHkgbGFzdCAxMCBwZXIgZXhwZXJpbWVudClcbiAgICBjb25zdCBleHBlcmltZW50cyA9IGF3YWl0IHRoaXMuZ2V0QWxsRXhwZXJpbWVudHMoKTtcbiAgICBmb3IgKGNvbnN0IGV4cGVyaW1lbnQgb2YgZXhwZXJpbWVudHMpIHtcbiAgICAgIGNvbnN0IHZlcnNpb25zID0gYXdhaXQgdGhpcy5nZXRWZXJzaW9uc0ZvckV4cGVyaW1lbnQoZXhwZXJpbWVudC5pZCk7XG4gICAgICBpZiAodmVyc2lvbnMubGVuZ3RoID4gMTApIHtcbiAgICAgICAgdmVyc2lvbnMuc29ydChcbiAgICAgICAgICAoYSwgYikgPT5cbiAgICAgICAgICAgIG5ldyBEYXRlKGIuY3JlYXRlZEF0KS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLmNyZWF0ZWRBdCkuZ2V0VGltZSgpLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB0b0RlbGV0ZSA9IHZlcnNpb25zLnNsaWNlKDEwKTtcblxuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIhLnRyYW5zYWN0aW9uKFtcInZlcnNpb25zXCJdLCBcInJlYWR3cml0ZVwiKTtcbiAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShcInZlcnNpb25zXCIpO1xuXG4gICAgICAgIGZvciAoY29uc3QgdmVyc2lvbiBvZiB0b0RlbGV0ZSkge1xuICAgICAgICAgIHN0b3JlLmRlbGV0ZSh2ZXJzaW9uLmlkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBHZW5lcmljIEluZGV4ZWREQiBTdG9yYWdlIGNsYXNzIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5leHBvcnQgY2xhc3MgSW5kZXhlZERCU3RvcmFnZSB7XG4gIHByaXZhdGUgZGI6IElEQkRhdGFiYXNlIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcmVhZG9ubHkgZGJOYW1lOiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgdmVyc2lvbjogbnVtYmVyO1xuICBwcml2YXRlIHJlYWRvbmx5IG9wdGlvbnM6IGFueTtcblxuICBjb25zdHJ1Y3RvcihkYk5hbWU6IHN0cmluZywgdmVyc2lvbjogbnVtYmVyLCBvcHRpb25zPzogYW55KSB7XG4gICAgdGhpcy5kYk5hbWUgPSBkYk5hbWU7XG4gICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB9XG5cbiAgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKHRoaXMuZGJOYW1lLCB0aGlzLnZlcnNpb24pO1xuXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVxdWVzdC5lcnJvcik7XG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5kYiA9IHJlcXVlc3QucmVzdWx0O1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBkYiA9IChldmVudC50YXJnZXQgYXMgSURCT3BlbkRCUmVxdWVzdCkucmVzdWx0O1xuXG4gICAgICAgIC8vIENyZWF0ZSBkZWZhdWx0IG9iamVjdCBzdG9yZXNcbiAgICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKFwiZGF0YVwiKSkge1xuICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKFwiZGF0YVwiLCB7IGtleVBhdGg6IFwiaWRcIiB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHN0b3JlKHN0b3JlTmFtZTogc3RyaW5nLCBkYXRhOiBhbnkpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGlmICghdGhpcy5kYikgYXdhaXQgdGhpcy5pbml0KCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0aGlzLmRiIS50cmFuc2FjdGlvbihbc3RvcmVOYW1lXSwgXCJyZWFkd3JpdGVcIik7XG4gICAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5hZGQoZGF0YSk7XG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIGlmIChyZXF1ZXN0LmVycm9yPy5uYW1lID09PSBcIlF1b3RhRXhjZWVkZWRFcnJvclwiKSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlN0b3JhZ2UgcXVvdGEgZXhjZWVkZWRcIikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZShkYXRhLmlkIHx8IHJlcXVlc3QucmVzdWx0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGdldChzdG9yZU5hbWU6IHN0cmluZywga2V5OiBzdHJpbmcsIG9wdGlvbnM/OiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGlmICghdGhpcy5kYikgYXdhaXQgdGhpcy5pbml0KCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0aGlzLmRiIS50cmFuc2FjdGlvbihbc3RvcmVOYW1lXSwgXCJyZWFkb25seVwiKTtcbiAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLmdldChrZXkpO1xuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4gcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlcXVlc3QucmVzdWx0O1xuXG4gICAgICAgIC8vIENoZWNrIGZvciBleHBpcmF0aW9uXG4gICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LmV4cGlyZXNBdCAmJiByZXN1bHQuZXhwaXJlc0F0IDwgRGF0ZS5ub3coKSkge1xuICAgICAgICAgIHRoaXMuZGVsZXRlKHN0b3JlTmFtZSwga2V5KTtcbiAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIHBlcm1pc3Npb25zIGlmIHByb3ZpZGVkXG4gICAgICAgIGlmIChvcHRpb25zPy5jb250ZXh0ICYmIHJlc3VsdD8ucGVybWlzc2lvbnMpIHtcbiAgICAgICAgICBjb25zdCB1c2VyUm9sZXMgPSBvcHRpb25zLmNvbnRleHQucm9sZXMgfHwgW107XG4gICAgICAgICAgY29uc3QgcmVxdWlyZWRQZXJtaXNzaW9ucyA9IHJlc3VsdC5wZXJtaXNzaW9ucyB8fCBbXTtcbiAgICAgICAgICBjb25zdCBoYXNQZXJtaXNzaW9uID0gcmVxdWlyZWRQZXJtaXNzaW9ucy5zb21lKChwZXJtOiBzdHJpbmcpID0+XG4gICAgICAgICAgICB1c2VyUm9sZXMuc29tZSgocm9sZTogc3RyaW5nKSA9PiBwZXJtLmluY2x1ZGVzKHJvbGUpKSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKCFoYXNQZXJtaXNzaW9uKSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiQWNjZXNzIGRlbmllZFwiKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZShyZXN1bHQgfHwgbnVsbCk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZGVsZXRlKHN0b3JlTmFtZTogc3RyaW5nLCBrZXk6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5kYikgYXdhaXQgdGhpcy5pbml0KCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0aGlzLmRiIS50cmFuc2FjdGlvbihbc3RvcmVOYW1lXSwgXCJyZWFkd3JpdGVcIik7XG4gICAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5kZWxldGUoa2V5KTtcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgYmF0Y2hTdG9yZShzdG9yZU5hbWU6IHN0cmluZywgaXRlbXM6IGFueVtdKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIGNvbnN0IHJlc3VsdHM6IHN0cmluZ1tdID0gW107XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnN0b3JlKHN0b3JlTmFtZSwgaXRlbSk7XG4gICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKFwiZXJyb3JcIik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgYXN5bmMgc3RvcmVTZWN1cmUoc3RvcmVOYW1lOiBzdHJpbmcsIGRhdGE6IGFueSk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgLy8gTW9jayBlbmNyeXB0aW9uIGJ5IGFkZGluZyBlbmNyeXB0ZWQgZmxhZ1xuICAgIGNvbnN0IGVuY3J5cHRlZERhdGEgPSB7XG4gICAgICAuLi5kYXRhLFxuICAgICAgZW5jcnlwdGVkOiB0cnVlLFxuICAgICAgZGF0YTogYnRvYShKU09OLnN0cmluZ2lmeShkYXRhKSksIC8vIFNpbXBsZSBiYXNlNjQgXCJlbmNyeXB0aW9uXCJcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXMuc3RvcmUoc3RvcmVOYW1lLCBlbmNyeXB0ZWREYXRhKTtcbiAgfVxufVxuXG4vLyBTaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBleHBlcmltZW50U3RvcmFnZSA9IG5ldyBFeHBlcmltZW50U3RvcmFnZURCKCk7XG5cbi8vIEluaXRpYWxpemUgb24gbW9kdWxlIGxvYWRcbmV4cGVyaW1lbnRTdG9yYWdlLmluaXQoKS5jYXRjaChjb25zb2xlLmVycm9yKTtcblxuZXhwb3J0IHR5cGUgeyBFeHBlcmltZW50U3RhdGUsIFNoYXJlZExpbmsgfTtcbiJdLCJuYW1lcyI6WyJJbmRleGVkREJTdG9yYWdlIiwiZXhwZXJpbWVudFN0b3JhZ2UiLCJFeHBlcmltZW50U3RvcmFnZURCIiwiaW5pdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVxdWVzdCIsImluZGV4ZWREQiIsIm9wZW4iLCJkYk5hbWUiLCJ2ZXJzaW9uIiwib25lcnJvciIsImVycm9yIiwib25zdWNjZXNzIiwiZGIiLCJyZXN1bHQiLCJvbnVwZ3JhZGVuZWVkZWQiLCJldmVudCIsInRhcmdldCIsIm9iamVjdFN0b3JlTmFtZXMiLCJjb250YWlucyIsImV4cGVyaW1lbnRzU3RvcmUiLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJjcmVhdGVJbmRleCIsInVuaXF1ZSIsImxpbmtzU3RvcmUiLCJ2ZXJzaW9uc1N0b3JlIiwiY2hhbmdlbG9nU3RvcmUiLCJzdG9yZUV4cGVyaW1lbnQiLCJleHBlcmltZW50IiwidHJhbnNhY3Rpb24iLCJzdG9yZSIsIm9iamVjdFN0b3JlIiwicHV0IiwiZ2V0RXhwZXJpbWVudCIsImlkIiwiZ2V0IiwiZ2V0QWxsRXhwZXJpbWVudHMiLCJnZXRBbGwiLCJkZWxldGVFeHBlcmltZW50IiwiZGVsZXRlIiwic3RvcmVTaGFyZWRMaW5rIiwibGluayIsImdldFNoYXJlZExpbmtzRm9yRXhwZXJpbWVudCIsImV4cGVyaW1lbnRJZCIsImluZGV4IiwiZGVsZXRlU2hhcmVkTGluayIsImNyZWF0ZVZlcnNpb24iLCJ2ZXJzaW9uRGF0YSIsInZlcnNpb25JZCIsIkRhdGUiLCJub3ciLCJjcmVhdGVkQXQiLCJ0b0lTT1N0cmluZyIsImRhdGEiLCJtZXRhZGF0YSIsInNpemUiLCJKU09OIiwic3RyaW5naWZ5IiwibGVuZ3RoIiwiY2hhbmdlQ291bnQiLCJjYWxjdWxhdGVDaGFuZ2VDb3VudCIsImdldFZlcnNpb25zRm9yRXhwZXJpbWVudCIsImFkZENoYW5nZUxvZ0VudHJ5IiwiY2hhbmdlIiwiZW50cnkiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJ0aW1lc3RhbXAiLCJnZXRDaGFuZ2VMb2dGb3JFeHBlcmltZW50IiwicmVzdWx0cyIsInNvcnQiLCJhIiwiYiIsImdldFRpbWUiLCJjbGVhckV4cGlyZWRMaW5rcyIsIm9wZW5DdXJzb3IiLCJjdXJzb3IiLCJ2YWx1ZSIsImV4cGlyZXNBdCIsImNvbnRpbnVlIiwic3RyaW5naWZpZWQiLCJzcGxpdCIsImdldFN0b3JhZ2VVc2FnZSIsIm5hdmlnYXRvciIsInN0b3JhZ2UiLCJlc3RpbWF0ZSIsInVzZWQiLCJ1c2FnZSIsInF1b3RhIiwiY2xlYW51cCIsImV4cGVyaW1lbnRzIiwidmVyc2lvbnMiLCJ0b0RlbGV0ZSIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJvcHRpb25zIiwic3RvcmVOYW1lIiwiYWRkIiwibmFtZSIsIkVycm9yIiwia2V5IiwiY29udGV4dCIsInBlcm1pc3Npb25zIiwidXNlclJvbGVzIiwicm9sZXMiLCJyZXF1aXJlZFBlcm1pc3Npb25zIiwiaGFzUGVybWlzc2lvbiIsInNvbWUiLCJwZXJtIiwicm9sZSIsImluY2x1ZGVzIiwiYmF0Y2hTdG9yZSIsIml0ZW1zIiwiaXRlbSIsInB1c2giLCJzdG9yZVNlY3VyZSIsImVuY3J5cHRlZERhdGEiLCJlbmNyeXB0ZWQiLCJidG9hIiwiY2F0Y2giLCJjb25zb2xlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQW1XYUEsZ0JBQWdCO2VBQWhCQTs7SUFpSUFDLGlCQUFpQjtlQUFqQkE7OztBQXhjYixNQUFNQztJQUtKLE1BQU1DLE9BQXNCO1FBQzFCLE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxTQUFTQztZQUMzQixNQUFNQyxVQUFVQyxVQUFVQyxJQUFJLENBQUMsSUFBSSxDQUFDQyxNQUFNLEVBQUUsSUFBSSxDQUFDQyxPQUFPO1lBRXhESixRQUFRSyxPQUFPLEdBQUcsSUFBTU4sT0FBT0MsUUFBUU0sS0FBSztZQUM1Q04sUUFBUU8sU0FBUyxHQUFHO2dCQUNsQixJQUFJLENBQUNDLEVBQUUsR0FBR1IsUUFBUVMsTUFBTTtnQkFDeEJYO1lBQ0Y7WUFFQUUsUUFBUVUsZUFBZSxHQUFHLENBQUNDO2dCQUN6QixNQUFNSCxLQUFLLEFBQUNHLE1BQU1DLE1BQU0sQ0FBc0JILE1BQU07Z0JBRXBELDJCQUEyQjtnQkFDM0IsSUFBSSxDQUFDRCxHQUFHSyxnQkFBZ0IsQ0FBQ0MsUUFBUSxDQUFDLGdCQUFnQjtvQkFDaEQsTUFB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