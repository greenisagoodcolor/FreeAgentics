1a49de1dab29e9430d9966911ae3023c
/**
 * Phase 1: lib/llm-settings.ts Comprehensive Test Suite
 * Target: Complete LLM settings configuration
 * Goal: 100% statement coverage for settings and constants
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _llmsettings = require("../../lib/llm-settings");
describe("lib/llm-settings.ts - Complete Coverage", ()=>{
    describe("LLMSettings interface", ()=>{
        test("can create valid settings object", ()=>{
            const settings = {
                provider: "openai",
                model: "gpt-4o",
                temperature: 0.8,
                maxTokens: 2048,
                topP: 0.95,
                frequencyPenalty: 0.1,
                presencePenalty: 0.1,
                systemFingerprint: "test-fingerprint",
                apiKey: "sk-test-key",
                apiKeySessionId: "session-123",
                hasServerRef: true,
                maxAutonomousMessages: 5,
                conversationCooldown: 3000
            };
            expect(settings.provider).toBe("openai");
            expect(settings.model).toBe("gpt-4o");
            expect(settings.temperature).toBe(0.8);
            expect(settings.maxTokens).toBe(2048);
            expect(settings.topP).toBe(0.95);
            expect(settings.frequencyPenalty).toBe(0.1);
            expect(settings.presencePenalty).toBe(0.1);
            expect(settings.systemFingerprint).toBe("test-fingerprint");
            expect(settings.apiKey).toBe("sk-test-key");
            expect(settings.apiKeySessionId).toBe("session-123");
            expect(settings.hasServerRef).toBe(true);
            expect(settings.maxAutonomousMessages).toBe(5);
            expect(settings.conversationCooldown).toBe(3000);
        });
        test("supports all provider types", ()=>{
            const openaiSettings = {
                ..._llmsettings.defaultSettings,
                provider: "openai"
            };
            const anthropicSettings = {
                ..._llmsettings.defaultSettings,
                provider: "anthropic"
            };
            const openrouterSettings = {
                ..._llmsettings.defaultSettings,
                provider: "openrouter"
            };
            expect(openaiSettings.provider).toBe("openai");
            expect(anthropicSettings.provider).toBe("anthropic");
            expect(openrouterSettings.provider).toBe("openrouter");
        });
        test("allows optional fields", ()=>{
            const minimalSettings = {
                provider: "openai",
                model: "gpt-4o",
                temperature: 0.7,
                maxTokens: 1024,
                topP: 0.9,
                frequencyPenalty: 0,
                presencePenalty: 0
            };
            expect(minimalSettings.systemFingerprint).toBeUndefined();
            expect(minimalSettings.apiKey).toBeUndefined();
            expect(minimalSettings.apiKeySessionId).toBeUndefined();
            expect(minimalSettings.hasServerRef).toBeUndefined();
            expect(minimalSettings.maxAutonomousMessages).toBeUndefined();
            expect(minimalSettings.conversationCooldown).toBeUndefined();
        });
        test("allows boolean systemFingerprint", ()=>{
            const settingsWithBoolean = {
                ..._llmsettings.defaultSettings,
                systemFingerprint: true
            };
            const settingsWithString = {
                ..._llmsettings.defaultSettings,
                systemFingerprint: "custom-fingerprint"
            };
            expect(settingsWithBoolean.systemFingerprint).toBe(true);
            expect(settingsWithString.systemFingerprint).toBe("custom-fingerprint");
        });
    });
    describe("defaultSettings", ()=>{
        test("has correct default values", ()=>{
            expect(_llmsettings.defaultSettings.provider).toBe("openai");
            expect(_llmsettings.defaultSettings.model).toBe("gpt-4o");
            expect(_llmsettings.defaultSettings.temperature).toBe(0.7);
            expect(_llmsettings.defaultSettings.maxTokens).toBe(1024);
            expect(_llmsettings.defaultSettings.topP).toBe(0.9);
            expect(_llmsettings.defaultSettings.frequencyPenalty).toBe(0);
            expect(_llmsettings.defaultSettings.presencePenalty).toBe(0);
            expect(_llmsettings.defaultSettings.systemFingerprint).toBe(false);
            expect(_llmsettings.defaultSettings.hasServerRef).toBe(false);
            expect(_llmsettings.defaultSettings.maxAutonomousMessages).toBe(4);
            expect(_llmsettings.defaultSettings.conversationCooldown).toBe(5000);
        });
        test("does not include API keys by default", ()=>{
            expect(_llmsettings.defaultSettings.apiKey).toBeUndefined();
            expect(_llmsettings.defaultSettings.apiKeySessionId).toBeUndefined();
        });
        test("is a valid LLMSettings object", ()=>{
            const settings = _llmsettings.defaultSettings;
            expect(settings).toBeDefined();
            expect(typeof settings.provider).toBe("string");
            expect(typeof settings.model).toBe("string");
            expect(typeof settings.temperature).toBe("number");
        });
        test("can be used as base for custom settings", ()=>{
            const customSettings = {
                ..._llmsettings.defaultSettings,
                temperature: 0.9,
                maxTokens: 2048,
                provider: "anthropic",
                model: "claude-3-opus"
            };
            expect(customSettings.temperature).toBe(0.9);
            expect(customSettings.maxTokens).toBe(2048);
            expect(customSettings.provider).toBe("anthropic");
            expect(customSettings.model).toBe("claude-3-opus");
            // Other values should remain from defaults
            expect(customSettings.topP).toBe(0.9);
            expect(customSettings.frequencyPenalty).toBe(0);
        });
    });
    describe("clientDefaultSettings", ()=>{
        test("has correct client-side default values", ()=>{
            expect(_llmsettings.clientDefaultSettings.provider).toBe("openai");
            expect(_llmsettings.clientDefaultSettings.model).toBe("gpt-4o");
            expect(_llmsettings.clientDefaultSettings.temperature).toBe(0.7);
            expect(_llmsettings.clientDefaultSettings.maxTokens).toBe(1024);
            expect(_llmsettings.clientDefaultSettings.topP).toBe(0.9);
            expect(_llmsettings.clientDefaultSettings.frequencyPenalty).toBe(0);
            expect(_llmsettings.clientDefaultSettings.presencePenalty).toBe(0);
            expect(_llmsettings.clientDefaultSettings.systemFingerprint).toBe(false);
            expect(_llmsettings.clientDefaultSettings.maxAutonomousMessages).toBe(4);
            expect(_llmsettings.clientDefaultSettings.conversationCooldown).toBe(5000);
        });
        test("is a partial settings object", ()=>{
            const partialSettings = _llmsettings.clientDefaultSettings;
            expect(partialSettings).toBeDefined();
            // Should not include server-specific fields
            expect(partialSettings.hasServerRef).toBeUndefined();
            expect(partialSettings.apiKey).toBeUndefined();
            expect(partialSettings.apiKeySessionId).toBeUndefined();
        });
        test("matches defaultSettings for common fields", ()=>{
            const commonFields = [
                "provider",
                "model",
                "temperature",
                "maxTokens",
                "topP",
                "frequencyPenalty",
                "presencePenalty",
                "systemFingerprint",
                "maxAutonomousMessages",
                "conversationCooldown"
            ];
            commonFields.forEach((field)=>{
                if (field in _llmsettings.clientDefaultSettings) {
                    expect(_llmsettings.clientDefaultSettings[field]).toEqual(_llmsettings.defaultSettings[field]);
                }
            });
        });
    });
    describe("providerModels", ()=>{
        test("has models for all providers", ()=>{
            expect(_llmsettings.providerModels.openai).toBeDefined();
            expect(_llmsettings.providerModels.anthropic).toBeDefined();
            expect(_llmsettings.providerModels.openrouter).toBeDefined();
            expect(Array.isArray(_llmsettings.providerModels.openai)).toBe(true);
            expect(Array.isArray(_llmsettings.providerModels.anthropic)).toBe(true);
            expect(Array.isArray(_llmsettings.providerModels.openrouter)).toBe(true);
        });
        test("OpenAI models are correctly defined", ()=>{
            const openaiModels = _llmsettings.providerModels.openai;
            expect(openaiModels).toHaveLength(4);
            expect(openaiModels).toContainEqual({
                id: "gpt-4o",
                name: "GPT-4o"
            });
            expect(openaiModels).toContainEqual({
                id: "gpt-4o-mini",
                name: "GPT-4o Mini"
            });
            expect(openaiModels).toContainEqual({
                id: "gpt-4-turbo",
                name: "GPT-4 Turbo"
            });
            expect(openaiModels).toContainEqual({
                id: "gpt-3.5-turbo",
                name: "GPT-3.5 Turbo"
            });
            // Check structure
            openaiModels.forEach((model)=>{
                expect(model).toHaveProperty("id");
                expect(model).toHaveProperty("name");
                expect(typeof model.id).toBe("string");
                expect(typeof model.name).toBe("string");
            });
        });
        test("Anthropic models are correctly defined", ()=>{
            const anthropicModels = _llmsettings.providerModels.anthropic;
            expect(anthropicModels).toHaveLength(3);
            expect(anthropicModels).toContainEqual({
                id: "claude-3-5-sonnet-20241022",
                name: "Claude 3.5 Sonnet"
            });
            expect(anthropicModels).toContainEqual({
                id: "claude-3-opus-20240229",
                name: "Claude 3 Opus"
            });
            expect(anthropicModels).toContainEqual({
                id: "claude-3-haiku-20240307",
                name: "Claude 3 Haiku"
            });
            // Check structure
            anthropicModels.forEach((model)=>{
                expect(model).toHaveProperty("id");
                expect(model).toHaveProperty("name");
                expect(typeof model.id).toBe("string");
                expect(typeof model.name).toBe("string");
            });
        });
        test("OpenRouter models are correctly defined", ()=>{
            const openrouterModels = _llmsettings.providerModels.openrouter;
            expect(openrouterModels).toHaveLength(2);
            expect(openrouterModels).toContainEqual({
                id: "anthropic/claude-3-5-sonnet",
                name: "Claude 3.5 Sonnet (OpenRouter)"
            });
            expect(openrouterModels).toContainEqual({
                id: "openai/gpt-4o",
                name: "GPT-4o (OpenRouter)"
            });
            // Check structure
            openrouterModels.forEach((model)=>{
                expect(model).toHaveProperty("id");
                expect(model).toHaveProperty("name");
                expect(typeof model.id).toBe("string");
                expect(typeof model.name).toBe("string");
                // OpenRouter models should have provider prefix
                expect(model.id).toContain("/");
            });
        });
        test("can access models by provider dynamically", ()=>{
            const providers = [
                "openai",
                "anthropic",
                "openrouter"
            ];
            providers.forEach((provider)=>{
                const models = _llmsettings.providerModels[provider];
                expect(models).toBeDefined();
                expect(models.length).toBeGreaterThan(0);
            });
        });
        test("all model IDs are unique within provider", ()=>{
            Object.entries(_llmsettings.providerModels).forEach(([provider, models])=>{
                const ids = models.map((m)=>m.id);
                const uniqueIds = new Set(ids);
                expect(uniqueIds.size).toBe(ids.length);
            });
        });
        test("all model names are non-empty", ()=>{
            Object.entries(_llmsettings.providerModels).forEach(([provider, models])=>{
                models.forEach((model)=>{
                    expect(model.name).toBeTruthy();
                    expect(model.name.length).toBeGreaterThan(0);
                });
            });
        });
    });
    describe("Integration and usage patterns", ()=>{
        test("default model exists in provider models", ()=>{
            const defaultProvider = _llmsettings.defaultSettings.provider;
            const defaultModel = _llmsettings.defaultSettings.model;
            const availableModels = _llmsettings.providerModels[defaultProvider];
            const modelIds = availableModels.map((m)=>m.id);
            expect(modelIds).toContain(defaultModel);
        });
        test("can find model name by ID", ()=>{
            const findModelName = (provider, modelId)=>{
                const model = _llmsettings.providerModels[provider].find((m)=>m.id === modelId);
                return model?.name;
            };
            expect(findModelName("openai", "gpt-4o")).toBe("GPT-4o");
            expect(findModelName("anthropic", "claude-3-opus-20240229")).toBe("Claude 3 Opus");
            expect(findModelName("openrouter", "openai/gpt-4o")).toBe("GPT-4o (OpenRouter)");
        });
        test("settings can be serialized to JSON", ()=>{
            const settings = {
                ..._llmsettings.defaultSettings,
                apiKey: "test-key",
                apiKeySessionId: "test-session"
            };
            const json = JSON.stringify(settings);
            const parsed = JSON.parse(json);
            expect(parsed).toEqual(settings);
            expect(parsed.provider).toBe(settings.provider);
            expect(parsed.temperature).toBe(settings.temperature);
            expect(parsed.apiKey).toBe(settings.apiKey);
        });
        test("partial settings can be merged with defaults", ()=>{
            const userSettings = {
                temperature: 0.5,
                maxTokens: 500
            };
            const completeSettings = {
                ..._llmsettings.defaultSettings,
                ...userSettings
            };
            expect(completeSettings.temperature).toBe(0.5);
            expect(completeSettings.maxTokens).toBe(500);
            expect(completeSettings.provider).toBe("openai"); // from defaults
            expect(completeSettings.model).toBe("gpt-4o"); // from defaults
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0aGV3bW9yb25leS9idWlsZHMvRnJlZUFnZW50aWNzL3dlYi9fX3Rlc3RzX18vbGliL2xsbS1zZXR0aW5ncy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUGhhc2UgMTogbGliL2xsbS1zZXR0aW5ncy50cyBDb21wcmVoZW5zaXZlIFRlc3QgU3VpdGVcbiAqIFRhcmdldDogQ29tcGxldGUgTExNIHNldHRpbmdzIGNvbmZpZ3VyYXRpb25cbiAqIEdvYWw6IDEwMCUgc3RhdGVtZW50IGNvdmVyYWdlIGZvciBzZXR0aW5ncyBhbmQgY29uc3RhbnRzXG4gKi9cblxuaW1wb3J0IHtcbiAgZGVmYXVsdFNldHRpbmdzLFxuICBjbGllbnREZWZhdWx0U2V0dGluZ3MsXG4gIHByb3ZpZGVyTW9kZWxzLFxuICB0eXBlIExMTVNldHRpbmdzLFxufSBmcm9tIFwiLi4vLi4vbGliL2xsbS1zZXR0aW5nc1wiO1xuXG5kZXNjcmliZShcImxpYi9sbG0tc2V0dGluZ3MudHMgLSBDb21wbGV0ZSBDb3ZlcmFnZVwiLCAoKSA9PiB7XG4gIGRlc2NyaWJlKFwiTExNU2V0dGluZ3MgaW50ZXJmYWNlXCIsICgpID0+IHtcbiAgICB0ZXN0KFwiY2FuIGNyZWF0ZSB2YWxpZCBzZXR0aW5ncyBvYmplY3RcIiwgKCkgPT4ge1xuICAgICAgY29uc3Qgc2V0dGluZ3M6IExMTVNldHRpbmdzID0ge1xuICAgICAgICBwcm92aWRlcjogXCJvcGVuYWlcIixcbiAgICAgICAgbW9kZWw6IFwiZ3B0LTRvXCIsXG4gICAgICAgIHRlbXBlcmF0dXJlOiAwLjgsXG4gICAgICAgIG1heFRva2VuczogMjA0OCxcbiAgICAgICAgdG9wUDogMC45NSxcbiAgICAgICAgZnJlcXVlbmN5UGVuYWx0eTogMC4xLFxuICAgICAgICBwcmVzZW5jZVBlbmFsdHk6IDAuMSxcbiAgICAgICAgc3lzdGVtRmluZ2VycHJpbnQ6IFwidGVzdC1maW5nZXJwcmludFwiLFxuICAgICAgICBhcGlLZXk6IFwic2stdGVzdC1rZXlcIixcbiAgICAgICAgYXBpS2V5U2Vzc2lvbklkOiBcInNlc3Npb24tMTIzXCIsXG4gICAgICAgIGhhc1NlcnZlclJlZjogdHJ1ZSxcbiAgICAgICAgbWF4QXV0b25vbW91c01lc3NhZ2VzOiA1LFxuICAgICAgICBjb252ZXJzYXRpb25Db29sZG93bjogMzAwMCxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChzZXR0aW5ncy5wcm92aWRlcikudG9CZShcIm9wZW5haVwiKTtcbiAgICAgIGV4cGVjdChzZXR0aW5ncy5tb2RlbCkudG9CZShcImdwdC00b1wiKTtcbiAgICAgIGV4cGVjdChzZXR0aW5ncy50ZW1wZXJhdHVyZSkudG9CZSgwLjgpO1xuICAgICAgZXhwZWN0KHNldHRpbmdzLm1heFRva2VucykudG9CZSgyMDQ4KTtcbiAgICAgIGV4cGVjdChzZXR0aW5ncy50b3BQKS50b0JlKDAuOTUpO1xuICAgICAgZXhwZWN0KHNldHRpbmdzLmZyZXF1ZW5jeVBlbmFsdHkpLnRvQmUoMC4xKTtcbiAgICAgIGV4cGVjdChzZXR0aW5ncy5wcmVzZW5jZVBlbmFsdHkpLnRvQmUoMC4xKTtcbiAgICAgIGV4cGVjdChzZXR0aW5ncy5zeXN0ZW1GaW5nZXJwcmludCkudG9CZShcInRlc3QtZmluZ2VycHJpbnRcIik7XG4gICAgICBleHBlY3Qoc2V0dGluZ3MuYXBpS2V5KS50b0JlKFwic2stdGVzdC1rZXlcIik7XG4gICAgICBleHBlY3Qoc2V0dGluZ3MuYXBpS2V5U2Vzc2lvbklkKS50b0JlKFwic2Vzc2lvbi0xMjNcIik7XG4gICAgICBleHBlY3Qoc2V0dGluZ3MuaGFzU2VydmVyUmVmKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHNldHRpbmdzLm1heEF1dG9ub21vdXNNZXNzYWdlcykudG9CZSg1KTtcbiAgICAgIGV4cGVjdChzZXR0aW5ncy5jb252ZXJzYXRpb25Db29sZG93bikudG9CZSgzMDAwKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJzdXBwb3J0cyBhbGwgcHJvdmlkZXIgdHlwZXNcIiwgKCkgPT4ge1xuICAgICAgY29uc3Qgb3BlbmFpU2V0dGluZ3M6IExMTVNldHRpbmdzID0ge1xuICAgICAgICAuLi5kZWZhdWx0U2V0dGluZ3MsXG4gICAgICAgIHByb3ZpZGVyOiBcIm9wZW5haVwiLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGFudGhyb3BpY1NldHRpbmdzOiBMTE1TZXR0aW5ncyA9IHtcbiAgICAgICAgLi4uZGVmYXVsdFNldHRpbmdzLFxuICAgICAgICBwcm92aWRlcjogXCJhbnRocm9waWNcIixcbiAgICAgIH07XG4gICAgICBjb25zdCBvcGVucm91dGVyU2V0dGluZ3M6IExMTVNldHRpbmdzID0ge1xuICAgICAgICAuLi5kZWZhdWx0U2V0dGluZ3MsXG4gICAgICAgIHByb3ZpZGVyOiBcIm9wZW5yb3V0ZXJcIixcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChvcGVuYWlTZXR0aW5ncy5wcm92aWRlcikudG9CZShcIm9wZW5haVwiKTtcbiAgICAgIGV4cGVjdChhbnRocm9waWNTZXR0aW5ncy5wcm92aWRlcikudG9CZShcImFudGhyb3BpY1wiKTtcbiAgICAgIGV4cGVjdChvcGVucm91dGVyU2V0dGluZ3MucHJvdmlkZXIpLnRvQmUoXCJvcGVucm91dGVyXCIpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImFsbG93cyBvcHRpb25hbCBmaWVsZHNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgbWluaW1hbFNldHRpbmdzOiBMTE1TZXR0aW5ncyA9IHtcbiAgICAgICAgcHJvdmlkZXI6IFwib3BlbmFpXCIsXG4gICAgICAgIG1vZGVsOiBcImdwdC00b1wiLFxuICAgICAgICB0ZW1wZXJhdHVyZTogMC43LFxuICAgICAgICBtYXhUb2tlbnM6IDEwMjQsXG4gICAgICAgIHRvcFA6IDAuOSxcbiAgICAgICAgZnJlcXVlbmN5UGVuYWx0eTogMCxcbiAgICAgICAgcHJlc2VuY2VQZW5hbHR5OiAwLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KG1pbmltYWxTZXR0aW5ncy5zeXN0ZW1GaW5nZXJwcmludCkudG9CZVVuZGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KG1pbmltYWxTZXR0aW5ncy5hcGlLZXkpLnRvQmVVbmRlZmluZWQoKTtcbiAgICAgIGV4cGVjdChtaW5pbWFsU2V0dGluZ3MuYXBpS2V5U2Vzc2lvbklkKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgICBleHBlY3QobWluaW1hbFNldHRpbmdzLmhhc1NlcnZlclJlZikudG9CZVVuZGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KG1pbmltYWxTZXR0aW5ncy5tYXhBdXRvbm9tb3VzTWVzc2FnZXMpLnRvQmVVbmRlZmluZWQoKTtcbiAgICAgIGV4cGVjdChtaW5pbWFsU2V0dGluZ3MuY29udmVyc2F0aW9uQ29vbGRvd24pLnRvQmVVbmRlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJhbGxvd3MgYm9vbGVhbiBzeXN0ZW1GaW5nZXJwcmludFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZXR0aW5nc1dpdGhCb29sZWFuOiBMTE1TZXR0aW5ncyA9IHtcbiAgICAgICAgLi4uZGVmYXVsdFNldHRpbmdzLFxuICAgICAgICBzeXN0ZW1GaW5nZXJwcmludDogdHJ1ZSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNldHRpbmdzV2l0aFN0cmluZzogTExNU2V0dGluZ3MgPSB7XG4gICAgICAgIC4uLmRlZmF1bHRTZXR0aW5ncyxcbiAgICAgICAgc3lzdGVtRmluZ2VycHJpbnQ6IFwiY3VzdG9tLWZpbmdlcnByaW50XCIsXG4gICAgICB9O1xuXG4gICAgICBleHBlY3Qoc2V0dGluZ3NXaXRoQm9vbGVhbi5zeXN0ZW1GaW5nZXJwcmludCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChzZXR0aW5nc1dpdGhTdHJpbmcuc3lzdGVtRmluZ2VycHJpbnQpLnRvQmUoXCJjdXN0b20tZmluZ2VycHJpbnRcIik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiZGVmYXVsdFNldHRpbmdzXCIsICgpID0+IHtcbiAgICB0ZXN0KFwiaGFzIGNvcnJlY3QgZGVmYXVsdCB2YWx1ZXNcIiwgKCkgPT4ge1xuICAgICAgZXhwZWN0KGRlZmF1bHRTZXR0aW5ncy5wcm92aWRlcikudG9CZShcIm9wZW5haVwiKTtcbiAgICAgIGV4cGVjdChkZWZhdWx0U2V0dGluZ3MubW9kZWwpLnRvQmUoXCJncHQtNG9cIik7XG4gICAgICBleHBlY3QoZGVmYXVsdFNldHRpbmdzLnRlbXBlcmF0dXJlKS50b0JlKDAuNyk7XG4gICAgICBleHBlY3QoZGVmYXVsdFNldHRpbmdzLm1heFRva2VucykudG9CZSgxMDI0KTtcbiAgICAgIGV4cGVjdChkZWZhdWx0U2V0dGluZ3MudG9wUCkudG9CZSgwLjkpO1xuICAgICAgZXhwZWN0KGRlZmF1bHRTZXR0aW5ncy5mcmVxdWVuY3lQZW5hbHR5KS50b0JlKDApO1xuICAgICAgZXhwZWN0KGRlZmF1bHRTZXR0aW5ncy5wcmVzZW5jZVBlbmFsdHkpLnRvQmUoMCk7XG4gICAgICBleHBlY3QoZGVmYXVsdFNldHRpbmdzLnN5c3RlbUZpbmdlcnByaW50KS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkZWZhdWx0U2V0dGluZ3MuaGFzU2VydmVyUmVmKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkZWZhdWx0U2V0dGluZ3MubWF4QXV0b25vbW91c01lc3NhZ2VzKS50b0JlKDQpO1xuICAgICAgZXhwZWN0KGRlZmF1bHRTZXR0aW5ncy5jb252ZXJzYXRpb25Db29sZG93bikudG9CZSg1MDAwKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJkb2VzIG5vdCBpbmNsdWRlIEFQSSBrZXlzIGJ5IGRlZmF1bHRcIiwgKCkgPT4ge1xuICAgICAgZXhwZWN0KGRlZmF1bHRTZXR0aW5ncy5hcGlLZXkpLnRvQmVVbmRlZmluZWQoKTtcbiAgICAgIGV4cGVjdChkZWZhdWx0U2V0dGluZ3MuYXBpS2V5U2Vzc2lvbklkKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiaXMgYSB2YWxpZCBMTE1TZXR0aW5ncyBvYmplY3RcIiwgKCkgPT4ge1xuICAgICAgY29uc3Qgc2V0dGluZ3M6IExMTVNldHRpbmdzID0gZGVmYXVsdFNldHRpbmdzO1xuICAgICAgZXhwZWN0KHNldHRpbmdzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBzZXR0aW5ncy5wcm92aWRlcikudG9CZShcInN0cmluZ1wiKTtcbiAgICAgIGV4cGVjdCh0eXBlb2Ygc2V0dGluZ3MubW9kZWwpLnRvQmUoXCJzdHJpbmdcIik7XG4gICAgICBleHBlY3QodHlwZW9mIHNldHRpbmdzLnRlbXBlcmF0dXJlKS50b0JlKFwibnVtYmVyXCIpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImNhbiBiZSB1c2VkIGFzIGJhc2UgZm9yIGN1c3RvbSBzZXR0aW5nc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCBjdXN0b21TZXR0aW5nczogTExNU2V0dGluZ3MgPSB7XG4gICAgICAgIC4uLmRlZmF1bHRTZXR0aW5ncyxcbiAgICAgICAgdGVtcGVyYXR1cmU6IDAuOSxcbiAgICAgICAgbWF4VG9rZW5zOiAyMDQ4LFxuICAgICAgICBwcm92aWRlcjogXCJhbnRocm9waWNcIixcbiAgICAgICAgbW9kZWw6IFwiY2xhdWRlLTMtb3B1c1wiLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KGN1c3RvbVNldHRpbmdzLnRlbXBlcmF0dXJlKS50b0JlKDAuOSk7XG4gICAgICBleHBlY3QoY3VzdG9tU2V0dGluZ3MubWF4VG9rZW5zKS50b0JlKDIwNDgpO1xuICAgICAgZXhwZWN0KGN1c3RvbVNldHRpbmdzLnByb3ZpZGVyKS50b0JlKFwiYW50aHJvcGljXCIpO1xuICAgICAgZXhwZWN0KGN1c3RvbVNldHRpbmdzLm1vZGVsKS50b0JlKFwiY2xhdWRlLTMtb3B1c1wiKTtcbiAgICAgIC8vIE90aGVyIHZhbHVlcyBzaG91bGQgcmVtYWluIGZyb20gZGVmYXVsdHNcbiAgICAgIGV4cGVjdChjdXN0b21TZXR0aW5ncy50b3BQKS50b0JlKDAuOSk7XG4gICAgICBleHBlY3QoY3VzdG9tU2V0dGluZ3MuZnJlcXVlbmN5UGVuYWx0eSkudG9CZSgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJjbGllbnREZWZhdWx0U2V0dGluZ3NcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJoYXMgY29ycmVjdCBjbGllbnQtc2lkZSBkZWZhdWx0IHZhbHVlc1wiLCAoKSA9PiB7XG4gICAgICBleHBlY3QoY2xpZW50RGVmYXVsdFNldHRpbmdzLnByb3ZpZGVyKS50b0JlKFwib3BlbmFpXCIpO1xuICAgICAgZXhwZWN0KGNsaWVudERlZmF1bHRTZXR0aW5ncy5tb2RlbCkudG9CZShcImdwdC00b1wiKTtcbiAgICAgIGV4cGVjdChjbGllbnREZWZhdWx0U2V0dGluZ3MudGVtcGVyYXR1cmUpLnRvQmUoMC43KTtcbiAgICAgIGV4cGVjdChjbGllbnREZWZhdWx0U2V0dGluZ3MubWF4VG9rZW5zKS50b0JlKDEwMjQpO1xuICAgICAgZXhwZWN0KGNsaWVudERlZmF1bHRTZXR0aW5ncy50b3BQKS50b0JlKDAuOSk7XG4gICAgICBleHBlY3QoY2xpZW50RGVmYXVsdFNldHRpbmdzLmZyZXF1ZW5jeVBlbmFsdHkpLnRvQmUoMCk7XG4gICAgICBleHBlY3QoY2xpZW50RGVmYXVsdFNldHRpbmdzLnByZXNlbmNlUGVuYWx0eSkudG9CZSgwKTtcbiAgICAgIGV4cGVjdChjbGllbnREZWZhdWx0U2V0dGluZ3Muc3lzdGVtRmluZ2VycHJpbnQpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGNsaWVudERlZmF1bHRTZXR0aW5ncy5tYXhBdXRvbm9tb3VzTWVzc2FnZXMpLnRvQmUoNCk7XG4gICAgICBleHBlY3QoY2xpZW50RGVmYXVsdFNldHRpbmdzLmNvbnZlcnNhdGlvbkNvb2xkb3duKS50b0JlKDUwMDApO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImlzIGEgcGFydGlhbCBzZXR0aW5ncyBvYmplY3RcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgcGFydGlhbFNldHRpbmdzOiBQYXJ0aWFsPExMTVNldHRpbmdzPiA9IGNsaWVudERlZmF1bHRTZXR0aW5ncztcbiAgICAgIGV4cGVjdChwYXJ0aWFsU2V0dGluZ3MpLnRvQmVEZWZpbmVkKCk7XG5cbiAgICAgIC8vIFNob3VsZCBub3QgaW5jbHVkZSBzZXJ2ZXItc3BlY2lmaWMgZmllbGRzXG4gICAgICBleHBlY3QocGFydGlhbFNldHRpbmdzLmhhc1NlcnZlclJlZikudG9CZVVuZGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHBhcnRpYWxTZXR0aW5ncy5hcGlLZXkpLnRvQmVVbmRlZmluZWQoKTtcbiAgICAgIGV4cGVjdChwYXJ0aWFsU2V0dGluZ3MuYXBpS2V5U2Vzc2lvbklkKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwibWF0Y2hlcyBkZWZhdWx0U2V0dGluZ3MgZm9yIGNvbW1vbiBmaWVsZHNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgY29tbW9uRmllbGRzOiAoa2V5b2YgTExNU2V0dGluZ3MpW10gPSBbXG4gICAgICAgIFwicHJvdmlkZXJcIixcbiAgICAgICAgXCJtb2RlbFwiLFxuICAgICAgICBcInRlbXBlcmF0dXJlXCIsXG4gICAgICAgIFwibWF4VG9rZW5zXCIsXG4gICAgICAgIFwidG9wUFwiLFxuICAgICAgICBcImZyZXF1ZW5jeVBlbmFsdHlcIixcbiAgICAgICAgXCJwcmVzZW5jZVBlbmFsdHlcIixcbiAgICAgICAgXCJzeXN0ZW1GaW5nZXJwcmludFwiLFxuICAgICAgICBcIm1heEF1dG9ub21vdXNNZXNzYWdlc1wiLFxuICAgICAgICBcImNvbnZlcnNhdGlvbkNvb2xkb3duXCIsXG4gICAgICBdO1xuXG4gICAgICBjb21tb25GaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgICAgaWYgKGZpZWxkIGluIGNsaWVudERlZmF1bHRTZXR0aW5ncykge1xuICAgICAgICAgIGV4cGVjdChjbGllbnREZWZhdWx0U2V0dGluZ3NbZmllbGRdKS50b0VxdWFsKGRlZmF1bHRTZXR0aW5nc1tmaWVsZF0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJwcm92aWRlck1vZGVsc1wiLCAoKSA9PiB7XG4gICAgdGVzdChcImhhcyBtb2RlbHMgZm9yIGFsbCBwcm92aWRlcnNcIiwgKCkgPT4ge1xuICAgICAgZXhwZWN0KHByb3ZpZGVyTW9kZWxzLm9wZW5haSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChwcm92aWRlck1vZGVscy5hbnRocm9waWMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocHJvdmlkZXJNb2RlbHMub3BlbnJvdXRlcikudG9CZURlZmluZWQoKTtcblxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocHJvdmlkZXJNb2RlbHMub3BlbmFpKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHByb3ZpZGVyTW9kZWxzLmFudGhyb3BpYykpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShwcm92aWRlck1vZGVscy5vcGVucm91dGVyKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJPcGVuQUkgbW9kZWxzIGFyZSBjb3JyZWN0bHkgZGVmaW5lZFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBvcGVuYWlNb2RlbHMgPSBwcm92aWRlck1vZGVscy5vcGVuYWk7XG5cbiAgICAgIGV4cGVjdChvcGVuYWlNb2RlbHMpLnRvSGF2ZUxlbmd0aCg0KTtcbiAgICAgIGV4cGVjdChvcGVuYWlNb2RlbHMpLnRvQ29udGFpbkVxdWFsKHsgaWQ6IFwiZ3B0LTRvXCIsIG5hbWU6IFwiR1BULTRvXCIgfSk7XG4gICAgICBleHBlY3Qob3BlbmFpTW9kZWxzKS50b0NvbnRhaW5FcXVhbCh7XG4gICAgICAgIGlkOiBcImdwdC00by1taW5pXCIsXG4gICAgICAgIG5hbWU6IFwiR1BULTRvIE1pbmlcIixcbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KG9wZW5haU1vZGVscykudG9Db250YWluRXF1YWwoe1xuICAgICAgICBpZDogXCJncHQtNC10dXJib1wiLFxuICAgICAgICBuYW1lOiBcIkdQVC00IFR1cmJvXCIsXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChvcGVuYWlNb2RlbHMpLnRvQ29udGFpbkVxdWFsKHtcbiAgICAgICAgaWQ6IFwiZ3B0LTMuNS10dXJib1wiLFxuICAgICAgICBuYW1lOiBcIkdQVC0zLjUgVHVyYm9cIixcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDaGVjayBzdHJ1Y3R1cmVcbiAgICAgIG9wZW5haU1vZGVscy5mb3JFYWNoKChtb2RlbCkgPT4ge1xuICAgICAgICBleHBlY3QobW9kZWwpLnRvSGF2ZVByb3BlcnR5KFwiaWRcIik7XG4gICAgICAgIGV4cGVjdChtb2RlbCkudG9IYXZlUHJvcGVydHkoXCJuYW1lXCIpO1xuICAgICAgICBleHBlY3QodHlwZW9mIG1vZGVsLmlkKS50b0JlKFwic3RyaW5nXCIpO1xuICAgICAgICBleHBlY3QodHlwZW9mIG1vZGVsLm5hbWUpLnRvQmUoXCJzdHJpbmdcIik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJBbnRocm9waWMgbW9kZWxzIGFyZSBjb3JyZWN0bHkgZGVmaW5lZFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBhbnRocm9waWNNb2RlbHMgPSBwcm92aWRlck1vZGVscy5hbnRocm9waWM7XG5cbiAgICAgIGV4cGVjdChhbnRocm9waWNNb2RlbHMpLnRvSGF2ZUxlbmd0aCgzKTtcbiAgICAgIGV4cGVjdChhbnRocm9waWNNb2RlbHMpLnRvQ29udGFpbkVxdWFsKHtcbiAgICAgICAgaWQ6IFwiY2xhdWRlLTMtNS1zb25uZXQtMjAyNDEwMjJcIixcbiAgICAgICAgbmFtZTogXCJDbGF1ZGUgMy41IFNvbm5ldFwiLFxuICAgICAgfSk7XG4gICAgICBleHBlY3QoYW50aHJvcGljTW9kZWxzKS50b0NvbnRhaW5FcXVhbCh7XG4gICAgICAgIGlkOiBcImNsYXVkZS0zLW9wdXMtMjAyNDAyMjlcIixcbiAgICAgICAgbmFtZTogXCJDbGF1ZGUgMyBPcHVzXCIsXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChhbnRocm9waWNNb2RlbHMpLnRvQ29udGFpbkVxdWFsKHtcbiAgICAgICAgaWQ6IFwiY2xhdWRlLTMtaGFpa3UtMjAyNDAzMDdcIixcbiAgICAgICAgbmFtZTogXCJDbGF1ZGUgMyBIYWlrdVwiLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIENoZWNrIHN0cnVjdHVyZVxuICAgICAgYW50aHJvcGljTW9kZWxzLmZvckVhY2goKG1vZGVsKSA9PiB7XG4gICAgICAgIGV4cGVjdChtb2RlbCkudG9IYXZlUHJvcGVydHkoXCJpZFwiKTtcbiAgICAgICAgZXhwZWN0KG1vZGVsKS50b0hhdmVQcm9wZXJ0eShcIm5hbWVcIik7XG4gICAgICAgIGV4cGVjdCh0eXBlb2YgbW9kZWwuaWQpLnRvQmUoXCJzdHJpbmdcIik7XG4gICAgICAgIGV4cGVjdCh0eXBlb2YgbW9kZWwubmFtZSkudG9CZShcInN0cmluZ1wiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGVzdChcIk9wZW5Sb3V0ZXIgbW9kZWxzIGFyZSBjb3JyZWN0bHkgZGVmaW5lZFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBvcGVucm91dGVyTW9kZWxzID0gcHJvdmlkZXJNb2RlbHMub3BlbnJvdXRlcjtcblxuICAgICAgZXhwZWN0KG9wZW5yb3V0ZXJNb2RlbHMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgIGV4cGVjdChvcGVucm91dGVyTW9kZWxzKS50b0NvbnRhaW5FcXVhbCh7XG4gICAgICAgIGlkOiBcImFudGhyb3BpYy9jbGF1ZGUtMy01LXNvbm5ldFwiLFxuICAgICAgICBuYW1lOiBcIkNsYXVkZSAzLjUgU29ubmV0IChPcGVuUm91dGVyKVwiLFxuICAgICAgfSk7XG4gICAgICBleHBlY3Qob3BlbnJvdXRlck1vZGVscykudG9Db250YWluRXF1YWwoe1xuICAgICAgICBpZDogXCJvcGVuYWkvZ3B0LTRvXCIsXG4gICAgICAgIG5hbWU6IFwiR1BULTRvIChPcGVuUm91dGVyKVwiLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIENoZWNrIHN0cnVjdHVyZVxuICAgICAgb3BlbnJvdXRlck1vZGVscy5mb3JFYWNoKChtb2RlbCkgPT4ge1xuICAgICAgICBleHBlY3QobW9kZWwpLnRvSGF2ZVByb3BlcnR5KFwiaWRcIik7XG4gICAgICAgIGV4cGVjdChtb2RlbCkudG9IYXZlUHJvcGVydHkoXCJuYW1lXCIpO1xuICAgICAgICBleHBlY3QodHlwZW9mIG1vZGVsLmlkKS50b0JlKFwic3RyaW5nXCIpO1xuICAgICAgICBleHBlY3QodHlwZW9mIG1vZGVsLm5hbWUpLnRvQmUoXCJzdHJpbmdcIik7XG4gICAgICAgIC8vIE9wZW5Sb3V0ZXIgbW9kZWxzIHNob3VsZCBoYXZlIHByb3ZpZGVyIHByZWZpeFxuICAgICAgICBleHBlY3QobW9kZWwuaWQpLnRvQ29udGFpbihcIi9cIik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJjYW4gYWNjZXNzIG1vZGVscyBieSBwcm92aWRlciBkeW5hbWljYWxseVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBwcm92aWRlcnM6IChrZXlvZiB0eXBlb2YgcHJvdmlkZXJNb2RlbHMpW10gPSBbXG4gICAgICAgIFwib3BlbmFpXCIsXG4gICAgICAgIFwiYW50aHJvcGljXCIsXG4gICAgICAgIFwib3BlbnJvdXRlclwiLFxuICAgICAgXTtcblxuICAgICAgcHJvdmlkZXJzLmZvckVhY2goKHByb3ZpZGVyKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vZGVscyA9IHByb3ZpZGVyTW9kZWxzW3Byb3ZpZGVyXTtcbiAgICAgICAgZXhwZWN0KG1vZGVscykudG9CZURlZmluZWQoKTtcbiAgICAgICAgZXhwZWN0KG1vZGVscy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImFsbCBtb2RlbCBJRHMgYXJlIHVuaXF1ZSB3aXRoaW4gcHJvdmlkZXJcIiwgKCkgPT4ge1xuICAgICAgT2JqZWN0LmVudHJpZXMocHJvdmlkZXJNb2RlbHMpLmZvckVhY2goKFtwcm92aWRlciwgbW9kZWxzXSkgPT4ge1xuICAgICAgICBjb25zdCBpZHMgPSBtb2RlbHMubWFwKChtKSA9PiBtLmlkKTtcbiAgICAgICAgY29uc3QgdW5pcXVlSWRzID0gbmV3IFNldChpZHMpO1xuICAgICAgICBleHBlY3QodW5pcXVlSWRzLnNpemUpLnRvQmUoaWRzLmxlbmd0aCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJhbGwgbW9kZWwgbmFtZXMgYXJlIG5vbi1lbXB0eVwiLCAoKSA9PiB7XG4gICAgICBPYmplY3QuZW50cmllcyhwcm92aWRlck1vZGVscykuZm9yRWFjaCgoW3Byb3ZpZGVyLCBtb2RlbHNdKSA9PiB7XG4gICAgICAgIG1vZGVscy5mb3JFYWNoKChtb2RlbCkgPT4ge1xuICAgICAgICAgIGV4cGVjdChtb2RlbC5uYW1lKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgICAgZXhwZWN0KG1vZGVsLm5hbWUubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiSW50ZWdyYXRpb24gYW5kIHVzYWdlIHBhdHRlcm5zXCIsICgpID0+IHtcbiAgICB0ZXN0KFwiZGVmYXVsdCBtb2RlbCBleGlzdHMgaW4gcHJvdmlkZXIgbW9kZWxzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGRlZmF1bHRQcm92aWRlciA9IGRlZmF1bHRTZXR0aW5ncy5wcm92aWRlcjtcbiAgICAgIGNvbnN0IGRlZmF1bHRNb2RlbCA9IGRlZmF1bHRTZXR0aW5ncy5tb2RlbDtcblxuICAgICAgY29uc3QgYXZhaWxhYmxlTW9kZWxzID0gcHJvdmlkZXJNb2RlbHNbZGVmYXVsdFByb3ZpZGVyXTtcbiAgICAgIGNvbnN0IG1vZGVsSWRzID0gYXZhaWxhYmxlTW9kZWxzLm1hcCgobSkgPT4gbS5pZCk7XG5cbiAgICAgIGV4cGVjdChtb2RlbElkcykudG9Db250YWluKGRlZmF1bHRNb2RlbCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiY2FuIGZpbmQgbW9kZWwgbmFtZSBieSBJRFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBmaW5kTW9kZWxOYW1lID0gKFxuICAgICAgICBwcm92aWRlcjoga2V5b2YgdHlwZW9mIHByb3ZpZGVyTW9kZWxzLFxuICAgICAgICBtb2RlbElkOiBzdHJpbmcsXG4gICAgICApID0+IHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSBwcm92aWRlck1vZGVsc1twcm92aWRlcl0uZmluZCgobSkgPT4gbS5pZCA9PT0gbW9kZWxJZCk7XG4gICAgICAgIHJldHVybiBtb2RlbD8ubmFtZTtcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChmaW5kTW9kZWxOYW1lKFwib3BlbmFpXCIsIFwiZ3B0LTRvXCIpKS50b0JlKFwiR1BULTRvXCIpO1xuICAgICAgZXhwZWN0KGZpbmRNb2RlbE5hbWUoXCJhbnRocm9waWNcIiwgXCJjbGF1ZGUtMy1vcHVzLTIwMjQwMjI5XCIpKS50b0JlKFxuICAgICAgICBcIkNsYXVkZSAzIE9wdXNcIixcbiAgICAgICk7XG4gICAgICBleHBlY3QoZmluZE1vZGVsTmFtZShcIm9wZW5yb3V0ZXJcIiwgXCJvcGVuYWkvZ3B0LTRvXCIpKS50b0JlKFxuICAgICAgICBcIkdQVC00byAoT3BlblJvdXRlcilcIixcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwic2V0dGluZ3MgY2FuIGJlIHNlcmlhbGl6ZWQgdG8gSlNPTlwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZXR0aW5nczogTExNU2V0dGluZ3MgPSB7XG4gICAgICAgIC4uLmRlZmF1bHRTZXR0aW5ncyxcbiAgICAgICAgYXBpS2V5OiBcInRlc3Qta2V5XCIsXG4gICAgICAgIGFwaUtleVNlc3Npb25JZDogXCJ0ZXN0LXNlc3Npb25cIixcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShzZXR0aW5ncyk7XG4gICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGpzb24pO1xuXG4gICAgICBleHBlY3QocGFyc2VkKS50b0VxdWFsKHNldHRpbmdzKTtcbiAgICAgIGV4cGVjdChwYXJzZWQucHJvdmlkZXIpLnRvQmUoc2V0dGluZ3MucHJvdmlkZXIpO1xuICAgICAgZXhwZWN0KHBhcnNlZC50ZW1wZXJhdHVyZSkudG9CZShzZXR0aW5ncy50ZW1wZXJhdHVyZSk7XG4gICAgICBleHBlY3QocGFyc2VkLmFwaUtleSkudG9CZShzZXR0aW5ncy5hcGlLZXkpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcInBhcnRpYWwgc2V0dGluZ3MgY2FuIGJlIG1lcmdlZCB3aXRoIGRlZmF1bHRzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXJTZXR0aW5nczogUGFydGlhbDxMTE1TZXR0aW5ncz4gPSB7XG4gICAgICAgIHRlbXBlcmF0dXJlOiAwLjUsXG4gICAgICAgIG1heFRva2VuczogNTAwLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY29tcGxldGVTZXR0aW5nczogTExNU2V0dGluZ3MgPSB7XG4gICAgICAgIC4uLmRlZmF1bHRTZXR0aW5ncyxcbiAgICAgICAgLi4udXNlclNldHRpbmdzLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KGNvbXBsZXRlU2V0dGluZ3MudGVtcGVyYXR1cmUpLnRvQmUoMC41KTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVNldHRpbmdzLm1heFRva2VucykudG9CZSg1MDApO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlU2V0dGluZ3MucHJvdmlkZXIpLnRvQmUoXCJvcGVuYWlcIik7IC8vIGZyb20gZGVmYXVsdHNcbiAgICAgIGV4cGVjdChjb21wbGV0ZVNldHRpbmdzLm1vZGVsKS50b0JlKFwiZ3B0LTRvXCIpOyAvLyBmcm9tIGRlZmF1bHRzXG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJ0ZXN0Iiwic2V0dGluZ3MiLCJwcm92aWRlciIsIm1vZGVsIiwidGVtcGVyYXR1cmUiLCJtYXhUb2tlbnMiLCJ0b3BQIiwiZnJlcXVlbmN5UGVuYWx0eSIsInByZXNlbmNlUGVuYWx0eSIsInN5c3RlbUZpbmdlcnByaW50IiwiYXBpS2V5IiwiYXBpS2V5U2Vzc2lvbklkIiwiaGFzU2VydmVyUmVmIiwibWF4QXV0b25vbW91c01lc3NhZ2VzIiwiY29udmVyc2F0aW9uQ29vbGRvd24iLCJleHBlY3QiLCJ0b0JlIiwib3BlbmFpU2V0dGluZ3MiLCJkZWZhdWx0U2V0dGluZ3MiLCJhbnRocm9waWNTZXR0aW5ncyIsIm9wZW5yb3V0ZXJTZXR0aW5ncyIsIm1pbmltYWxTZXR0aW5ncyIsInRvQmVVbmRlZmluZWQiLCJzZXR0aW5nc1dpdGhCb29sZWFuIiwic2V0dGluZ3NXaXRoU3RyaW5nIiwidG9CZURlZmluZWQiLCJjdXN0b21TZXR0aW5ncyIsImNsaWVudERlZmF1bHRTZXR0aW5ncyIsInBhcnRpYWxTZXR0aW5ncyIsImNvbW1vbkZpZWxkcyIsImZvckVhY2giLCJmaWVsZCIsInRvRXF1YWwiLCJwcm92aWRlck1vZGVscyIsIm9wZW5haSIsImFudGhyb3BpYyIsIm9wZW5yb3V0ZXIiLCJBcnJheSIsImlzQXJyYXkiLCJvcGVuYWlNb2RlbHMiLCJ0b0hhdmVMZW5ndGgiLCJ0b0NvbnRhaW5FcXVhbCIsImlkIiwibmFtZSIsInRvSGF2ZVByb3BlcnR5IiwiYW50aHJvcGljTW9kZWxzIiwib3BlbnJvdXRlck1vZGVscyIsInRvQ29udGFpbiIsInByb3ZpZGVycyIsIm1vZGVscyIsImxlbmd0aCIsInRvQmVHcmVhdGVyVGhhbiIsIk9iamVjdCIsImVudHJpZXMiLCJpZHMiLCJtYXAiLCJtIiwidW5pcXVlSWRzIiwiU2V0Iiwic2l6ZSIsInRvQmVUcnV0aHkiLCJkZWZhdWx0UHJvdmlkZXIiLCJkZWZhdWx0TW9kZWwiLCJhdmFpbGFibGVNb2RlbHMiLCJtb2RlbElkcyIsImZpbmRNb2RlbE5hbWUiLCJtb2RlbElkIiwiZmluZCIsImpzb24iLCJKU09OIiwic3RyaW5naWZ5IiwicGFyc2VkIiwicGFyc2UiLCJ1c2VyU2V0dGluZ3MiLCJjb21wbGV0ZVNldHRpbmdzIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztDQUlDOzs7OzZCQU9NO0FBRVBBLFNBQVMsMkNBQTJDO0lBQ2xEQSxTQUFTLHlCQUF5QjtRQUNoQ0MsS0FBSyxvQ0FBb0M7WUFDdkMsTUFBTUMsV0FBd0I7Z0JBQzVCQyxVQUFVO2dCQUNWQyxPQUFPO2dCQUNQQyxhQUFhO2dCQUNiQyxXQUFXO2dCQUNYQyxNQUFNO2dCQUNOQyxrQkFBa0I7Z0JBQ2xCQyxpQkFBaUI7Z0JBQ2pCQyxtQkFBbUI7Z0JBQ25CQyxRQUFRO2dCQUNSQyxpQkFBaUI7Z0JBQ2pCQyxjQUFjO2dCQUNkQyx1QkFBdUI7Z0JBQ3ZCQyxzQkFBc0I7WUFDeEI7WUFFQUMsT0FBT2QsU0FBU0MsUUFBUSxFQUFFYyxJQUFJLENBQUM7WUFDL0JELE9BQU9kLFNBQVNFLEtBQUssRUFBRWEsSUFBSSxDQUFDO1lBQzVCRCxPQUFPZCxTQUFTRyxXQUFXLEVBQUVZLElBQUksQ0FBQztZQUNsQ0QsT0FBT2QsU0FBU0ksU0FBUyxFQUFFVyxJQUFJLENBQUM7WUFDaENELE9BQU9kLFNBQVNLLElBQUksRUFBRVUsSUFBSSxDQUFDO1lBQzNCRCxPQUFPZCxTQUFTTSxnQkFBZ0IsRUFBRVMsSUFBSSxDQUFDO1lBQ3ZDRCxPQUFPZCxTQUFTTyxlQUFlLEVBQUVRLElBQUksQ0FBQztZQUN0Q0QsT0FBT2QsU0FBU1EsaUJBQWlCLEVBQUVPLElBQUksQ0FBQztZQUN4Q0QsT0FBT2QsU0FBU1MsTUFBTSxFQUFFTSxJQUFJLENBQUM7WUFDN0JELE9BQU9kLFNBQVNVLGVBQWUsRUFBRUssSUFBSSxDQUFDO1lBQ3RDRCxPQUFPZCxTQUFTVyxZQUFZLEVBQUVJLElBQUksQ0FBQztZQUNuQ0QsT0FBT2QsU0FBU1kscUJBQXFCLEVBQUVHLElBQUksQ0FBQztZQUM1Q0QsT0FBT2QsU0FBU2Esb0JBQW9CLEVBQUVFLElBQUksQ0FBQztR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