af0400e030069ac5947c140ff7cb8259
"use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "BeliefStateVisualization", {
    enumerable: true,
    get: function() {
        return BeliefStateVisualization;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _d3 = /*#__PURE__*/ _interop_require_wildcard(require("d3"));
const _card = require("./card");
const _button = require("./button");
const _badge = require("./badge");
const _lucidereact = require("lucide-react");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
function BeliefStateVisualization({ agentId, stateLabels = [], width = 800, height = 400, updateInterval = 1000, className, onBeliefChange, isRealTime = true }) {
    const svgRef = (0, _react.useRef)(null);
    const containerRef = (0, _react.useRef)(null);
    const [isPlaying, setIsPlaying] = (0, _react.useState)(isRealTime);
    const [currentData, setCurrentData] = (0, _react.useState)(null);
    const [beliefHistory, setBeliefHistory] = (0, _react.useState)({
        data: [],
        maxLength: 100
    });
    const [dimensions, setDimensions] = (0, _react.useState)({
        width,
        height
    });
    // Responsive sizing
    (0, _react.useEffect)(()=>{
        const handleResize = ()=>{
            if (containerRef.current) {
                const rect = containerRef.current.getBoundingClientRect();
                setDimensions({
                    width: Math.max(400, rect.width - 32),
                    height: Math.max(300, height)
                });
            }
        };
        handleResize();
        window.addEventListener("resize", handleResize);
        return ()=>window.removeEventListener("resize", handleResize);
    }, [
        height
    ]);
    // Generate mock belief data for demonstration
    const generateMockBeliefData = (0, _react.useCallback)(()=>{
        const numStates = stateLabels.length || 8;
        const beliefs = new Array(numStates).fill(0).map(()=>Math.random());
        const sum = beliefs.reduce((a, b)=>a + b, 0);
        const normalizedBeliefs = beliefs.map((b)=>b / sum);
        // Calculate entropy: H[q(s)] = -Σ q(s) * log(q(s))
        const entropy = -normalizedBeliefs.reduce((h, q)=>h + (q > 0 ? q * Math.log(q) : 0), 0);
        const maxEntropy = Math.log(numStates);
        const confidence = 1 - entropy / maxEntropy;
        const mostLikelyState = normalizedBeliefs.indexOf(Math.max(...normalizedBeliefs));
        return {
            timestamp: Date.now(),
            beliefs: normalizedBeliefs,
            entropy,
            confidence,
            mostLikelyState,
            precision: {
                sensory: 16 + Math.random() * 32,
                policy: 8 + Math.random() * 24,
                state: 1 + Math.random() * 4
            }
        };
    }, [
        stateLabels.length
    ]);
    // Data fetching/updating
    (0, _react.useEffect)(()=>{
        let interval;
        if (isPlaying && isRealTime) {
            interval = setInterval(()=>{
                const newData = generateMockBeliefData();
                setCurrentData(newData);
                setBeliefHistory((prev)=>({
                        ...prev,
                        data: [
                            ...prev.data.slice(-prev.maxLength + 1),
                            newData
                        ]
                    }));
                onBeliefChange?.(newData);
            }, updateInterval);
        }
        return ()=>{
            if (interval) clearInterval(interval);
        };
    }, [
        isPlaying,
        isRealTime,
        updateInterval,
        generateMockBeliefData,
        onBeliefChange
    ]);
    // D3.js visualization rendering
    (0, _react.useEffect)(()=>{
        if (!svgRef.current || !currentData) return;
        const svg = _d3.select(svgRef.current);
        const { width: w, height: h } = dimensions;
        // Clear previous content
        svg.selectAll("*").remove();
        // Set up main group with margins
        const margin = {
            top: 20,
            right: 60,
            bottom: 80,
            left: 60
        };
        const chartWidth = w - margin.left - margin.right;
        const chartHeight = h - margin.top - margin.bottom;
        const g = svg.attr("width", w).attr("height", h).append("g").attr("transform", `translate(${margin.left},${margin.top})`);
        // Create scales
        const xScale = _d3.scaleBand().domain(currentData.beliefs.map((_, i)=>i.toString())).range([
            0,
            chartWidth
        ]).padding(0.1);
        const yScale = _d3.scaleLinear().domain([
            0,
            Math.max(...currentData.beliefs) * 1.1
        ]).range([
            chartHeight,
            0
        ]);
        // Color scale for belief states
        const colorScale = _d3.scaleSequential(_d3.interpolateViridis).domain([
            0,
            currentData.beliefs.length - 1
        ]);
        // Create bars for belief distribution
        const bars = g.selectAll(".belief-bar").data(currentData.beliefs).enter().append("rect").attr("class", "belief-bar").attr("x", (_, i)=>xScale(i.toString()) || 0).attr("y", (d)=>yScale(d)).attr("width", xScale.bandwidth()).attr("height", (d)=>chartHeight - yScale(d)).attr("fill", (_, i)=>colorScale(i)).attr("opacity", 0.8).attr("stroke", "#ffffff").attr("stroke-width", 1);
        // Highlight most likely state
        bars.filter((_, i)=>i === currentData.mostLikelyState).attr("stroke", "#ff6b35").attr("stroke-width", 3).attr("opacity", 1);
        // Add probability values as text
        g.selectAll(".prob-text").data(currentData.beliefs).enter().append("text").attr("class", "prob-text").attr("x", (_, i)=>(xScale(i.toString()) || 0) + xScale.bandwidth() / 2).attr("y", (d)=>yScale(d) - 5).attr("text-anchor", "middle").attr("font-size", "12px").attr("font-weight", "500").attr("fill", "#374151").text((d)=>d.toFixed(3));
        // X-axis
        const xAxis = _d3.axisBottom(xScale).tickFormat((i)=>stateLabels[parseInt(i)] || `S${i}`);
        g.append("g").attr("transform", `translate(0,${chartHeight})`).call(xAxis).selectAll("text").attr("transform", "rotate(-45)").style("text-anchor", "end").attr("font-size", "11px");
        // Y-axis
        const yAxis = _d3.axisLeft(yScale).tickFormat(_d3.format(".3f"));
        g.append("g").call(yAxis).selectAll("text").attr("font-size", "11px");
        // Axis labels
        g.append("text").attr("transform", "rotate(-90)").attr("y", 0 - margin.left).attr("x", 0 - chartHeight / 2).attr("dy", "1em").style("text-anchor", "middle").attr("font-size", "14px").attr("font-weight", "600").text("Belief Probability q(s)");
        g.append("text").attr("transform", `translate(${chartWidth / 2}, ${chartHeight + margin.bottom - 10})`).style("text-anchor", "middle").attr("font-size", "14px").attr("font-weight", "600").text("Hidden States");
        // Mathematical annotation
        g.append("text").attr("x", chartWidth - 10).attr("y", 15).attr("text-anchor", "end").attr("font-size", "12px").attr("font-style", "italic").attr("fill", "#6b7280").text(`H[q(s)] = ${currentData.entropy.toFixed(3)} bits`);
        // Confidence indicator
        g.append("text").attr("x", chartWidth - 10).attr("y", 35).attr("text-anchor", "end").attr("font-size", "12px").attr("font-style", "italic").attr("fill", "#6b7280").text(`Confidence = ${(currentData.confidence * 100).toFixed(1)}%`);
        // Add normalization validation
        const beliefSum = currentData.beliefs.reduce((sum, b)=>sum + b, 0);
        const isNormalized = Math.abs(beliefSum - 1.0) < 1e-10;
        g.append("text").attr("x", 10).attr("y", 15).attr("font-size", "11px").attr("fill", isNormalized ? "#059669" : "#dc2626").text(`Σq(s) = ${beliefSum.toFixed(6)} ${isNormalized ? "✓" : "⚠"}`);
    }, [
        currentData,
        dimensions,
        stateLabels
    ]);
    // Control handlers
    const handlePlayPause = ()=>{
        setIsPlaying(!isPlaying);
    };
    const handleReset = ()=>{
        setBeliefHistory({
            data: [],
            maxLength: 100
        });
        setCurrentData(null);
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
        className: className,
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardHeader, {
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center justify-between",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-center gap-2",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Brain, {
                                        className: "h-5 w-5 text-primary"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardTitle, {
                                        children: "Belief State Distribution"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)(_badge.Badge, {
                                        variant: "outline",
                                        children: [
                                            "Agent ",
                                            agentId
                                        ]
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-center gap-2",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                                        variant: "outline",
                                        size: "sm",
                                        onClick: handlePlayPause,
                                        disabled: !isRealTime,
                                        children: isPlaying ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Pause, {
                                            className: "h-4 w-4"
                                        }) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Play, {
                                            className: "h-4 w-4"
                                        })
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                                        variant: "outline",
                                        size: "sm",
                                        onClick: handleReset,
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.RotateCcw, {
                                            className: "h-4 w-4"
                                        })
                                    })
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardDescription, {
                        children: "Real-time visualization of q(s) - agent beliefs over hidden states"
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardContent, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    ref: containerRef,
                    className: "w-full",
                    children: [
                        currentData && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 p-4 bg-muted/50 rounded-lg",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center gap-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.TrendingUp, {
                                            className: "h-4 w-4 text-blue-600"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    className: "text-sm font-medium",
                                                    children: "Entropy"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                    className: "text-xs text-muted-foreground",
                                                    children: [
                                                        currentData.entropy.toFixed(3),
                                                        " bits"
                                                    ]
                                                })
                                            ]
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center gap-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Zap, {
                                            className: "h-4 w-4 text-green-600"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    className: "text-sm font-medium",
                                                    children: "Confidence"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                    className: "text-xs text-muted-foreground",
                                                    children: [
                                                        (currentData.confidence * 100).toFixed(1),
                                                        "%"
                                                    ]
                                                })
                                            ]
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center gap-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Info, {
                                            className: "h-4 w-4 text-purple-600"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    className: "text-sm font-medium",
                                                    children: "Most Likely"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                    className: "text-xs text-muted-foreground",
                                                    children: [
                                                        "State ",
                                                        currentData.mostLikelyState
                                                    ]
                                                })
                                            ]
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center gap-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Brain, {
                                            className: "h-4 w-4 text-orange-600"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    className: "text-sm font-medium",
                                                    children: "Precision γ"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    className: "text-xs text-muted-foreground",
                                                    children: currentData.precision.sensory.toFixed(1)
                                                })
                                            ]
                                        })
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("svg", {
                            ref: svgRef,
                            className: "w-full border rounded-lg"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "text-sm text-blue-800",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        className: "font-semibold mb-1",
                                        children: "Active Inference Mathematics:"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                        className: "text-xs space-y-1",
                                        children: [
                                            "• ",
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("strong", {
                                                children: "q(s)"
                                            }),
                                            ": Belief distribution over hidden states (must sum to 1)",
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("br", {}),
                                            "• ",
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("strong", {
                                                children: "H[q(s)]"
                                            }),
                                            ": Shannon entropy = -Σ q(s) log q(s)",
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("br", {}),
                                            "• ",
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("strong", {
                                                children: "Confidence"
                                            }),
                                            ": 1 - H[q(s)]/log(|S|) (normalized uncertainty)",
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("br", {}),
                                            "• ",
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("strong", {
                                                children: "γ"
                                            }),
                                            ": Sensory precision parameter controlling belief updates"
                                        ]
                                    })
                                ]
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex items-center justify-between mt-4 text-sm text-muted-foreground",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                    children: [
                                        isRealTime ? "Real-time updates" : "Static display",
                                        " •",
                                        beliefHistory.data.length,
                                        " data points"
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                    children: currentData && `Last update: ${new Date(currentData.timestamp).toLocaleTimeString()}`
                                })
                            ]
                        })
                    ]
                })
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0aGV3bW9yb25leS9idWlsZHMvRnJlZUFnZW50aWNzL3dlYi9jb21wb25lbnRzL3VpL2JlbGllZi1zdGF0ZS12aXN1YWxpemF0aW9uLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xuaW1wb3J0IHtcbiAgQ2FyZCxcbiAgQ2FyZENvbnRlbnQsXG4gIENhcmREZXNjcmlwdGlvbixcbiAgQ2FyZEhlYWRlcixcbiAgQ2FyZFRpdGxlLFxufSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2NhcmRcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCI7XG5pbXBvcnQgeyBCYWRnZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYmFkZ2VcIjtcbmltcG9ydCB7IFNlcGFyYXRvciB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvc2VwYXJhdG9yXCI7XG5pbXBvcnQge1xuICBCcmFpbixcbiAgUGxheSxcbiAgUGF1c2UsXG4gIFJvdGF0ZUNjdyxcbiAgVHJlbmRpbmdVcCxcbiAgSW5mbyxcbiAgWmFwLFxufSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5cbi8vIFR5cGVzIGZvciBBY3RpdmUgSW5mZXJlbmNlIGRhdGFcbmV4cG9ydCBpbnRlcmZhY2UgQmVsaWVmU3RhdGVEYXRhIHtcbiAgdGltZXN0YW1wOiBudW1iZXI7XG4gIGJlbGllZnM6IG51bWJlcltdOyAvLyBxKHMpIC0gYmVsaWVmIGRpc3RyaWJ1dGlvbiBvdmVyIHN0YXRlc1xuICBlbnRyb3B5OiBudW1iZXI7IC8vIEhbcShzKV0gLSBTaGFubm9uIGVudHJvcHlcbiAgY29uZmlkZW5jZTogbnVtYmVyOyAvLyAxIC0gbm9ybWFsaXplZCBlbnRyb3B5XG4gIG1vc3RMaWtlbHlTdGF0ZTogbnVtYmVyOyAvLyBhcmdtYXggcShzKVxuICBwcmVjaXNpb246IHtcbiAgICBzZW5zb3J5OiBudW1iZXI7IC8vIM6zIC0gc2Vuc29yeSBwcmVjaXNpb25cbiAgICBwb2xpY3k6IG51bWJlcjsgLy8gzrIgLSBwb2xpY3kgcHJlY2lzaW9uXG4gICAgc3RhdGU6IG51bWJlcjsgLy8gzrEgLSBzdGF0ZSBwcmVjaXNpb25cbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCZWxpZWZIaXN0b3J5IHtcbiAgZGF0YTogQmVsaWVmU3RhdGVEYXRhW107XG4gIG1heExlbmd0aDogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgQmVsaWVmU3RhdGVWaXN1YWxpemF0aW9uUHJvcHMge1xuICBhZ2VudElkOiBzdHJpbmc7XG4gIHN0YXRlTGFiZWxzPzogc3RyaW5nW107XG4gIHdpZHRoPzogbnVtYmVyO1xuICBoZWlnaHQ/OiBudW1iZXI7XG4gIHVwZGF0ZUludGVydmFsPzogbnVtYmVyO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIG9uQmVsaWVmQ2hhbmdlPzogKGJlbGllZkRhdGE6IEJlbGllZlN0YXRlRGF0YSkgPT4gdm9pZDtcbiAgaXNSZWFsVGltZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCZWxpZWZTdGF0ZVZpc3VhbGl6YXRpb24oe1xuICBhZ2VudElkLFxuICBzdGF0ZUxhYmVscyA9IFtdLFxuICB3aWR0aCA9IDgwMCxcbiAgaGVpZ2h0ID0gNDAwLFxuICB1cGRhdGVJbnRlcnZhbCA9IDEwMDAsXG4gIGNsYXNzTmFtZSxcbiAgb25CZWxpZWZDaGFuZ2UsXG4gIGlzUmVhbFRpbWUgPSB0cnVlLFxufTogQmVsaWVmU3RhdGVWaXN1YWxpemF0aW9uUHJvcHMpIHtcbiAgY29uc3Qgc3ZnUmVmID0gdXNlUmVmPFNWR1NWR0VsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBjb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBbaXNQbGF5aW5nLCBzZXRJc1BsYXlpbmddID0gdXNlU3RhdGUoaXNSZWFsVGltZSk7XG4gIGNvbnN0IFtjdXJyZW50RGF0YSwgc2V0Q3VycmVudERhdGFdID0gdXNlU3RhdGU8QmVsaWVmU3RhdGVEYXRhIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtiZWxpZWZIaXN0b3J5LCBzZXRCZWxpZWZIaXN0b3J5XSA9IHVzZVN0YXRlPEJlbGllZkhpc3Rvcnk+KHtcbiAgICBkYXRhOiBbXSxcbiAgICBtYXhMZW5ndGg6IDEwMCxcbiAgfSk7XG4gIGNvbnN0IFtkaW1lbnNpb25zLCBzZXREaW1lbnNpb25zXSA9IHVzZVN0YXRlKHsgd2lkdGgsIGhlaWdodCB9KTtcblxuICAvLyBSZXNwb25zaXZlIHNpemluZ1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGlmIChjb250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgICBjb25zdCByZWN0ID0gY29udGFpbmVyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHNldERpbWVuc2lvbnMoe1xuICAgICAgICAgIHdpZHRoOiBNYXRoLm1heCg0MDAsIHJlY3Qud2lkdGggLSAzMiksXG4gICAgICAgICAgaGVpZ2h0OiBNYXRoLm1heCgzMDAsIGhlaWdodCksXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBoYW5kbGVSZXNpemUoKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBoYW5kbGVSZXNpemUpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBoYW5kbGVSZXNpemUpO1xuICB9LCBbaGVpZ2h0XSk7XG5cbiAgLy8gR2VuZXJhdGUgbW9jayBiZWxpZWYgZGF0YSBmb3IgZGVtb25zdHJhdGlvblxuICBjb25zdCBnZW5lcmF0ZU1vY2tCZWxpZWZEYXRhID0gdXNlQ2FsbGJhY2soKCk6IEJlbGllZlN0YXRlRGF0YSA9PiB7XG4gICAgY29uc3QgbnVtU3RhdGVzID0gc3RhdGVMYWJlbHMubGVuZ3RoIHx8IDg7XG4gICAgY29uc3QgYmVsaWVmcyA9IG5ldyBBcnJheShudW1TdGF0ZXMpLmZpbGwoMCkubWFwKCgpID0+IE1hdGgucmFuZG9tKCkpO1xuICAgIGNvbnN0IHN1bSA9IGJlbGllZnMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7XG4gICAgY29uc3Qgbm9ybWFsaXplZEJlbGllZnMgPSBiZWxpZWZzLm1hcCgoYikgPT4gYiAvIHN1bSk7XG5cbiAgICAvLyBDYWxjdWxhdGUgZW50cm9weTogSFtxKHMpXSA9IC3OoyBxKHMpICogbG9nKHEocykpXG4gICAgY29uc3QgZW50cm9weSA9IC1ub3JtYWxpemVkQmVsaWVmcy5yZWR1Y2UoXG4gICAgICAoaCwgcSkgPT4gaCArIChxID4gMCA/IHEgKiBNYXRoLmxvZyhxKSA6IDApLFxuICAgICAgMCxcbiAgICApO1xuICAgIGNvbnN0IG1heEVudHJvcHkgPSBNYXRoLmxvZyhudW1TdGF0ZXMpO1xuICAgIGNvbnN0IGNvbmZpZGVuY2UgPSAxIC0gZW50cm9weSAvIG1heEVudHJvcHk7XG5cbiAgICBjb25zdCBtb3N0TGlrZWx5U3RhdGUgPSBub3JtYWxpemVkQmVsaWVmcy5pbmRleE9mKFxuICAgICAgTWF0aC5tYXgoLi4ubm9ybWFsaXplZEJlbGllZnMpLFxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgYmVsaWVmczogbm9ybWFsaXplZEJlbGllZnMsXG4gICAgICBlbnRyb3B5LFxuICAgICAgY29uZmlkZW5jZSxcbiAgICAgIG1vc3RMaWtlbHlTdGF0ZSxcbiAgICAgIHByZWNpc2lvbjoge1xuICAgICAgICBzZW5zb3J5OiAxNiArIE1hdGgucmFuZG9tKCkgKiAzMixcbiAgICAgICAgcG9saWN5OiA4ICsgTWF0aC5yYW5kb20oKSAqIDI0LFxuICAgICAgICBzdGF0ZTogMSArIE1hdGgucmFuZG9tKCkgKiA0LFxuICAgICAgfSxcbiAgICB9O1xuICB9LCBbc3RhdGVMYWJlbHMubGVuZ3RoXSk7XG5cbiAgLy8gRGF0YSBmZXRjaGluZy91cGRhdGluZ1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQ7XG5cbiAgICBpZiAoaXNQbGF5aW5nICYmIGlzUmVhbFRpbWUpIHtcbiAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdEYXRhID0gZ2VuZXJhdGVNb2NrQmVsaWVmRGF0YSgpO1xuICAgICAgICBzZXRDdXJyZW50RGF0YShuZXdEYXRhKTtcblxuICAgICAgICBzZXRCZWxpZWZIaXN0b3J5KChwcmV2KSA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgZGF0YTogWy4uLnByZXYuZGF0YS5zbGljZSgtcHJldi5tYXhMZW5ndGggKyAxKSwgbmV3RGF0YV0sXG4gICAgICAgIH0pKTtcblxuICAgICAgICBvbkJlbGllZkNoYW5nZT8uKG5ld0RhdGEpO1xuICAgICAgfSwgdXBkYXRlSW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoaW50ZXJ2YWwpIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgIH07XG4gIH0sIFtcbiAgICBpc1BsYXlpbmcsXG4gICAgaXNSZWFsVGltZSxcbiAgICB1cGRhdGVJbnRlcnZhbCxcbiAgICBnZW5lcmF0ZU1vY2tCZWxpZWZEYXRhLFxuICAgIG9uQmVsaWVmQ2hhbmdlLFxuICBdKTtcblxuICAvLyBEMy5qcyB2aXN1YWxpemF0aW9uIHJlbmRlcmluZ1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc3ZnUmVmLmN1cnJlbnQgfHwgIWN1cnJlbnREYXRhKSByZXR1cm47XG5cbiAgICBjb25zdCBzdmcgPSBkMy5zZWxlY3Qoc3ZnUmVmLmN1cnJlbnQpO1xuICAgIGNvbnN0IHsgd2lkdGg6IHcsIGhlaWdodDogaCB9ID0gZGltZW5zaW9ucztcblxuICAgIC8vIENsZWFyIHByZXZpb3VzIGNvbnRlbnRcbiAgICBzdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcblxuICAgIC8vIFNldCB1cCBtYWluIGdyb3VwIHdpdGggbWFyZ2luc1xuICAgIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDYwLCBib3R0b206IDgwLCBsZWZ0OiA2MCB9O1xuICAgIGNvbnN0IGNoYXJ0V2lkdGggPSB3IC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG4gICAgY29uc3QgY2hhcnRIZWlnaHQgPSBoIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbiAgICBjb25zdCBnID0gc3ZnXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHcpXG4gICAgICAuYXR0cihcImhlaWdodFwiLCBoKVxuICAgICAgLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGB0cmFuc2xhdGUoJHttYXJnaW4ubGVmdH0sJHttYXJnaW4udG9wfSlgKTtcblxuICAgIC8vIENyZWF0ZSBzY2FsZXNcbiAgICBjb25zdCB4U2NhbGUgPSBkM1xuICAgICAgLnNjYWxlQmFuZCgpXG4gICAgICAuZG9tYWluKGN1cnJlbnREYXRhLmJlbGllZnMubWFwKChfLCBpKSA9PiBpLnRvU3RyaW5nKCkpKVxuICAgICAgLnJhbmdlKFswLCBjaGFydFdpZHRoXSlcbiAgICAgIC5wYWRkaW5nKDAuMSk7XG5cbiAgICBjb25zdCB5U2NhbGUgPSBkM1xuICAgICAgLnNjYWxlTGluZWFyKClcbiAgICAgIC5kb21haW4oWzAsIE1hdGgubWF4KC4uLmN1cnJlbnREYXRhLmJlbGllZnMpICogMS4xXSlcbiAgICAgIC5yYW5nZShbY2hhcnRIZWlnaHQsIDBdKTtcblxuICAgIC8vIENvbG9yIHNjYWxlIGZvciBiZWxpZWYgc3RhdGVzXG4gICAgY29uc3QgY29sb3JTY2FsZSA9IGQzXG4gICAgICAuc2NhbGVTZXF1ZW50aWFsKGQzLmludGVycG9sYXRlVmlyaWRpcylcbiAgICAgIC5kb21haW4oWzAsIGN1cnJlbnREYXRhLmJlbGllZnMubGVuZ3RoIC0gMV0pO1xuXG4gICAgLy8gQ3JlYXRlIGJhcnMgZm9yIGJlbGllZiBkaXN0cmlidXRpb25cbiAgICBjb25zdCBiYXJzID0gZ1xuICAgICAgLnNlbGVjdEFsbChcIi5iZWxpZWYtYmFyXCIpXG4gICAgICAuZGF0YShjdXJyZW50RGF0YS5iZWxpZWZzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwiYmVsaWVmLWJhclwiKVxuICAgICAgLmF0dHIoXCJ4XCIsIChfLCBpKSA9PiB4U2NhbGUoaS50b1N0cmluZygpKSB8fCAwKVxuICAgICAgLmF0dHIoXCJ5XCIsIChkKSA9PiB5U2NhbGUoZCkpXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHhTY2FsZS5iYW5kd2lkdGgoKSlcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIChkKSA9PiBjaGFydEhlaWdodCAtIHlTY2FsZShkKSlcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCAoXywgaSkgPT4gY29sb3JTY2FsZShpKSlcbiAgICAgIC5hdHRyKFwib3BhY2l0eVwiLCAwLjgpXG4gICAgICAuYXR0cihcInN0cm9rZVwiLCBcIiNmZmZmZmZcIilcbiAgICAgIC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIDEpO1xuXG4gICAgLy8gSGlnaGxpZ2h0IG1vc3QgbGlrZWx5IHN0YXRlXG4gICAgYmFyc1xuICAgICAgLmZpbHRlcigoXywgaSkgPT4gaSA9PT0gY3VycmVudERhdGEubW9zdExpa2VseVN0YXRlKVxuICAgICAgLmF0dHIoXCJzdHJva2VcIiwgXCIjZmY2YjM1XCIpXG4gICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCAzKVxuICAgICAgLmF0dHIoXCJvcGFjaXR5XCIsIDEpO1xuXG4gICAgLy8gQWRkIHByb2JhYmlsaXR5IHZhbHVlcyBhcyB0ZXh0XG4gICAgZy5zZWxlY3RBbGwoXCIucHJvYi10ZXh0XCIpXG4gICAgICAuZGF0YShjdXJyZW50RGF0YS5iZWxpZWZzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwicHJvYi10ZXh0XCIpXG4gICAgICAuYXR0cihcInhcIiwgKF8sIGkpID0+ICh4U2NhbGUoaS50b1N0cmluZygpKSB8fCAwKSArIHhTY2FsZS5iYW5kd2lkdGgoKSAvIDIpXG4gICAgICAuYXR0cihcInlcIiwgKGQpID0+IHlTY2FsZShkKSAtIDUpXG4gICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCBcIjEycHhcIilcbiAgICAgIC5hdHRyKFwiZm9udC13ZWlnaHRcIiwgXCI1MDBcIilcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIiMzNzQxNTFcIilcbiAgICAgIC50ZXh0KChkKSA9PiBkLnRvRml4ZWQoMykpO1xuXG4gICAgLy8gWC1heGlzXG4gICAgY29uc3QgeEF4aXMgPSBkM1xuICAgICAgLmF4aXNCb3R0b20oeFNjYWxlKVxuICAgICAgLnRpY2tGb3JtYXQoKGkpID0+IHN0YXRlTGFiZWxzW3BhcnNlSW50KGkpXSB8fCBgUyR7aX1gKTtcblxuICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgYHRyYW5zbGF0ZSgwLCR7Y2hhcnRIZWlnaHR9KWApXG4gICAgICAuY2FsbCh4QXhpcylcbiAgICAgIC5zZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSgtNDUpXCIpXG4gICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcImVuZFwiKVxuICAgICAgLmF0dHIoXCJmb250LXNpemVcIiwgXCIxMXB4XCIpO1xuXG4gICAgLy8gWS1heGlzXG4gICAgY29uc3QgeUF4aXMgPSBkMy5heGlzTGVmdCh5U2NhbGUpLnRpY2tGb3JtYXQoZDMuZm9ybWF0KFwiLjNmXCIpKTtcblxuICAgIGcuYXBwZW5kKFwiZ1wiKS5jYWxsKHlBeGlzKS5zZWxlY3RBbGwoXCJ0ZXh0XCIpLmF0dHIoXCJmb250LXNpemVcIiwgXCIxMXB4XCIpO1xuXG4gICAgLy8gQXhpcyBsYWJlbHNcbiAgICBnLmFwcGVuZChcInRleHRcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKC05MClcIilcbiAgICAgIC5hdHRyKFwieVwiLCAwIC0gbWFyZ2luLmxlZnQpXG4gICAgICAuYXR0cihcInhcIiwgMCAtIGNoYXJ0SGVpZ2h0IC8gMilcbiAgICAgIC5hdHRyKFwiZHlcIiwgXCIxZW1cIilcbiAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCBcIjE0cHhcIilcbiAgICAgIC5hdHRyKFwiZm9udC13ZWlnaHRcIiwgXCI2MDBcIilcbiAgICAgIC50ZXh0KFwiQmVsaWVmIFByb2JhYmlsaXR5IHEocylcIik7XG5cbiAgICBnLmFwcGVuZChcInRleHRcIilcbiAgICAgIC5hdHRyKFxuICAgICAgICBcInRyYW5zZm9ybVwiLFxuICAgICAgICBgdHJhbnNsYXRlKCR7Y2hhcnRXaWR0aCAvIDJ9LCAke2NoYXJ0SGVpZ2h0ICsgbWFyZ2luLmJvdHRvbSAtIDEwfSlgLFxuICAgICAgKVxuICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgIC5hdHRyKFwiZm9udC1zaXplXCIsIFwiMTRweFwiKVxuICAgICAgLmF0dHIoXCJmb250LXdlaWdodFwiLCBcIjYwMFwiKVxuICAgICAgLnRleHQoXCJIaWRkZW4gU3RhdGVzXCIpO1xuXG4gICAgLy8gTWF0aGVtYXRpY2FsIGFubm90YXRpb25cbiAgICBnLmFwcGVuZChcInRleHRcIilcbiAgICAgIC5hdHRyKFwieFwiLCBjaGFydFdpZHRoIC0gMTApXG4gICAgICAuYXR0cihcInlcIiwgMTUpXG4gICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpXG4gICAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCBcIjEycHhcIilcbiAgICAgIC5hdHRyKFwiZm9udC1zdHlsZVwiLCBcIml0YWxpY1wiKVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIFwiIzZiNzI4MFwiKVxuICAgICAgLnRleHQoYEhbcShzKV0gPSAke2N1cnJlbnREYXRhLmVudHJvcHkudG9GaXhlZCgzKX0gYml0c2ApO1xuXG4gICAgLy8gQ29uZmlkZW5jZSBpbmRpY2F0b3JcbiAgICBnLmFwcGVuZChcInRleHRcIilcbiAgICAgIC5hdHRyKFwieFwiLCBjaGFydFdpZHRoIC0gMTApXG4gICAgICAuYXR0cihcInlcIiwgMzUpXG4gICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpXG4gICAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCBcIjEycHhcIilcbiAgICAgIC5hdHRyKFwiZm9udC1zdHlsZVwiLCBcIml0YWxpY1wiKVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIFwiIzZiNzI4MFwiKVxuICAgICAgLnRleHQoYENvbmZpZGVuY2UgPSAkeyhjdXJyZW50RGF0YS5jb25maWRlbmNlICogMTAwKS50b0ZpeGVkKDEpfSVgKTtcblxuICAgIC8vIEFkZCBub3JtYWxpemF0aW9uIHZhbGlkYXRpb25cbiAgICBjb25zdCBiZWxpZWZTdW0gPSBjdXJyZW50RGF0YS5iZWxpZWZzLnJlZHVjZSgoc3VtLCBiKSA9PiBzdW0gKyBiLCAwKTtcbiAgICBjb25zdCBpc05vcm1hbGl6ZWQgPSBNYXRoLmFicyhiZWxpZWZTdW0gLSAxLjApIDwgMWUtMTA7XG5cbiAgICBnLmFwcGVuZChcInRleHRcIilcbiAgICAgIC5hdHRyKFwieFwiLCAxMClcbiAgICAgIC5hdHRyKFwieVwiLCAxNSlcbiAgICAgIC5hdHRyKFwiZm9udC1zaXplXCIsIFwiMTFweFwiKVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIGlzTm9ybWFsaXplZCA/IFwiIzA1OTY2OVwiIDogXCIjZGMyNjI2XCIpXG4gICAgICAudGV4dChgzqNxKHMpID0gJHtiZWxpZWZTdW0udG9GaXhlZCg2KX0gJHtpc05vcm1hbGl6ZWQgPyBcIuKck1wiIDogXCLimqBcIn1gKTtcbiAgfSwgW2N1cnJlbnREYXRhLCBkaW1lbnNpb25zLCBzdGF0ZUxhYmVsc10pO1xuXG4gIC8vIENvbnRyb2wgaGFuZGxlcnNcbiAgY29uc3QgaGFuZGxlUGxheVBhdXNlID0gKCkgPT4ge1xuICAgIHNldElzUGxheWluZyghaXNQbGF5aW5nKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVSZXNldCA9ICgpID0+IHtcbiAgICBzZXRCZWxpZWZIaXN0b3J5KHsgZGF0YTogW10sIG1heExlbmd0aDogMTAwIH0pO1xuICAgIHNldEN1cnJlbnREYXRhKG51bGwpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPENhcmQgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPEJyYWluIGNsYXNzTmFtZT1cImgtNSB3LTUgdGV4dC1wcmltYXJ5XCIgLz5cbiAgICAgICAgICAgIDxDYXJkVGl0bGU+QmVsaWVmIFN0YXRlIERpc3RyaWJ1dGlvbjwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJvdXRsaW5lXCI+QWdlbnQge2FnZW50SWR9PC9CYWRnZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUGxheVBhdXNlfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17IWlzUmVhbFRpbWV9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpc1BsYXlpbmcgPyAoXG4gICAgICAgICAgICAgICAgPFBhdXNlIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxQbGF5IGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lXCIgc2l6ZT1cInNtXCIgb25DbGljaz17aGFuZGxlUmVzZXR9PlxuICAgICAgICAgICAgICA8Um90YXRlQ2N3IGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8Q2FyZERlc2NyaXB0aW9uPlxuICAgICAgICAgIFJlYWwtdGltZSB2aXN1YWxpemF0aW9uIG9mIHEocykgLSBhZ2VudCBiZWxpZWZzIG92ZXIgaGlkZGVuIHN0YXRlc1xuICAgICAgICA8L0NhcmREZXNjcmlwdGlvbj5cbiAgICAgIDwvQ2FyZEhlYWRlcj5cblxuICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICA8ZGl2IHJlZj17Y29udGFpbmVyUmVmfSBjbGFzc05hbWU9XCJ3LWZ1bGxcIj5cbiAgICAgICAgICB7LyogTWF0aGVtYXRpY2FsIEluZm9ybWF0aW9uIFBhbmVsICovfVxuICAgICAgICAgIHtjdXJyZW50RGF0YSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgbWQ6Z3JpZC1jb2xzLTQgZ2FwLTQgbWItNiBwLTQgYmctbXV0ZWQvNTAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPFRyZW5kaW5nVXAgY2xhc3NOYW1lPVwiaC00IHctNCB0ZXh0LWJsdWUtNjAwXCIgLz5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+RW50cm9weTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgICAgICAgICB7Y3VycmVudERhdGEuZW50cm9weS50b0ZpeGVkKDMpfSBiaXRzXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxaYXAgY2xhc3NOYW1lPVwiaC00IHctNCB0ZXh0LWdyZWVuLTYwMFwiIC8+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPkNvbmZpZGVuY2U8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgICAgICAgICAgeyhjdXJyZW50RGF0YS5jb25maWRlbmNlICogMTAwKS50b0ZpeGVkKDEpfSVcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPEluZm8gY2xhc3NOYW1lPVwiaC00IHctNCB0ZXh0LXB1cnBsZS02MDBcIiAvPlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj5Nb3N0IExpa2VseTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgICAgICAgICBTdGF0ZSB7Y3VycmVudERhdGEubW9zdExpa2VseVN0YXRlfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICA8QnJhaW4gY2xhc3NOYW1lPVwiaC00IHctNCB0ZXh0LW9yYW5nZS02MDBcIiAvPlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj5QcmVjaXNpb24gzrM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgICAgICAgICAge2N1cnJlbnREYXRhLnByZWNpc2lvbi5zZW5zb3J5LnRvRml4ZWQoMSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIEQzLmpzIFZpc3VhbGl6YXRpb24gQ29udGFpbmVyICovfVxuICAgICAgICAgIDxzdmcgcmVmPXtzdmdSZWZ9IGNsYXNzTmFtZT1cInctZnVsbCBib3JkZXIgcm91bmRlZC1sZ1wiIC8+XG5cbiAgICAgICAgICB7LyogTWF0aGVtYXRpY2FsIEV4cGxhbmF0aW9uICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBwLTMgYmctYmx1ZS01MCBib3JkZXIgYm9yZGVyLWJsdWUtMjAwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWJsdWUtODAwXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMVwiPlxuICAgICAgICAgICAgICAgIEFjdGl2ZSBJbmZlcmVuY2UgTWF0aGVtYXRpY3M6XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICDigKIgPHN0cm9uZz5xKHMpPC9zdHJvbmc+OiBCZWxpZWYgZGlzdHJpYnV0aW9uIG92ZXIgaGlkZGVuIHN0YXRlc1xuICAgICAgICAgICAgICAgIChtdXN0IHN1bSB0byAxKVxuICAgICAgICAgICAgICAgIDxiciAvPuKAoiA8c3Ryb25nPkhbcShzKV08L3N0cm9uZz46IFNoYW5ub24gZW50cm9weSA9IC3OoyBxKHMpIGxvZ1xuICAgICAgICAgICAgICAgIHEocylcbiAgICAgICAgICAgICAgICA8YnIgLz7igKIgPHN0cm9uZz5Db25maWRlbmNlPC9zdHJvbmc+OiAxIC0gSFtxKHMpXS9sb2cofFN8KVxuICAgICAgICAgICAgICAgIChub3JtYWxpemVkIHVuY2VydGFpbnR5KVxuICAgICAgICAgICAgICAgIDxiciAvPuKAoiA8c3Ryb25nPs6zPC9zdHJvbmc+OiBTZW5zb3J5IHByZWNpc2lvbiBwYXJhbWV0ZXJcbiAgICAgICAgICAgICAgICBjb250cm9sbGluZyBiZWxpZWYgdXBkYXRlc1xuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBTdGF0dXMgSW5mb3JtYXRpb24gKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbXQtNCB0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgIHtpc1JlYWxUaW1lID8gXCJSZWFsLXRpbWUgdXBkYXRlc1wiIDogXCJTdGF0aWMgZGlzcGxheVwifSDigKJcbiAgICAgICAgICAgICAge2JlbGllZkhpc3RvcnkuZGF0YS5sZW5ndGh9IGRhdGEgcG9pbnRzXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAge2N1cnJlbnREYXRhICYmXG4gICAgICAgICAgICAgICAgYExhc3QgdXBkYXRlOiAke25ldyBEYXRlKGN1cnJlbnREYXRhLnRpbWVzdGFtcCkudG9Mb2NhbGVUaW1lU3RyaW5nKCl9YH1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0NhcmRDb250ZW50PlxuICAgIDwvQ2FyZD5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJCZWxpZWZTdGF0ZVZpc3VhbGl6YXRpb24iLCJhZ2VudElkIiwic3RhdGVMYWJlbHMiLCJ3aWR0aCIsImhlaWdodCIsInVwZGF0ZUludGVydmFsIiwiY2xhc3NOYW1lIiwib25CZWxpZWZDaGFuZ2UiLCJpc1JlYWxUaW1lIiwic3ZnUmVmIiwidXNlUmVmIiwiY29udGFpbmVyUmVmIiwiaXNQbGF5aW5nIiwic2V0SXNQbGF5aW5nIiwidXNlU3RhdGUiLCJjdXJyZW50RGF0YSIsInNldEN1cnJlbnREYXRhIiwiYmVsaWVmSGlzdG9yeSIsInNldEJlbGllZkhpc3RvcnkiLCJkYXRhIiwibWF4TGVuZ3RoIiwiZGltZW5zaW9ucyIsInNldERpbWVuc2lvbnMiLCJ1c2VFZmZlY3QiLCJoYW5kbGVSZXNpemUiLCJjdXJyZW50IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIk1hdGgiLCJtYXgiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImdlbmVyYXRlTW9ja0JlbGllZkRhdGEiLCJ1c2VDYWxsYmFjayIsIm51bVN0YXRlcyIsImxlbmd0aCIsImJlbGllZnMiLCJBcnJheSIsImZpbGwiLCJtYXAiLCJyYW5kb20iLCJzdW0iLCJyZWR1Y2UiLCJhIiwiYiIsIm5vcm1hbGl6ZWRCZWxpZWZzIiwiZW50cm9weSIsImgiLCJxIiwibG9nIiwibWF4RW50cm9weSIsImNvbmZpZGVuY2UiLCJtb3N0TGlrZWx5U3RhdGUiLCJpbmRleE9mIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInByZWNpc2lvbiIsInNlbnNvcnkiLCJwb2xpY3kiLCJzdGF0ZSIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJuZXdEYXRhIiwicHJldiIsInNsaWNlIiwiY2xlYXJJbnRlcnZhbCIsInN2ZyIsImQzIiwic2VsZWN0IiwidyIsInNlbGVjdEFsbCIsInJlbW92ZSIsIm1hcmdpbiIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsImNoYXJ0V2lkdGgiLCJjaGFydEhlaWdodCIsImciLCJhdHRyIiwiYXBwZW5kIiwieFNjYWxlIiwic2NhbGVCYW5kIiwiZG9tYWluIiwiXyIsImkiLCJ0b1N0cmluZyIsInJhbmdlIiwicGFkZGluZyIsInlTY2FsZSIsInNjYWxlTGluZWFyIiwiY29sb3JTY2FsZSIsInNjYWxlU2VxdWVudGlhbCIsImludGVycG9sYXRlVmlyaWRpcyIsImJhcnMiLCJlbnRlciIsImQiLCJiYW5kd2lkdGgiLCJmaWx0ZXIiLCJ0ZXh0IiwidG9GaXhlZCIsInhBeGlzIiwiYXhpc0JvdHRvbSIsInRpY2tGb3JtYXQiLCJwYXJzZUludCIsImNhbGwiLCJzdHlsZSIsInlBeGlzIiwiYXhpc0xlZnQiLCJmb3JtYXQiLCJiZWxpZWZTdW0iLCJpc05vcm1hbGl6ZWQiLCJhYnMiLCJoYW5kbGVQbGF5UGF1c2UiLCJoYW5kbGVSZXNldCIsIkNhcmQiLCJDYXJkSGVhZGVyIiwiZGl2IiwiQnJhaW4iLCJDYXJkVGl0bGUiLCJCYWRnZSIsInZhcmlhbnQiLCJCdXR0b24iLCJzaXplIiwib25DbGljayIsImRpc2FibGVkIiwiUGF1c2UiLCJQbGF5IiwiUm90YXRlQ2N3IiwiQ2FyZERlc2NyaXB0aW9uIiwiQ2FyZENvbnRlbnQiLCJyZWYiLCJUcmVuZGluZ1VwIiwiWmFwIiwiSW5mbyIsInAiLCJzdHJvbmciLCJiciIsInNwYW4iLCJ0b0xvY2FsZVRpbWVTdHJpbmciXSwibWFwcGluZ3MiOiJBQUFBOzs7OzsrQkFzRGdCQTs7O2VBQUFBOzs7OytEQXBEZ0Q7NERBQzVDO3NCQU9iO3dCQUNnQjt1QkFDRDs2QkFVZjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBZ0NBLFNBQVNBLHlCQUF5QixFQUN2Q0MsT0FBTyxFQUNQQyxjQUFjLEVBQUUsRUFDaEJDLFFBQVEsR0FBRyxFQUNYQyxTQUFTLEdBQUcsRUFDWkMsaUJBQWlCLElBQUksRUFDckJDLFNBQVMsRUFDVEMsY0FBYyxFQUNkQyxhQUFhLElBQUksRUFDYTtJQUM5QixNQUFNQyxTQUFTQyxJQUFBQSxhQUFNLEVBQWdCO0lBQ3JDLE1BQU1DLGVBQWVELElBQUFBLGFBQU0sRUFBaUI7SUFDNUMsTUFBTSxDQUFDRSxXQUFXQyxhQUFhLEdBQUdDLElBQUFBLGVBQVEsRUFBQ047SUFDM0MsTUFBTSxDQUFDTyxhQUFhQyxlQUFlLEdBQUdGLElBQUFBLGVBQVEsRUFBeUI7SUFDdkUsTUFBTSxDQUFDRyxlQUFlQyxpQkFBaUIsR0FBR0osSUFBQUEsZUFBUSxFQUFnQjtRQUNoRUssTUFBTSxFQUFFO1FBQ1JDLFdBQVc7SUFDYjtJQUNBLE1BQU0sQ0FBQ0MsWUFBWUMsY0FBYyxHQUFHUixJQUFBQSxlQUFRLEVBQUM7UUFBRVg7UUFBT0M7SUFB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