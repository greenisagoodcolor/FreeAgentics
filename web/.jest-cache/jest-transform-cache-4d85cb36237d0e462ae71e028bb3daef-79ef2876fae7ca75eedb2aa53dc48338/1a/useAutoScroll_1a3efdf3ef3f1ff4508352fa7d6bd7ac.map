{"version":3,"names":["cov_twiexuzrz","actualCoverage","s","useAutoScroll","containerRef","dependencies","b","options","f","threshold","smoothScrollDuration","enableUserOverride","overrideTimeout","enableKeyboardShortcuts","onScrollStateChange","onUserOverride","onAutoScrollResume","state","setState","_react","useState","isAutoScrollEnabled","isAtBottom","isScrolling","userOverrideActive","lastUserScrollTime","scrollProgress","scrollTimeoutRef","useRef","overrideTimeoutRef","isUserScrollingRef","lastScrollTopRef","animationFrameRef","useCallback","container","scrollTop","scrollHeight","clientHeight","getScrollProgress","maxScroll","smoothScrollTo","targetPosition","duration","startPosition","distance","startTime","performance","now","prev","animateScroll","currentTime","elapsed","progress","Math","min","easeOut","pow","current","requestAnimationFrame","scrollToBottom","smooth","scrollToTop","scrollToElement","element","elementTop","offsetTop","containerTop","containerHeight","max","enableAutoScroll","clearTimeout","disableAutoScroll","Date","toggleAutoScroll","jumpToLatest","handleScroll","_lodashes","debounce","currentScrollTop","atBottom","isUserInitiated","abs","setTimeout","useEffect","addEventListener","passive","removeEventListener","handleKeyDown","event","document","activeElement","tagName","key","ctrlKey","metaKey","preventDefault","shiftKey","cancelAnimationFrame"],"sources":["/Users/matthewmoroney/builds/FreeAgentics/web/hooks/useAutoScroll.ts"],"sourcesContent":["\"use client\";\n\nimport { useRef, useEffect, useCallback, useState } from \"react\";\nimport { debounce } from \"lodash-es\";\n\nexport interface AutoScrollOptions {\n  threshold?: number; // Distance from bottom to consider \"at bottom\" (default: 50px)\n  smoothScrollDuration?: number; // Duration for smooth scrolling (default: 300ms)\n  enableUserOverride?: boolean; // Allow user scrolling to disable auto-scroll (default: true)\n  overrideTimeout?: number; // Time before re-enabling auto-scroll after user scroll (default: 5000ms)\n  enableKeyboardShortcuts?: boolean; // Enable keyboard shortcuts for scroll control (default: true)\n  onScrollStateChange?: (\n    isAutoScrollEnabled: boolean,\n    isAtBottom: boolean,\n  ) => void;\n  onUserOverride?: () => void;\n  onAutoScrollResume?: () => void;\n}\n\nexport interface AutoScrollState {\n  isAutoScrollEnabled: boolean;\n  isAtBottom: boolean;\n  isScrolling: boolean;\n  userOverrideActive: boolean;\n  lastUserScrollTime: number | null;\n  scrollProgress: number; // 0-1 representing scroll position\n}\n\nexport interface AutoScrollControls {\n  scrollToBottom: (smooth?: boolean) => void;\n  scrollToTop: (smooth?: boolean) => void;\n  scrollToElement: (element: HTMLElement, smooth?: boolean) => void;\n  enableAutoScroll: () => void;\n  disableAutoScroll: () => void;\n  toggleAutoScroll: () => void;\n  jumpToLatest: () => void;\n  state: AutoScrollState;\n}\n\nexport function useAutoScroll(\n  containerRef: React.RefObject<HTMLElement>,\n  dependencies: any[] = [],\n  options: AutoScrollOptions = {},\n): AutoScrollControls {\n  const {\n    threshold = 50,\n    smoothScrollDuration = 300,\n    enableUserOverride = true,\n    overrideTimeout = 5000,\n    enableKeyboardShortcuts = true,\n    onScrollStateChange,\n    onUserOverride,\n    onAutoScrollResume,\n  } = options;\n\n  const [state, setState] = useState<AutoScrollState>({\n    isAutoScrollEnabled: true,\n    isAtBottom: true,\n    isScrolling: false,\n    userOverrideActive: false,\n    lastUserScrollTime: null,\n    scrollProgress: 1,\n  });\n\n  const scrollTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const overrideTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const isUserScrollingRef = useRef(false);\n  const lastScrollTopRef = useRef(0);\n  const animationFrameRef = useRef<number | null>(null);\n\n  // Calculate if we're at the bottom\n  const isAtBottom = useCallback(\n    (container: HTMLElement) => {\n      const { scrollTop, scrollHeight, clientHeight } = container;\n      return scrollHeight - scrollTop - clientHeight <= threshold;\n    },\n    [threshold],\n  );\n\n  // Calculate scroll progress (0 = top, 1 = bottom)\n  const getScrollProgress = useCallback((container: HTMLElement) => {\n    const { scrollTop, scrollHeight, clientHeight } = container;\n    const maxScroll = scrollHeight - clientHeight;\n    return maxScroll > 0 ? scrollTop / maxScroll : 1;\n  }, []);\n\n  // Smooth scroll to position\n  const smoothScrollTo = useCallback(\n    (\n      container: HTMLElement,\n      targetPosition: number,\n      duration: number = smoothScrollDuration,\n    ) => {\n      const startPosition = container.scrollTop;\n      const distance = targetPosition - startPosition;\n      const startTime = performance.now();\n\n      setState((prev) => ({ ...prev, isScrolling: true }));\n\n      const animateScroll = (currentTime: number) => {\n        const elapsed = currentTime - startTime;\n        const progress = Math.min(elapsed / duration, 1);\n\n        // Easing function (ease-out)\n        const easeOut = 1 - Math.pow(1 - progress, 3);\n\n        container.scrollTop = startPosition + distance * easeOut;\n\n        if (progress < 1) {\n          animationFrameRef.current = requestAnimationFrame(animateScroll);\n        } else {\n          setState((prev) => ({ ...prev, isScrolling: false }));\n          animationFrameRef.current = null;\n        }\n      };\n\n      animationFrameRef.current = requestAnimationFrame(animateScroll);\n    },\n    [smoothScrollDuration],\n  );\n\n  // Scroll to bottom\n  const scrollToBottom = useCallback(\n    (smooth: boolean = true) => {\n      const container = containerRef.current;\n      if (!container) return;\n\n      const targetPosition = container.scrollHeight - container.clientHeight;\n\n      if (smooth) {\n        smoothScrollTo(container, targetPosition);\n      } else {\n        container.scrollTop = targetPosition;\n      }\n\n      setState((prev) => ({\n        ...prev,\n        isAtBottom: true,\n        scrollProgress: 1,\n        userOverrideActive: false,\n      }));\n    },\n    [containerRef, smoothScrollTo],\n  );\n\n  // Scroll to top\n  const scrollToTop = useCallback(\n    (smooth: boolean = true) => {\n      const container = containerRef.current;\n      if (!container) return;\n\n      if (smooth) {\n        smoothScrollTo(container, 0);\n      } else {\n        container.scrollTop = 0;\n      }\n\n      setState((prev) => ({\n        ...prev,\n        isAtBottom: false,\n        scrollProgress: 0,\n      }));\n    },\n    [containerRef, smoothScrollTo],\n  );\n\n  // Scroll to specific element\n  const scrollToElement = useCallback(\n    (element: HTMLElement, smooth: boolean = true) => {\n      const container = containerRef.current;\n      if (!container) return;\n\n      const elementTop = element.offsetTop;\n      const containerTop = container.scrollTop;\n      const containerHeight = container.clientHeight;\n\n      // Center the element in the viewport\n      const targetPosition = elementTop - containerHeight / 2;\n\n      if (smooth) {\n        smoothScrollTo(container, Math.max(0, targetPosition));\n      } else {\n        container.scrollTop = Math.max(0, targetPosition);\n      }\n    },\n    [containerRef, smoothScrollTo],\n  );\n\n  // Enable auto-scroll\n  const enableAutoScroll = useCallback(() => {\n    setState((prev) => ({\n      ...prev,\n      isAutoScrollEnabled: true,\n      userOverrideActive: false,\n    }));\n\n    // Clear override timeout\n    if (overrideTimeoutRef.current) {\n      clearTimeout(overrideTimeoutRef.current);\n      overrideTimeoutRef.current = null;\n    }\n\n    onAutoScrollResume?.();\n  }, [onAutoScrollResume]);\n\n  // Disable auto-scroll\n  const disableAutoScroll = useCallback(() => {\n    setState((prev) => ({\n      ...prev,\n      isAutoScrollEnabled: false,\n      userOverrideActive: true,\n      lastUserScrollTime: Date.now(),\n    }));\n\n    onUserOverride?.();\n  }, [onUserOverride]);\n\n  // Toggle auto-scroll\n  const toggleAutoScroll = useCallback(() => {\n    setState((prev) => {\n      if (prev.isAutoScrollEnabled) {\n        disableAutoScroll();\n        return prev;\n      } else {\n        enableAutoScroll();\n        return prev;\n      }\n    });\n  }, [enableAutoScroll, disableAutoScroll]);\n\n  // Jump to latest (force scroll to bottom and enable auto-scroll)\n  const jumpToLatest = useCallback(() => {\n    enableAutoScroll();\n    scrollToBottom(true);\n  }, [enableAutoScroll, scrollToBottom]);\n\n  // Handle scroll events\n  const handleScroll = useCallback(\n    debounce(() => {\n      const container = containerRef.current;\n      if (!container || state.isScrolling) return;\n\n      const currentScrollTop = container.scrollTop;\n      const atBottom = isAtBottom(container);\n      const progress = getScrollProgress(container);\n\n      // Detect user scrolling (not programmatic)\n      const isUserInitiated =\n        !state.isScrolling &&\n        Math.abs(currentScrollTop - lastScrollTopRef.current) > 5;\n\n      if (isUserInitiated && enableUserOverride) {\n        isUserScrollingRef.current = true;\n\n        // If user scrolled away from bottom, disable auto-scroll\n        if (!atBottom && state.isAutoScrollEnabled) {\n          setState((prev) => ({\n            ...prev,\n            isAutoScrollEnabled: false,\n            userOverrideActive: true,\n            lastUserScrollTime: Date.now(),\n          }));\n\n          onUserOverride?.();\n\n          // Set timeout to re-enable auto-scroll\n          if (overrideTimeoutRef.current) {\n            clearTimeout(overrideTimeoutRef.current);\n          }\n\n          overrideTimeoutRef.current = setTimeout(() => {\n            setState((prev) => ({\n              ...prev,\n              isAutoScrollEnabled: true,\n              userOverrideActive: false,\n            }));\n            onAutoScrollResume?.();\n          }, overrideTimeout);\n        }\n\n        // If user scrolled back to bottom, re-enable auto-scroll\n        if (atBottom && !state.isAutoScrollEnabled) {\n          enableAutoScroll();\n        }\n      }\n\n      setState((prev) => ({\n        ...prev,\n        isAtBottom: atBottom,\n        scrollProgress: progress,\n      }));\n\n      lastScrollTopRef.current = currentScrollTop;\n\n      // Clear user scrolling flag after a delay\n      setTimeout(() => {\n        isUserScrollingRef.current = false;\n      }, 100);\n    }, 50),\n    [\n      containerRef,\n      isAtBottom,\n      getScrollProgress,\n      enableUserOverride,\n      state.isScrolling,\n      state.isAutoScrollEnabled,\n      overrideTimeout,\n      enableAutoScroll,\n      onUserOverride,\n      onAutoScrollResume,\n    ],\n  );\n\n  // Auto-scroll when dependencies change\n  useEffect(() => {\n    if (\n      state.isAutoScrollEnabled &&\n      state.isAtBottom &&\n      !isUserScrollingRef.current\n    ) {\n      // Small delay to ensure DOM has updated\n      setTimeout(() => {\n        scrollToBottom(true);\n      }, 10);\n    }\n  }, [...dependencies, state.isAutoScrollEnabled]);\n\n  // Set up scroll listener\n  useEffect(() => {\n    const container = containerRef.current;\n    if (!container) return;\n\n    container.addEventListener(\"scroll\", handleScroll, { passive: true });\n\n    return () => {\n      container.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, [handleScroll, containerRef]);\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    if (!enableKeyboardShortcuts) return;\n\n    const handleKeyDown = (event: KeyboardEvent) => {\n      // Only handle if no input elements are focused\n      if (\n        document.activeElement?.tagName === \"INPUT\" ||\n        document.activeElement?.tagName === \"TEXTAREA\"\n      ) {\n        return;\n      }\n\n      switch (event.key) {\n        case \"End\":\n          if (event.ctrlKey || event.metaKey) {\n            event.preventDefault();\n            jumpToLatest();\n          }\n          break;\n        case \"Home\":\n          if (event.ctrlKey || event.metaKey) {\n            event.preventDefault();\n            scrollToTop(true);\n          }\n          break;\n        case \" \":\n          if (event.shiftKey) {\n            event.preventDefault();\n            toggleAutoScroll();\n          }\n          break;\n      }\n    };\n\n    document.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [enableKeyboardShortcuts, jumpToLatest, scrollToTop, toggleAutoScroll]);\n\n  // Notify state changes\n  useEffect(() => {\n    onScrollStateChange?.(state.isAutoScrollEnabled, state.isAtBottom);\n  }, [state.isAutoScrollEnabled, state.isAtBottom, onScrollStateChange]);\n\n  // Cleanup\n  useEffect(() => {\n    return () => {\n      if (scrollTimeoutRef.current) {\n        clearTimeout(scrollTimeoutRef.current);\n      }\n      if (overrideTimeoutRef.current) {\n        clearTimeout(overrideTimeoutRef.current);\n      }\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, []);\n\n  return {\n    scrollToBottom,\n    scrollToTop,\n    scrollToElement,\n    enableAutoScroll,\n    disableAutoScroll,\n    toggleAutoScroll,\n    jumpToLatest,\n    state,\n  };\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}