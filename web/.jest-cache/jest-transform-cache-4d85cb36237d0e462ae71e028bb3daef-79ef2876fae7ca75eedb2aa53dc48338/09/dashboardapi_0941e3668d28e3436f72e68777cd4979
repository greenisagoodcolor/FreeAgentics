8b762ba17908914ac0eeeb6455bfecd1
"use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    DashboardApi: function() {
        return DashboardApi;
    },
    EnhancedAgentsApi: function() {
        return EnhancedAgentsApi;
    },
    dashboardApi: function() {
        return dashboardApi;
    },
    enhancedAgentsApi: function() {
        return enhancedAgentsApi;
    }
});
const _agentsapi = require("./agents-api");
const _sessionmanagement = require("../session-management");
class DashboardApi {
    constructor(baseUrl = "/api/rest/dashboard"){
        this.baseUrl = baseUrl;
    }
    /**
   * Handle API response with proper error handling and authentication
   */ async handleResponse(response) {
        if (response.status === 401) {
            // Redirect to login or show auth modal
            throw new Error("Authentication required");
        }
        if (response.status === 403) {
            throw new Error("Insufficient permissions");
        }
        if (!response.ok) {
            let errorMessage = `HTTP ${response.status}: ${response.statusText}`;
            try {
                const errorData = await response.json();
                errorMessage = errorData.error || errorMessage;
            } catch  {
            // If JSON parsing fails, use the default error message
            }
            throw new Error(errorMessage);
        }
        try {
            return await response.json();
        } catch (error) {
            throw new Error("Failed to parse JSON response");
        }
    }
    /**
   * Make authenticated request with session handling
   */ async makeRequest(endpoint, options = {}) {
        const headers = {
            "Content-Type": "application/json",
            ...options.headers
        };
        // Try to get API key from session for additional auth
        try {
            const apiKey = await (0, _sessionmanagement.getApiKeyFromSession)("dashboard");
            if (apiKey) {
                headers["X-API-Key"] = apiKey;
            }
        } catch (error) {
            // Continue without API key - JWT should handle auth
            console.warn("Failed to get API key from session:", error);
        }
        const response = await fetch(`${this.baseUrl}${endpoint}`, {
            ...options,
            headers,
            credentials: "include"
        });
        return this.handleResponse(response);
    }
    /**
   * Get real-time dashboard metrics
   */ async getMetrics() {
        return this.makeRequest("/metrics");
    }
    /**
   * Get active conversations
   */ async getConversations() {
        return this.makeRequest("/conversations");
    }
    /**
   * Get specific conversation by ID
   */ async getConversation(conversationId) {
        return this.makeRequest(`/conversations/${conversationId}`);
    }
    /**
   * Start conversation between agents
   */ async startConversation(agentIds, topic) {
        return this.makeRequest("/conversations", {
            method: "POST",
            body: JSON.stringify({
                agentIds,
                topic
            })
        });
    }
    /**
   * End conversation
   */ async endConversation(conversationId) {
        return this.makeRequest(`/conversations/${conversationId}/end`, {
            method: "POST"
        });
    }
    /**
   * Get system status
   */ async getSystemStatus() {
        return this.makeRequest("/status");
    }
    /**
   * Pause/resume simulation
   */ async toggleSimulation(running) {
        return this.makeRequest("/simulation/toggle", {
            method: "POST",
            body: JSON.stringify({
                running
            })
        });
    }
    /**
   * Export dashboard state
   */ async exportState() {
        return this.makeRequest("/export");
    }
    /**
   * Import dashboard state
   */ async importState(stateData) {
        return this.makeRequest("/import", {
            method: "POST",
            body: JSON.stringify(stateData)
        });
    }
}
class EnhancedAgentsApi {
    constructor(baseUrl = "/api/rest/agents"){
        this.baseUrl = baseUrl;
    }
    /**
   * Handle API response with proper error handling and authentication
   */ async handleResponse(response) {
        if (response.status === 401) {
            throw new Error("Authentication required");
        }
        if (response.status === 403) {
            throw new Error("Insufficient permissions");
        }
        if (!response.ok) {
            let errorMessage = `HTTP ${response.status}: ${response.statusText}`;
            try {
                const errorData = await response.json();
                errorMessage = errorData.error || errorMessage;
            } catch  {
            // If JSON parsing fails, use the default error message
            }
            throw new Error(errorMessage);
        }
        try {
            return await response.json();
        } catch (error) {
            throw new Error("Failed to parse JSON response");
        }
    }
    /**
   * Make authenticated request with session handling
   */ async makeRequest(endpoint, options = {}) {
        const headers = {
            "Content-Type": "application/json",
            ...options.headers
        };
        // Try to get API key from session for additional auth
        try {
            const apiKey = await (0, _sessionmanagement.getApiKeyFromSession)("agents");
            if (apiKey) {
                headers["X-API-Key"] = apiKey;
            }
        } catch (error) {
            // Continue without API key - JWT should handle auth
            console.warn("Failed to get API key from session:", error);
        }
        const response = await fetch(`${this.baseUrl}${endpoint}`, {
            ...options,
            headers,
            credentials: "include"
        });
        return this.handleResponse(response);
    }
    /**
   * Get all agents
   */ async getAgents() {
        return this.makeRequest("");
    }
    /**
   * Get agent by ID with detailed information
   */ async getAgent(agentId) {
        return this.makeRequest(`/${agentId}`);
    }
    /**
   * Create agent
   */ async createAgent(request) {
        return _agentsapi.agentsApi.createAgent(request);
    }
    /**
   * Create agent from template
   */ async createAgentFromTemplate(templateConfig) {
        return _agentsapi.agentsApi.createAgentFromTemplate(templateConfig);
    }
    /**
   * Update agent
   */ async updateAgent(agentId, updates) {
        return this.makeRequest(`/${agentId}`, {
            method: "PATCH",
            body: JSON.stringify(updates)
        });
    }
    /**
   * Delete agent
   */ async deleteAgent(agentId) {
        return this.makeRequest(`/${agentId}`, {
            method: "DELETE"
        });
    }
    /**
   * Update agent position in grid world
   */ async updateAgentPosition(agentId, position) {
        return this.makeRequest(`/${agentId}/position`, {
            method: "POST",
            body: JSON.stringify({
                position
            })
        });
    }
    /**
   * Toggle agent autonomy
   */ async toggleAgentAutonomy(agentId, enabled) {
        return this.makeRequest(`/${agentId}/autonomy`, {
            method: "POST",
            body: JSON.stringify({
                enabled
            })
        });
    }
}
const dashboardApi = new DashboardApi();
const enhancedAgentsApi = new EnhancedAgentsApi();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0aGV3bW9yb25leS9idWlsZHMvRnJlZUFnZW50aWNzL3dlYi9saWIvYXBpL2Rhc2hib2FyZC1hcGkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IGFnZW50c0FwaSwgdHlwZSBBZ2VudCwgdHlwZSBDcmVhdGVBZ2VudFJlcXVlc3QgfSBmcm9tIFwiLi9hZ2VudHMtYXBpXCI7XG5pbXBvcnQgeyBnZXRBcGlLZXlGcm9tU2Vzc2lvbiB9IGZyb20gXCIuLi9zZXNzaW9uLW1hbmFnZW1lbnRcIjtcblxuLy8gUmUtZXhwb3J0IHR5cGVzIHRoYXQgYXJlIG5lZWRlZCBieSBvdGhlciBtb2R1bGVzXG5leHBvcnQgdHlwZSB7IEFnZW50LCBDcmVhdGVBZ2VudFJlcXVlc3QgfSBmcm9tIFwiLi9hZ2VudHMtYXBpXCI7XG5cbi8vIERhc2hib2FyZC1zcGVjaWZpYyBBUEkgdHlwZXNcbmV4cG9ydCBpbnRlcmZhY2UgRGFzaGJvYXJkTWV0cmljcyB7XG4gIHRvdGFsQWdlbnRzOiBudW1iZXI7XG4gIGFjdGl2ZUFnZW50czogbnVtYmVyO1xuICBjb252ZXJzYXRpb25SYXRlOiBudW1iZXI7XG4gIGtub3dsZWRnZURpdmVyc2l0eTogbnVtYmVyO1xuICBjb2FsaXRpb25Db3VudDogbnVtYmVyO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb252ZXJzYXRpb25NZXNzYWdlIHtcbiAgaWQ6IHN0cmluZztcbiAgYWdlbnRJZDogc3RyaW5nO1xuICBhZ2VudE5hbWU6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgdHlwZTogXCJtZXNzYWdlXCIgfCBcInN5c3RlbVwiIHwgXCJhY3Rpb25cIjtcbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnZlcnNhdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHBhcnRpY2lwYW50czogc3RyaW5nW107IC8vIGFnZW50IElEc1xuICBtZXNzYWdlczogQ29udmVyc2F0aW9uTWVzc2FnZVtdO1xuICBzdGF0dXM6IFwiYWN0aXZlXCIgfCBcImNvbXBsZXRlZFwiIHwgXCJwYXVzZWRcIjtcbiAgc3RhcnRlZEF0OiBudW1iZXI7XG4gIGxhc3RBY3Rpdml0eTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN5c3RlbVN0YXR1cyB7XG4gIHN0YXR1czogXCJoZWFsdGh5XCIgfCBcIndhcm5pbmdcIiB8IFwiZXJyb3JcIjtcbiAgdXB0aW1lOiBudW1iZXI7XG4gIG1lbW9yeVVzYWdlOiBudW1iZXI7XG4gIGNwdVVzYWdlOiBudW1iZXI7XG4gIGFjdGl2ZUNvbm5lY3Rpb25zOiBudW1iZXI7XG4gIGxhc3RVcGRhdGU6IG51bWJlcjtcbn1cblxuLy8gRGFzaGJvYXJkIEFQSSBDbGllbnRcbmV4cG9ydCBjbGFzcyBEYXNoYm9hcmRBcGkge1xuICBwcml2YXRlIGJhc2VVcmw6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihiYXNlVXJsOiBzdHJpbmcgPSBcIi9hcGkvcmVzdC9kYXNoYm9hcmRcIikge1xuICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIEFQSSByZXNwb25zZSB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZyBhbmQgYXV0aGVudGljYXRpb25cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlUmVzcG9uc2U8VD4ocmVzcG9uc2U6IFJlc3BvbnNlKTogUHJvbWlzZTxUPiB7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAvLyBSZWRpcmVjdCB0byBsb2dpbiBvciBzaG93IGF1dGggbW9kYWxcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXCIpO1xuICAgIH1cblxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5zdWZmaWNpZW50IHBlcm1pc3Npb25zXCIpO1xuICAgIH1cblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c306ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yRGF0YS5lcnJvciB8fCBlcnJvck1lc3NhZ2U7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gSWYgSlNPTiBwYXJzaW5nIGZhaWxzLCB1c2UgdGhlIGRlZmF1bHQgZXJyb3IgbWVzc2FnZVxuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIEpTT04gcmVzcG9uc2VcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1ha2UgYXV0aGVudGljYXRlZCByZXF1ZXN0IHdpdGggc2Vzc2lvbiBoYW5kbGluZ1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBtYWtlUmVxdWVzdDxUPihcbiAgICBlbmRwb2ludDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IFJlcXVlc3RJbml0ID0ge30sXG4gICk6IFByb21pc2U8VD4ge1xuICAgIGNvbnN0IGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIC4uLihvcHRpb25zLmhlYWRlcnMgYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPiksXG4gICAgfTtcblxuICAgIC8vIFRyeSB0byBnZXQgQVBJIGtleSBmcm9tIHNlc3Npb24gZm9yIGFkZGl0aW9uYWwgYXV0aFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcGlLZXkgPSBhd2FpdCBnZXRBcGlLZXlGcm9tU2Vzc2lvbihcImRhc2hib2FyZFwiKTtcbiAgICAgIGlmIChhcGlLZXkpIHtcbiAgICAgICAgaGVhZGVyc1tcIlgtQVBJLUtleVwiXSA9IGFwaUtleTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gQ29udGludWUgd2l0aG91dCBBUEkga2V5IC0gSldUIHNob3VsZCBoYW5kbGUgYXV0aFxuICAgICAgY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGdldCBBUEkga2V5IGZyb20gc2Vzc2lvbjpcIiwgZXJyb3IpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfSR7ZW5kcG9pbnR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBjcmVkZW50aWFsczogXCJpbmNsdWRlXCIsIC8vIEluY2x1ZGUgY29va2llcyBmb3IgSldUXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5oYW5kbGVSZXNwb25zZTxUPihyZXNwb25zZSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHJlYWwtdGltZSBkYXNoYm9hcmQgbWV0cmljc1xuICAgKi9cbiAgYXN5bmMgZ2V0TWV0cmljcygpOiBQcm9taXNlPERhc2hib2FyZE1ldHJpY3M+IHtcbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdDxEYXNoYm9hcmRNZXRyaWNzPihcIi9tZXRyaWNzXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhY3RpdmUgY29udmVyc2F0aW9uc1xuICAgKi9cbiAgYXN5bmMgZ2V0Q29udmVyc2F0aW9ucygpOiBQcm9taXNlPHsgY29udmVyc2F0aW9uczogQ29udmVyc2F0aW9uW10gfT4ge1xuICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0PHsgY29udmVyc2F0aW9uczogQ29udmVyc2F0aW9uW10gfT4oXG4gICAgICBcIi9jb252ZXJzYXRpb25zXCIsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgc3BlY2lmaWMgY29udmVyc2F0aW9uIGJ5IElEXG4gICAqL1xuICBhc3luYyBnZXRDb252ZXJzYXRpb24oXG4gICAgY29udmVyc2F0aW9uSWQ6IHN0cmluZyxcbiAgKTogUHJvbWlzZTx7IGNvbnZlcnNhdGlvbjogQ29udmVyc2F0aW9uIH0+IHtcbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdDx7IGNvbnZlcnNhdGlvbjogQ29udmVyc2F0aW9uIH0+KFxuICAgICAgYC9jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9YCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IGNvbnZlcnNhdGlvbiBiZXR3ZWVuIGFnZW50c1xuICAgKi9cbiAgYXN5bmMgc3RhcnRDb252ZXJzYXRpb24oXG4gICAgYWdlbnRJZHM6IHN0cmluZ1tdLFxuICAgIHRvcGljPzogc3RyaW5nLFxuICApOiBQcm9taXNlPHsgY29udmVyc2F0aW9uOiBDb252ZXJzYXRpb24gfT4ge1xuICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0PHsgY29udmVyc2F0aW9uOiBDb252ZXJzYXRpb24gfT4oXCIvY29udmVyc2F0aW9uc1wiLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhZ2VudElkcywgdG9waWMgfSksXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRW5kIGNvbnZlcnNhdGlvblxuICAgKi9cbiAgYXN5bmMgZW5kQ29udmVyc2F0aW9uKGNvbnZlcnNhdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbiB9PiB7XG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3Q8eyBzdWNjZXNzOiBib29sZWFuIH0+KFxuICAgICAgYC9jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9L2VuZGAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICB9LFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHN5c3RlbSBzdGF0dXNcbiAgICovXG4gIGFzeW5jIGdldFN5c3RlbVN0YXR1cygpOiBQcm9taXNlPFN5c3RlbVN0YXR1cz4ge1xuICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0PFN5c3RlbVN0YXR1cz4oXCIvc3RhdHVzXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhdXNlL3Jlc3VtZSBzaW11bGF0aW9uXG4gICAqL1xuICBhc3luYyB0b2dnbGVTaW11bGF0aW9uKHJ1bm5pbmc6IGJvb2xlYW4pOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbiB9PiB7XG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3Q8eyBzdWNjZXNzOiBib29sZWFuIH0+KFwiL3NpbXVsYXRpb24vdG9nZ2xlXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHJ1bm5pbmcgfSksXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRXhwb3J0IGRhc2hib2FyZCBzdGF0ZVxuICAgKi9cbiAgYXN5bmMgZXhwb3J0U3RhdGUoKTogUHJvbWlzZTx7IGV4cG9ydFVybDogc3RyaW5nIH0+IHtcbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdDx7IGV4cG9ydFVybDogc3RyaW5nIH0+KFwiL2V4cG9ydFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbXBvcnQgZGFzaGJvYXJkIHN0YXRlXG4gICAqL1xuICBhc3luYyBpbXBvcnRTdGF0ZShzdGF0ZURhdGE6IGFueSk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuIH0+IHtcbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdDx7IHN1Y2Nlc3M6IGJvb2xlYW4gfT4oXCIvaW1wb3J0XCIsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShzdGF0ZURhdGEpLFxuICAgIH0pO1xuICB9XG59XG5cbi8vIEVuaGFuY2VkIEFnZW50cyBBUEkgd2l0aCBhdXRoZW50aWNhdGlvblxuZXhwb3J0IGNsYXNzIEVuaGFuY2VkQWdlbnRzQXBpIHtcbiAgcHJpdmF0ZSBiYXNlVXJsOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoYmFzZVVybDogc3RyaW5nID0gXCIvYXBpL3Jlc3QvYWdlbnRzXCIpIHtcbiAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBBUEkgcmVzcG9uc2Ugd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcgYW5kIGF1dGhlbnRpY2F0aW9uXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGhhbmRsZVJlc3BvbnNlPFQ+KHJlc3BvbnNlOiBSZXNwb25zZSk6IFByb21pc2U8VD4ge1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXV0aGVudGljYXRpb24gcmVxdWlyZWRcIik7XG4gICAgfVxuXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnN1ZmZpY2llbnQgcGVybWlzc2lvbnNcIik7XG4gICAgfVxuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWA7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmVycm9yIHx8IGVycm9yTWVzc2FnZTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvLyBJZiBKU09OIHBhcnNpbmcgZmFpbHMsIHVzZSB0aGUgZGVmYXVsdCBlcnJvciBtZXNzYWdlXG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgSlNPTiByZXNwb25zZVwiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWFrZSBhdXRoZW50aWNhdGVkIHJlcXVlc3Qgd2l0aCBzZXNzaW9uIGhhbmRsaW5nXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIG1ha2VSZXF1ZXN0PFQ+KFxuICAgIGVuZHBvaW50OiBzdHJpbmcsXG4gICAgb3B0aW9uczogUmVxdWVzdEluaXQgPSB7fSxcbiAgKTogUHJvbWlzZTxUPiB7XG4gICAgY29uc3QgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgLi4uKG9wdGlvbnMuaGVhZGVycyBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KSxcbiAgICB9O1xuXG4gICAgLy8gVHJ5IHRvIGdldCBBUEkga2V5IGZyb20gc2Vzc2lvbiBmb3IgYWRkaXRpb25hbCBhdXRoXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFwaUtleSA9IGF3YWl0IGdldEFwaUtleUZyb21TZXNzaW9uKFwiYWdlbnRzXCIpO1xuICAgICAgaWYgKGFwaUtleSkge1xuICAgICAgICBoZWFkZXJzW1wiWC1BUEktS2V5XCJdID0gYXBpS2V5O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBDb250aW51ZSB3aXRob3V0IEFQSSBrZXkgLSBKV1Qgc2hvdWxkIGhhbmRsZSBhdXRoXG4gICAgICBjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZ2V0IEFQSSBrZXkgZnJvbSBzZXNzaW9uOlwiLCBlcnJvcik7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9JHtlbmRwb2ludH1gLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVycyxcbiAgICAgIGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIiwgLy8gSW5jbHVkZSBjb29raWVzIGZvciBKV1RcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLmhhbmRsZVJlc3BvbnNlPFQ+KHJlc3BvbnNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGFnZW50c1xuICAgKi9cbiAgYXN5bmMgZ2V0QWdlbnRzKCk6IFByb21pc2U8eyBhZ2VudHM6IEFnZW50W10gfT4ge1xuICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0PHsgYWdlbnRzOiBBZ2VudFtdIH0+KFwiXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhZ2VudCBieSBJRCB3aXRoIGRldGFpbGVkIGluZm9ybWF0aW9uXG4gICAqL1xuICBhc3luYyBnZXRBZ2VudChhZ2VudElkOiBzdHJpbmcpOiBQcm9taXNlPHsgYWdlbnQ6IEFnZW50IH0+IHtcbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdDx7IGFnZW50OiBBZ2VudCB9PihgLyR7YWdlbnRJZH1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYWdlbnRcbiAgICovXG4gIGFzeW5jIGNyZWF0ZUFnZW50KHJlcXVlc3Q6IENyZWF0ZUFnZW50UmVxdWVzdCk6IFByb21pc2U8eyBhZ2VudDogQWdlbnQgfT4ge1xuICAgIHJldHVybiBhZ2VudHNBcGkuY3JlYXRlQWdlbnQocmVxdWVzdCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFnZW50IGZyb20gdGVtcGxhdGVcbiAgICovXG4gIGFzeW5jIGNyZWF0ZUFnZW50RnJvbVRlbXBsYXRlKFxuICAgIHRlbXBsYXRlQ29uZmlnOiBQYXJhbWV0ZXJzPHR5cGVvZiBhZ2VudHNBcGkuY3JlYXRlQWdlbnRGcm9tVGVtcGxhdGU+WzBdLFxuICApOiBQcm9taXNlPHsgYWdlbnQ6IEFnZW50IH0+IHtcbiAgICByZXR1cm4gYWdlbnRzQXBpLmNyZWF0ZUFnZW50RnJvbVRlbXBsYXRlKHRlbXBsYXRlQ29uZmlnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYWdlbnRcbiAgICovXG4gIGFzeW5jIHVwZGF0ZUFnZW50KFxuICAgIGFnZW50SWQ6IHN0cmluZyxcbiAgICB1cGRhdGVzOiBQYXJ0aWFsPEFnZW50PixcbiAgKTogUHJvbWlzZTx7IGFnZW50OiBBZ2VudCB9PiB7XG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3Q8eyBhZ2VudDogQWdlbnQgfT4oYC8ke2FnZW50SWR9YCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1cGRhdGVzKSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYWdlbnRcbiAgICovXG4gIGFzeW5jIGRlbGV0ZUFnZW50KGFnZW50SWQ6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuIH0+IHtcbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdDx7IHN1Y2Nlc3M6IGJvb2xlYW4gfT4oYC8ke2FnZW50SWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhZ2VudCBwb3NpdGlvbiBpbiBncmlkIHdvcmxkXG4gICAqL1xuICBhc3luYyB1cGRhdGVBZ2VudFBvc2l0aW9uKFxuICAgIGFnZW50SWQ6IHN0cmluZyxcbiAgICBwb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlcjsgej86IG51bWJlciB9LFxuICApOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbiB9PiB7XG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3Q8eyBzdWNjZXNzOiBib29sZWFuIH0+KGAvJHthZ2VudElkfS9wb3NpdGlvbmAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHBvc2l0aW9uIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSBhZ2VudCBhdXRvbm9teVxuICAgKi9cbiAgYXN5bmMgdG9nZ2xlQWdlbnRBdXRvbm9teShcbiAgICBhZ2VudElkOiBzdHJpbmcsXG4gICAgZW5hYmxlZDogYm9vbGVhbixcbiAgKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW4gfT4ge1xuICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0PHsgc3VjY2VzczogYm9vbGVhbiB9PihgLyR7YWdlbnRJZH0vYXV0b25vbXlgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBlbmFibGVkIH0pLFxuICAgIH0pO1xuICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VzXG5leHBvcnQgY29uc3QgZGFzaGJvYXJkQXBpID0gbmV3IERhc2hib2FyZEFwaSgpO1xuZXhwb3J0IGNvbnN0IGVuaGFuY2VkQWdlbnRzQXBpID0gbmV3IEVuaGFuY2VkQWdlbnRzQXBpKCk7XG4iXSwibmFtZXMiOlsiRGFzaGJvYXJkQXBpIiwiRW5oYW5jZWRBZ2VudHNBcGkiLCJkYXNoYm9hcmRBcGkiLCJlbmhhbmNlZEFnZW50c0FwaSIsImNvbnN0cnVjdG9yIiwiYmFzZVVybCIsImhhbmRsZVJlc3BvbnNlIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJFcnJvciIsIm9rIiwiZXJyb3JNZXNzYWdlIiwic3RhdHVzVGV4dCIsImVycm9yRGF0YSIsImpzb24iLCJlcnJvciIsIm1ha2VSZXF1ZXN0IiwiZW5kcG9pbnQiLCJvcHRpb25zIiwiaGVhZGVycyIsImFwaUtleSIsImdldEFwaUtleUZyb21TZXNzaW9uIiwiY29uc29sZSIsIndhcm4iLCJmZXRjaCIsImNyZWRlbnRpYWxzIiwiZ2V0TWV0cmljcyIsImdldENvbnZlcnNhdGlvbnMiLCJnZXRDb252ZXJzYXRpb24iLCJjb252ZXJzYXRpb25JZCIsInN0YXJ0Q29udmVyc2F0aW9uIiwiYWdlbnRJZHMiLCJ0b3BpYyIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZW5kQ29udmVyc2F0aW9uIiwiZ2V0U3lzdGVtU3RhdHVzIiwidG9nZ2xlU2ltdWxhdGlvbiIsInJ1bm5pbmciLCJleHBvcnRTdGF0ZSIsImltcG9ydFN0YXRlIiwic3RhdGVEYXRhIiwiZ2V0QWdlbnRzIiwiZ2V0QWdlbnQiLCJhZ2VudElkIiwiY3JlYXRlQWdlbnQiLCJyZXF1ZXN0IiwiYWdlbnRzQXBpIiwiY3JlYXRlQWdlbnRGcm9tVGVtcGxhdGUiLCJ0ZW1wbGF0ZUNvbmZpZyIsInVwZGF0ZUFnZW50IiwidXBkYXRlcyIsImRlbGV0ZUFnZW50IiwidXBkYXRlQWdlbnRQb3NpdGlvbiIsInBvc2l0aW9uIiwidG9nZ2xlQWdlbnRBdXRvbm9teSIsImVuYWJsZWQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7SUErQ2FBLFlBQVk7ZUFBWkE7O0lBZ0tBQyxpQkFBaUI7ZUFBakJBOztJQXVKQUMsWUFBWTtlQUFaQTs7SUFDQUMsaUJBQWlCO2VBQWpCQTs7OzJCQXJXa0Q7bUNBQzFCO0FBNEM5QixNQUFNSDtJQUdYSSxZQUFZQyxVQUFrQixxQkFBcUIsQ0FBRTtRQUNuRCxJQUFJLENBQUNBLE9BQU8sR0FBR0E7SUFDakI7SUFFQTs7R0FFQyxHQUNELE1BQWNDLGVBQWtCQyxRQUFrQixFQUFjO1FBQzlELElBQUlBLFNBQVNDLE1BQU0sS0FBSyxLQUFLO1lBQzNCLHVDQUF1QztZQUN2QyxNQUFNLElBQUlDLE1BQU07UUFDbEI7UUFFQSxJQUFJRixTQUFTQyxNQUFNLEtBQUssS0FBSztZQUMzQixNQUFNLElBQUlDLE1BQU07UUFDbEI7UUFFQSxJQUFJLENBQUNGLFNBQVNHLEVBQUUsRUFBRTtZQUNoQixJQUFJQyxlQUFlLENBQUMsS0FBSyxFQUFFSixTQUFT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