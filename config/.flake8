[flake8]
# FreeAgentics flake8 configuration
# Aligned with Black formatting and pre-commit setup

# Maximum line length - matches Black configuration
max-line-length = 100

# Error codes to ignore
ignore =
    # E203: whitespace before ':' (conflicts with Black)
    E203,
    # W503: line break before binary operator (conflicts with Black)
    W503,
    # E501: line too long (handled by Black)
    E501,
    # F401: imported but unused (handled by isort and automated fixes)
    F401

# File patterns to exclude
exclude =
    .git,
    __pycache__,
    .pytest_cache,
    .mypy_cache,
    .tox,
    .venv,
    venv,
    build,
    dist,
    *.egg-info,
    .eggs,
    node_modules,
    web/node_modules,
    web/.next,
    web/dist,
    web/build,
    alembic/versions,
    scripts,
    examples,
    benchmarks,
    freeagentics.egg-info

# Files to include in linting
filename = *.py

# Maximum complexity (cyclomatic complexity)
max-complexity = 15

# Docstring conventions
docstring-convention = google

# Per-file ignores for specific patterns
per-file-ignores =
    # Test files can have longer lines and unused imports
    tests/*:E501,F401,F811
    # Migration files generated by alembic
    alembic/versions/*:E501,F401,F811
    # Init files often have unused imports
    __init__.py:F401
    # Demo and example files
    examples/*:E501,F401,F811
    demo*.py:E501,F401,F811
    # Benchmark files
    benchmarks/*:E501,F401,F811
    # Config and setup files
    setup.py:E501,F401
    conftest.py:E501,F401

# Enable additional error codes
select =
    E,  # pycodestyle errors
    W,  # pycodestyle warnings
    F,  # pyflakes
    C,  # mccabe complexity
    B,  # flake8-bugbear
    S,  # flake8-bandit (security)
    I,  # isort
    N,  # pep8-naming

# Flake8-bugbear configuration
# B902: Use of `self` as first argument for staticmethod
# B903: Use of `self` as first argument for classmethod
extend-ignore = B902,B903

# Import order style (matches isort configuration)
import-order-style = google
application-import-names = freeagentics,agents,inference,coalitions,world,api,database,observability,knowledge_graph,auth

# Statistics
statistics = True
count = True
